(function(e){function t(t){for(var i,s,o=t[0],c=t[1],d=t[2],u=0,m=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&m.push(n[s][0]),n[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);l&&l(t);while(m.length)m.shift()();return r.push.apply(r,d||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],i=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(i=!1)}i&&(r.splice(t--,1),e=s(s.s=a[0]))}return e}var i={},n={app:0},r=[];function s(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=i,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(a,i,function(t){return e[t]}.bind(null,i));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var l=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0140":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("md-card",[a("md-card-header",[a("h1",[e._v("OTA Update")])]),a("md-card-content",[a("md-button",{staticClass:"md-accent md-raised",attrs:{disabled:e.progress>=0},on:{click:e.checkForUpdate}},[e._v("Check for Update")]),this.$store.state.latestVersion!==this.$store.state.stats.version?a("div",[e._v("Display out of date")]):this.$store.state.latestVersion!==this.$dashboardVersion?a("div",[e._v("Dashboard out of date")]):a("div",[e._v("Up to date")]),e.progress>=0?a("md-progress-bar",{attrs:{"md-mode":"determinate","md-value":e.progress}}):e._e(),a("form",{staticClass:"md-layout",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("md-radio",{attrs:{value:"firmware",disabled:e.progress>=0},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[e._v("Firmware")]),a("md-radio",{attrs:{value:"filesystem",disabled:e.progress>=0},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[e._v("FileSystem")]),a("md-checkbox",{attrs:{disabled:e.progress>=0},model:{value:e.manual,callback:function(t){e.manual=t},expression:"manual"}},[e._v("Manual")]),e.manual?a("md-field",[a("label",[e._v("Binary")]),a("md-file",{attrs:{accept:".bin,.bin.gz",disabled:e.progress>=0},on:{"md-change":e.onSelect},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1):e._e(),a("md-button",{staticClass:"md-accent md-raised",attrs:{type:"submit",disabled:e.progress>=0}},[e._v("Update")])],1)],1)],1)],1)},n=[],r=(a("8a79"),a("96cf"),a("1da1")),s={name:"OTAUpdate",data:function(){return{selected:"firmware",progress:-1,binary:null,inProgress:!1,file:"",manual:!1}},methods:{onSelect:function(e){this.binary=e[0]},submit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.manual){t.next=9;break}if(e.binary){t.next=4;break}return e.error("Error","A binary file is required"),t.abrupt("return");case 4:if(e.file.endsWith(".bin")||window.confirm("Are you sure you want to proceed? This does not appear to be an update file.")){t.next=6;break}return t.abrupt("return");case 6:e.$axios.post("/beginUpdate").then((function(){var t=new FormData;t.append(e.selected,e.binary),e.progress=0,e.$axios.post("/update",t,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e.onUploadProgress}).then((function(t){e.progress=-1,e.file="",e.info("Success","Successfully updated display")}))["catch"]((function(t){e.progress=-1,e.error("Error","Failed to update display: "+t)}))}))["catch"]((function(t){e.error("Error","Failed to update display: "+t)})),t.next=10;break;case 9:e.$axios.get("");case 10:case"end":return t.stop()}}),t)})))()},retry:function(){this.submit()},onUploadProgress:function(e){this.progress=Math.round(100*e.loaded/e.total)},onCloseAttempt:function(e){this.progress>=0&&(e.preventDefault(),e.returnValue="")}},beforeRouteLeave:function(e,t,a){this.progress<0||window.confirm("Are you really sure you want to leave during an update? This might corrupt the display firmware.")?a():a(!1)},mounted:function(){window.addEventListener("beforeunload",this.onCloseAttempt,!1),this.waitForStats().then()},beforeDestroy:function(){window.removeEventListener("beforeunload",this.onCloseAttempt)}},o=s,c=(a("102f"),a("2877")),d=Object(c["a"])(o,i,n,!1,null,"5d5c9d6e",null);t["a"]=d.exports},"034f":function(e,t,a){"use strict";var i=a("296e"),n=a.n(i);n.a},"0c7c":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("md-card",[a("h1",[e._v("Dashboard")]),a("md-list",[a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Board Name ")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s(e.$store.state.stats["platform"]))])]),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Uptime ")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s(e._f("duration")([this.$store.state.stats["uptime"],"seconds"],"humanize",!1)))])]),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Reset Reason ")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s(e.prettyPrintResetReason))])]),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Firmware Version ")]),a("div",{staticClass:"md-list-item stat-value",style:{color:e.$store.state.latestVersion===e.$store.state.stats["version"]?"#000000":"#ff0000"}},[e._v(" v"+e._s(this.$store.state.stats["version"]))])]),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Dashboard Version ")]),a("div",{staticClass:"md-list-item stat-value",style:{color:e.$store.state.latestVersion===this.$dashboardVersion?"#000000":"#ff0000"}},[e._v(" v"+e._s(e.$dashboardVersion))])]),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Fragmentation ")]),a("div",{staticClass:"md-list-item stat-value",style:{color:this.$store.state.stats["fragmentation"]<50?"#000000":"#ff0000"}},[e._v(" "+e._s(this.$store.state.stats["fragmentation"])+"%")])]),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Free Memory ")]),a("div",{staticClass:"md-list-item stat-value",style:{color:this.$store.state.stats["memoryFree"]>1e4?"#000000":"#ff0000"}},[e._v(" "+e._s(this.$store.state.stats["memoryFree"])+" Bytes")])]),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Transparency Buffer ")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s(this.$store.state.stats["transparencyBuffer"]?"Allocated":"Unallocated"))])]),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Filesystem Usage ")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s((this.$store.state.stats["filesystemUsed"]/1e3).toFixed(1))+" KB ("+e._s((this.$store.state.stats["filesystemUsed"]/this.$store.state.stats["filesystemTotal"]*100).toFixed(2))+"%) ")])]),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Filesystem Size")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s((this.$store.state.stats["filesystemTotal"]/1e6).toFixed(2))+" MB")])]),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Custom Image Limit ")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s(this.$store.state.stats["maxOpenFiles"]-1)+" Images")])]),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Max Image Name Length")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s(this.$store.state.stats["maxPathLength"]-8))])]),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Display Width ")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s(this.$store.state.stats["width"])+" Pixels")])]),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Display Height ")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s(this.$store.state.stats["height"])+" Pixels")])]),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Display Brightness ")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s(this.$store.state.stats["brightness"])+"%")])]),65535!==this.$store.state.stats["brightnessSensor"]?a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Brightness Sensor ")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s(this.$store.state.stats["brightnessSensor"]))])]):e._e(),65535!==this.$store.state.stats["vcc"]?a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Power Supply Voltage ")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s(this.$store.state.stats["vcc"]/1e3)+"V")])]):e._e()],1),a("md-button",{staticClass:"md-raised md-accent",on:{click:e.getStats}},[e._v("Refresh")]),a("md-checkbox",{staticClass:"md-layout-item md-accent",on:{change:e.changeAutoRefresh},model:{value:e.autoRefresh,callback:function(t){e.autoRefresh=t},expression:"autoRefresh"}},[e._v("Auto-Refresh")])],1)],1)},n=[],r=(a("4795"),{name:"Dashboard",data:function(){return{stats:{},autoRefresh:!1,timer:null}},computed:{prettyPrintResetReason:function(){var e=this.$store.state.stats["resetReason"];switch(e){case"Hardware Watchdog":case"Exception":case"Software Watchdog":case"Unknown":return e;default:return"Normal"}}},mounted:function(){this.getStats()},methods:{changeAutoRefresh:function(){this.autoRefresh?this.timer=setInterval(this.getStats,5e3):clearInterval(this.timer)}},beforeDestroy:function(){clearInterval(this.timer)}}),s=r,o=(a("5044"),a("2877")),c=Object(o["a"])(s,i,n,!1,null,"776ef3d5",null);t["a"]=c.exports},"0e6c":function(e,t,a){},1:function(e,t){},"102f":function(e,t,a){"use strict";var i=a("f363"),n=a.n(i);n.a},1765:function(e,t,a){},"192d":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("md-card",[a("md-card-header",[a("div",{staticClass:"md-title"},[e._v(" Editing "),a("i",[e._v(" "+e._s(e._f("remove_P")(e.$route.params.name)))])]),a("div",[a("md-button",{staticClass:"md-accent md-raised",on:{click:function(t){return e.reload(!0)}}},[e._v("Reload")]),a("md-button",{staticClass:"md-accent md-raised",attrs:{disabled:e.$store.state.imageData[e.$route.params.name]&&e.$store.state.imageData[e.$route.params.name].progmem},on:{click:function(t){e.saveConfirm=!0}}},[e._v("Save ")]),a("md-button",{staticClass:"md-accent md-raised",on:{click:function(t){e.saveAsPrompt=!0}}},[e._v("Save As")]),a("md-button",{staticClass:"md-accent md-raised",on:{click:e.clear}},[e._v("Clear")]),a("md-button",{staticClass:"md-accent md-raised",attrs:{disabled:e.$store.state.imageData[e.$route.params.name]&&e.$store.state.imageData[e.$route.params.name].progmem},on:{click:e.editorDeleteImage}},[e._v("Delete ")]),a("md-button",{staticClass:"md-icon-button",on:{click:function(t){e.downloadDialog=!0}}},[a("md-icon",[e._v("save_alt")])],1)],1),a("div",[a("md-button",{staticClass:"md-icon-button",on:{click:e.undo}},[a("md-icon",[e._v("undo")])],1),a("input",{directives:[{name:"model",rawName:"v-model",value:e.color,expression:"color"}],ref:"colorPicker",attrs:{type:"color",hidden:""},domProps:{value:e.color},on:{change:e.changeColor,input:function(t){t.target.composing||(e.color=t.target.value)}}}),a("md-field",{staticClass:"color-field"},[a("label",{style:{color:e.color}},[e._v("Color")]),a("md-input",{staticStyle:{width:"100px"},on:{click:function(t){return e.$refs.colorPicker.click()}},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1),a("div",{staticClass:"palette"},e._l(5,(function(t){return a("div",{staticClass:"color",style:[{"border-color":e.selectedPalette===t?"#17a412":"#6e5226"},{"background-color":e.palette[t-1]}],on:{click:function(a){return e.selectColor(t)},dblclick:function(t){return e.$refs.colorPicker.click()}}})})),0),a("md-button",{staticClass:"md-icon-button",on:{click:e.redo}},[a("md-icon",[e._v("redo")])],1)],1),a("div",[a("md-button",{staticClass:"md-icon-button",on:{click:e.frameBack}},[a("md-icon",[e._v("arrow_back")])],1),a("md-button",{staticClass:"md-icon-button",on:{click:e.frameForward}},[a("md-icon",[e._v("arrow_forward")])],1)],1)]),e.loading?a("div",[e._v(" Loading... "),a("md-progress-spinner",{attrs:{"md-mode":"indeterminate"}})],1):e.missing?a("div",[e._v(" Image not Found ")]):e._e(),a("md-card-content",{staticClass:"canvas"},[a("canvas",{ref:"canvas",attrs:{width:e.canvasWidth,height:e.canvasHeight},on:{click:e.click}})])],1),a("md-dialog",{attrs:{"md-active":e.downloadDialog},on:{"update:mdActive":function(t){e.downloadDialog=t},"update:md-active":function(t){e.downloadDialog=t}}},[a("md-dialog-title",[e._v("Download Image")]),a("div",[a("md-radio",{attrs:{value:0},model:{value:e.downloadType,callback:function(t){e.downloadType=e._n(t)},expression:"downloadType"}},[e._v("Binary File(Current Frame)")]),a("md-radio",{attrs:{value:1},model:{value:e.downloadType,callback:function(t){e.downloadType=e._n(t)},expression:"downloadType"}},[e._v("Binary File(Entire Image)")]),a("md-radio",{attrs:{value:2},model:{value:e.downloadType,callback:function(t){e.downloadType=e._n(t)},expression:"downloadType"}},[e._v("565 Header File")]),a("md-radio",{attrs:{value:3},model:{value:e.downloadType,callback:function(t){e.downloadType=e._n(t)},expression:"downloadType"}},[e._v("Gimp Header File")]),a("md-radio",{attrs:{value:4},model:{value:e.downloadType,callback:function(t){e.downloadType=e._n(t)},expression:"downloadType"}},[e._v("PNG File")]),a("md-radio",{attrs:{value:5},model:{value:e.downloadType,callback:function(t){e.downloadType=e._n(t)},expression:"downloadType"}},[e._v("JPG File")]),a("md-radio",{attrs:{value:6},model:{value:e.downloadType,callback:function(t){e.downloadType=e._n(t)},expression:"downloadType"}},[e._v("BMP File")])],1),a("md-dialog-actions",[a("md-button",{staticClass:"md-accent md-raised",on:{click:function(t){e.downloadDialog=!1}}},[e._v("Cancel")]),a("md-button",{staticClass:"md-accent md-raised",on:{click:e.download}},[e._v("Download")])],1)],1),a("md-dialog-prompt",{attrs:{"md-active":e.saveAsPrompt,"md-title":"Enter name to save as","md-input-maxlength":"30","md-input-placeholder":"Enter image name...","md-confirm-text":"Save","md-cancel-text":"Cancel"},on:{"update:mdActive":function(t){e.saveAsPrompt=t},"update:md-active":function(t){e.saveAsPrompt=t},"md-confirm":e.saveAs},model:{value:e.saveAsName,callback:function(t){e.saveAsName=t},expression:"saveAsName"}}),a("md-dialog-confirm",{attrs:{"md-active":e.saveConfirm,"md-title":"Save Image","md-content":"Are you sure you want to overwrite the existing image?","md-confirm-text":"Save","md-cancel-text":"Cancel"},on:{"update:mdActive":function(t){e.saveConfirm=t},"update:md-active":function(t){e.saveConfirm=t},"md-confirm":function(t){return e.save(e.$route.params.name)}}}),a("md-dialog-alert",{attrs:{"md-active":e.errorAlert,"md-content":e.errorAlertText,"md-confirm-text":"Okay"},on:{"update:mdActive":function(t){e.errorAlert=t},"update:md-active":function(t){e.errorAlert=t}}})],1)},n=[],r=(a("99af"),a("fb6a"),a("ace4"),a("0d03"),a("b0c0"),a("d3b7"),a("25f0"),a("8a79"),a("84c3"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("96cf"),a("1da1")),s={name:"ImageEditor",data:function(){return{missing:!1,loading:!0,pixels:[],palette:["#ff0000","#00ff00","#0000ff","#ffffff","#000000"],selectedPalette:1,color:"#ff0000",tool:0,width:0,height:0,canvasWidth:0,canvasHeight:0,canvas:null,frame:0,frames:1,pixelSize:5,history:[],historyIndex:-1,saveAsPrompt:!1,saveAsName:"",saveConfirm:!1,errorAlert:!1,errorAlertText:"",downloadDialog:!1,downloadType:0}},methods:{editorDeleteImage:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.deleteImage(e.$route.params.name);case 2:return t.next=4,e.$router.push("/images");case 4:case"end":return t.stop()}}),t)})))()},coordsToPixels:function(e,t){return{x:Math.floor((e-1)/(this.pixelSize+1)),y:Math.floor((t-1)/(this.pixelSize+1))}},pixelsToCoords:function(e,t){return{x:1+e*(1+this.pixelSize),y:1+t*(1+this.pixelSize)}},getColorAt:function(e,t){var a=this.pixelsToCoords(e,t),i=this.canvas.getImageData(a.x,a.y,1,1);return this.rgbToHex(i.data[0],i.data[1],i.data[2])},isNewHistorySame:function(e,t){return e.x===t.x&&e.y===t.y&&e.colorOld===t.colorNew},click:function(e){var t=this.coordsToPixels(e.offsetX,e.offsetY),a={x:t.x,y:t.y,colorOld:this.getColorAt(t.x,t.y),colorNew:this.color};this.drawPixel(t.x,t.y,this.color),a.colorOld===this.color||-1!==this.historyIndex&&this.isNewHistorySame(a,this.history[this.historyIndex])||(this.historyIndex++,this.history=this.history.slice(0,this.historyIndex),this.history[this.historyIndex]=a,this.history.length>100&&(this.history.shift(),this.historyIndex--))},undo:function(){if(this.historyIndex>=0){var e=this.history[this.historyIndex];this.drawPixel(e.x,e.y,e.colorOld),this.historyIndex--}},redo:function(){if(this.historyIndex<this.history.length-1){this.historyIndex++;var e=this.history[this.historyIndex];this.drawPixel(e.x,e.y,e.colorNew)}},frameForward:function(){this.frame<this.frames-1&&(this.writePixels(),this.frame++,this.drawImage())},frameBack:function(){this.frame>0&&(this.writePixels(),this.frame--,this.drawImage())},reload:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.getImage(e.$route.params.name);case 3:return e.pixels=e.$store.state.images[e.$route.params.name].slice(0),e.frame=0,e.frames=e.$store.state.imageData[e.$route.params.name].length,e.history=[],e.historyIndex=-1,e.loading=!1,t.next=11,e.drawImage();case 11:case"end":return t.stop()}}),t)})))()},showError:function(e){this.errorAlert=!0,this.errorAlertText=e},saveAs:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(""!==e){a.next=3;break}return t.showError("Invalid image name"),a.abrupt("return");case 3:return a.next=5,t.save(e);case 5:t.saveAsName="";case 6:case"end":return a.stop()}}),a)})))()},formatUint16Color:function(e){for(var t="0x",a=e.toString(16),i=a.length;i<4;i++)t+="0";return t+=a,t},download:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,n,r,s,o,c,d,l,u,m,g,h,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.downloadDialog=!1,e.writePixels(),t.t0=e.downloadType,t.next=0===t.t0?5:1===t.t0?10:2===t.t0||3===t.t0?14:20;break;case 5:for(a=e.$route.params.name,i=new Uint16Array(e.width*e.height),n=0;n<i.length;n++)i[n]=e.pack565Color(e.hexToRgb(e.pixels[e.frame*e.width*e.height+n]));return e.$download(i,"".concat(a,"-").concat(e.width,"-").concat(e.height,"-1.bin")),t.abrupt("break",36);case 10:for(r=new Uint16Array(e.width*e.height*e.frames),s=0;s<r.length;s++)r[s]=e.pack565Color(e.hexToRgb(e.pixels[s]));return e.$download(r,"".concat(e.$route.params.name,"-").concat(e.width,"-").concat(e.height,"-").concat(e.frames,".bin")),t.abrupt("break",36);case 14:if(o="// Image Width: ".concat(e.width," Pixels\n"),o+="// Image Height: ".concat(e.height," Pixels\n")+"// Image Length: ".concat(e.frames," Frames\n")+"\n#include <Arduino.h>\n\n#if defined(__AVR__)\n    #include <avr/pgmspace.h>\n#elif defined(__PIC32MX__)\n    #define PROGMEM\n#elif defined(__arm__)\n    #define PROGMEM\n#endif\n\n",2===e.downloadType){for(o+="uint16_t ".concat(e.$route.params.name,"_image[").concat(e.width*e.height*e.frames,"] = {\n"),c=0;c<e.width*e.height*e.frames;c++)o+=e.formatUint16Color(e.pack565Color(e.hexToRgb(e.pixels[c])))+",",c%16===15&&(o+="\n");o.endsWith("\n")||(o+="\n"),o+="};"}else{for(o+="char *taz_image =\n",d=0;d<e.width*e.height*e.frames;d++)d%16===0&&(o+='\t"'),o+=e.encodeGimpColor(e.pixels[d]),d%16===15&&(o+='"\n');o.endsWith("\n")||(o+='"'),o+=";"}return l=new Blob([o]),e.$download(l,e.$route.params.name+".h"),t.abrupt("break",36);case 20:return u=[e.$jimp.MIME_PNG,e.$jimp.MIME_JPEG,e.$jimp.MIME_BMP][e.downloadType-4],t.next=23,e.$jimp.create(e.width,e.height);case 23:for(m=t.sent,g=0;g<e.height;g++)for(h=0;h<e.width;h++)m.setPixelColor(e.$jimp.cssColorToHex(e.getColorAt(h,g)),h,g);return t.prev=25,t.next=28,m.getBase64Async(u);case 28:f=t.sent,e.$download(f,e.$route.params.name+"."+u.slice(6),u),t.next=35;break;case 32:t.prev=32,t.t1=t["catch"](25),console.error(t.t1);case 35:return t.abrupt("break",36);case 36:case"end":return t.stop()}}),t,null,[[25,32]])})))()},writePixels:function(){for(var e=0;e<this.height;e++)for(var t=0;t<this.width;t++)this.pixels[this.frame*this.width*this.height+e*this.width+t]=this.getColorAt(t,e)},save:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(t.writePixels(),i=new Uint16Array(t.width*t.height*t.frames),n=0;n<i.length;n++)i[n]=t.pack565Color(t.hexToRgb(t.pixels[n]));return a.next=5,t.saveImageBuffer(e,t.$store.state.imageData[t.$route.params.name],i);case 5:case"end":return a.stop()}}),a)})))()},clear:function(){this.history=[],this.historyIndex=-1;for(var e=0;e<this.height;e++)for(var t=0;t<this.width;t++)this.drawPixel(t,e,this.color)},drawPixel:function(e,t,a){this.canvas.fillStyle=a,this.canvas.fillRect(1+(1+this.pixelSize)*e,1+(1+this.pixelSize)*t,this.pixelSize,this.pixelSize)},drawImage:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.width=e.$store.state.imageData[e.$route.params.name].width,e.height=e.$store.state.imageData[e.$route.params.name].height,e.canvasWidth=1+e.width*(e.pixelSize+1),e.canvasHeight=1+e.height*(e.pixelSize+1),t.next=6,e.sleep(1);case 6:for(e.canvas.fillStyle="#000000",e.canvas.clearRect(0,0,e.canvasWidth,e.canvasHeight),a=0;a<e.width;a++)e.canvas.fillRect(a*(e.pixelSize+1),0,1,e.canvasHeight);for(e.canvas.fillRect(e.canvasWidth-1,0,1,e.canvasHeight),i=0;i<e.height;i++)e.canvas.fillRect(0,i*(e.pixelSize+1),e.canvasWidth,1);for(e.canvas.fillRect(0,e.canvasHeight-1,e.canvasWidth,1),n=0;n<e.height;n++)for(r=0;r<e.width;r++)e.drawPixel(r,n,e.pixels[e.frame*e.width*e.height+r+n*e.width]);case 13:case"end":return t.stop()}}),t)})))()},selectColor:function(e){this.color=this.palette[e-1],this.selectedPalette=e},changeColor:function(){this.palette[this.selectedPalette-1]=this.color,this.$forceUpdate()},keyupHandler:function(e){e.ctrlKey&&"KeyZ"===e.code?this.undo():e.ctrlKey&&"KeyY"===e.code&&this.redo()}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.encodeGimpColor(e.decodeGimpImage("-G37")),e.$store.state.imageData.hasOwnProperty(e.$route.params.name)){t.next=4;break}return t.next=4,e.waitForPromiseSuccess(e.getImageData);case 4:if(e.$store.state.imageData.hasOwnProperty(e.$route.params.name)){t.next=8;break}return e.loading=!1,e.missing=!0,t.abrupt("return");case 8:if(e.$store.state.images.hasOwnProperty(e.$route.params.name)){t.next=15;break}return t.next=11,e.getImage(e.$route.params.name);case 11:return t.next=13,e.sleep(500);case 13:t.next=8;break;case 15:return e.canvas=e.$refs["canvas"].getContext("2d"),e.pixels=e.$store.state.images[e.$route.params.name].slice(0),e.frames=e.$store.state.imageData[e.$route.params.name].length,t.next=20,e.drawImage();case 20:document.addEventListener("keyup",e.keyupHandler),e.loading=!1;case 22:case"end":return t.stop()}}),t)})))()},destroyed:function(){document.removeEventListener("keyup",this.keyupHandler)}},o=s,c=(a("3c81"),a("2877")),d=Object(c["a"])(o,i,n,!1,null,"18fee902",null);t["a"]=d.exports},2:function(e,t){},"296e":function(e,t,a){},"2adc":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"display-panel"},[a("md-button",{staticClass:"md-raised md-accent",on:{click:function(t){e.presetDialog=!0}}},[e._v("Load Preset")]),a("md-button",{staticClass:"md-raised md-accent",on:{click:e.confirmReload}},[e._v("Reload Configuration")]),a("md-button",{staticClass:"md-raised md-accent",on:{click:e.confirmSave}},[e._v("Save Configuration")]),a("color-picker",{staticClass:"color-picker",attrs:{label:"Background"},model:{value:e.config.backgroundColor,callback:function(t){e.$set(e.config,"backgroundColor",t)},expression:"config.backgroundColor"}}),a("md-content",{staticClass:"display",style:{width:64*e.pixelSize+"px",height:32*e.pixelSize+"px",backgroundColor:e.cppHexToJs(e.config.backgroundColor)}},e._l(e.config.widgets,(function(t){return t.disabled?e._e():a("widget",{key:e.createUniqueKey(t),attrs:{"pixel-size":e.pixelSize,widget:t},on:{doubletap:function(a){return e.scrollToWidget(t.id)}}})})),1)],1),a("md-content",{staticClass:"md-primary widget-panel"},[a("h1",[e._v("Widgets")]),0===e.config.widgets.length?a("div",[e._v(" Create a Widget to get started ")]):e._e(),a("md-button",{staticClass:"md-raised md-accent",on:{click:function(t){e.addWidgetDialog=!0}}},[e._v("Add Widget")]),a("md-card",{staticClass:"md-accent md-scrollbar widget-panel-widgets",style:{"max-height":e.$isMobile()?null:"490px"},attrs:{id:"widgets"}},e._l(e.config.widgets,(function(t,i){return a("widget-editor",{key:e.createUniqueKey(t),staticClass:"widget-editor",attrs:{id:"widget"+t.id,widget:t},on:{delete:function(t){return e.config.widgets.splice(i,1)},clone:function(a){e.config.widgets.push(e.cloneObject(t))},reorder:function(t){e.config.widgets.sort((function(e,t){return e.id>=t.id?1:-1}))}}})})),1)],1),a("md-dialog",{attrs:{"md-active":e.addWidgetDialog},on:{"update:mdActive":function(t){e.addWidgetDialog=t},"update:md-active":function(t){e.addWidgetDialog=t}}},[a("md-dialog-title",[e._v("Create Widget")]),a("md-field",[a("md-select",{model:{value:e.addWidgetType,callback:function(t){e.addWidgetType=t},expression:"addWidgetType"}},e._l(this.$widgetNames,(function(t,i){return a("md-option",{key:i,attrs:{value:i}},[e._v(" "+e._s(t))])})),1)],1),a("md-dialog-actions",[a("md-button",{staticClass:"md-accent md-raised",on:{click:function(t){e.addWidgetDialog=!1}}},[e._v("Cancel")]),a("md-button",{staticClass:"md-accent md-raised",on:{click:e.createWidget}},[e._v("Create Widget")])],1)],1),a("md-dialog",{attrs:{"md-active":e.presetDialog},on:{"update:mdActive":function(t){e.presetDialog=t},"update:md-active":function(t){e.presetDialog=t}}},[a("md-dialog-title",[e._v("Load Preset")]),a("md-field",[a("md-select",{on:{input:function(t){e.parameters=[]}},model:{value:e.presetName,callback:function(t){e.presetName=t},expression:"presetName"}},e._l(e.presets,(function(t,i){return a("md-option",{key:i,attrs:{value:i}},[e._v(" "+e._s(i))])})),1)],1),e._l(e.presets[e.presetName],(function(t,i){return a("md-field",{key:i},[a("label",[e._v(e._s(t))]),a("md-input",{model:{value:e.parameters[i],callback:function(t){e.$set(e.parameters,i,t)},expression:"parameters[key]"}})],1)})),a("md-dialog-actions",[a("md-button",{staticClass:"md-accent md-raised",on:{click:function(t){e.presetDialog=!1}}},[e._v("Cancel")]),a("md-button",{staticClass:"md-accent md-raised",on:{click:e.confirmLoadPreset}},[e._v("Load Preset")])],1)],2)],1)},n=[],r=(a("99af"),a("96cf"),a("1da1")),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"widget",staticClass:"widget",style:e.widgetStyle},[0===e.widget.type||1===e.widget.type?a("ImagePreview",{attrs:{"pixel-size":e.pixelSize,interval:e.widget.frequency,image:e.widget.content,frame:e.widget.offset||0,frames:e.widget.length,"canvas-height":e.pixelSize*e.widget.height,"canvas-width":e.pixelSize*e.widget.width}}):4===e.widget.type?a("div",{style:{color:e.cppHexToJs(e.widget.colors[0]),fontSize:e.getWidgetMinimumSize(e.widget).height*e.pixelSize+"px"}},[e._v(" "+e._s(e.widget.content)+" ")]):5===e.widget.type||6===e.widget.type?a("div",{style:{fontSize:(e.widget.width<15?20:e.createDefaultWidget(e.widget.type).height*e.pixelSize)+"px"}},[e._v(" API ")]):a("img",{staticClass:"image-pixelated",style:e.iconStyle,attrs:{src:e.widgetIcon,alt:"Widget Icon"}})],1)},o=[],c=(a("caad"),a("2532"),a("9ed7")),d={name:"Widget",components:{ImagePreview:c["a"]},data:function(){return{rawX:0,rawY:0,rawWidth:1,rawHeight:1,selected:0,nonResizeableTypes:[0,1],currentWidget:{},interactable:null,resizing:!1,minimumWidth:1,minimumHeight:1}},computed:{widgetStyle:function(){return{width:"".concat(this.widget.width*this.pixelSize,"px"),height:"".concat(this.widget.height*this.pixelSize,"px"),"z-index":this.widget.id+100,transform:"translate(".concat(this.widget.xOff*this.pixelSize,"px, ").concat(this.widget.yOff*this.pixelSize,"px)"),backgroundColor:this.widget.transparent||3===this.widget.type?null:this.cppHexToJs(this.widget.backgroundColor),outlineWidth:"".concat(3===this.widget.type?0:this.widget.bordered?this.pixelSize:1,"px"),outlineColor:this.widget.bordered?this.cppHexToJs(this.widget.borderColor):"#000000",outlineOffset:"".concat(this.widget.bordered?-this.pixelSize:-1,"px")}},iconStyle:function(){if(3===this.widget.type)return{width:"100%",height:"100%"};var e=this.getWidgetMinimumSize(this.widget);return{width:"".concat(e.width*this.pixelSize,"px"),height:"".concat(e.height*this.pixelSize,"px")}},widgetIcon:function(){switch(this.widget.type){case 3:return"analogClock.png";case 7:return"weatherIcon.png";case 2:return"".concat(this.widget.large?"bigClock":"clock").concat(this.widget.contentType,".png")}}},watch:{widget:{deep:!0,handler:function(e){this.resizing||e.width===this.currentWidget.width&&e.height===this.currentWidget.height&&e.content===this.currentWidget.content&&e.contentType===this.currentWidget.contentType&&e.bordered===this.currentWidget.bordered&&e.large===this.currentWidget.large||(this.interactable.unset(),this.setup(e))}}},methods:{constrainRawValue:function(e,t,a){return Math.min(a,Math.max(t,Math.round(e/this.pixelSize)))},updateCoords:function(){if(this.widget.xOff=this.constrainRawValue(this.rawX,0,this.$store.state.stats.width-1),this.widget.yOff=this.constrainRawValue(this.rawY,0,this.$store.state.stats.height-1),3!==this.widget.type)this.widget.width=this.constrainRawValue(this.rawWidth,1,this.$store.state.stats.width),this.widget.height=this.constrainRawValue(this.rawHeight,1,this.$store.state.stats.height);else{var e=Math.min(this.$store.state.stats.width,this.$store.state.stats.height);this.widget.width=this.constrainRawValue(this.rawWidth,1,e),this.widget.height=this.constrainRawValue(this.rawHeight,1,e),this.widget.height=this.widget.width=Math.max(this.widget.height,this.widget.width)}},resetRawCoords:function(e){this.rawX=e.xOff*this.pixelSize,this.rawY=e.yOff*this.pixelSize,this.rawWidth=this.pixelSize*e.width,this.rawHeight=this.pixelSize*e.height},setup:function(e){var t=this,a=this.getWidgetMinimumSize(e);this.minimumWidth=a.width,this.minimumHeight=a.height,e.width=Math.min(Math.max(e.width,this.minimumWidth),this.$store.state.stats.width),e.height=Math.min(Math.max(e.height,this.minimumHeight),this.$store.state.stats.height),this.currentWidget=this.cloneObject(e),this.resetRawCoords(e),this.interactable=this.$interact(this.$refs.widget),this.interactable.draggable({onmove:function(e){t.rawX+=e.dx,t.rawY+=e.dy,t.updateCoords()},onend:function(){t.resetRawCoords(t.widget)}}),this.nonResizeableTypes.includes(e.type)||this.interactable.resizable({margin:5,modifiers:[this.$interact.modifiers.restrictSize({min:{width:this.minimumWidth*this.pixelSize,height:this.minimumHeight*this.pixelSize},max:{width:64*this.pixelSize,height:32*this.pixelSize}})],edges:{top:!0,left:!0,bottom:!0,right:!0},onstart:function(e){t.resizing=!0},onmove:function(e){t.rawX+=e.deltaRect.left,t.rawY+=e.deltaRect.top,t.rawWidth=e.rect.width,t.rawHeight=e.rect.height,t.updateCoords()},onend:function(e){t.resetRawCoords(t.widget),t.resizing=!1,t.currentWidget=t.cloneObject(t.widget)}}),this.interactable.on("doubletap",(function(e){t.$emit("doubletap")}))}},props:["pixelSize","widget"],mounted:function(){this.setup(this.widget)},beforeDestroy:function(){this.interactable.unset()}},l=d,u=(a("cbb3"),a("2877")),m=Object(u["a"])(l,s,o,!1,null,"540c3e54",null),g=m.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("md-card",[a("h2",{staticClass:"inline"},[e._v(" "+e._s(e.$widgetNames[e.widget.type]))]),a("div",{staticClass:"md-alignment-space-between"},[a("md-checkbox",{model:{value:e.collapsed,callback:function(t){e.collapsed=t},expression:"collapsed"}},[e._v("Collapsed")]),a("md-field",{staticClass:"layer-field field"},[a("label",[e._v("Layer")]),a("md-input",{attrs:{min:0,max:99,type:"number"},on:{change:function(t){return e.$emit("reorder")}},model:{value:e.widget.id,callback:function(t){e.$set(e.widget,"id",e._n(t))},expression:"widget.id"}})],1)],1),e.collapsed?e._e():[4!==e.widget.type&&2!==e.widget.type&&3!==e.widget.type?a("div",[a("md-checkbox",{on:{change:e.changeDynamic},model:{value:e.dynamic,callback:function(t){e.dynamic=t},expression:"dynamic"}},[e._v("Dynamic")]),e.dynamic?a("md-field",{staticClass:"layer-field field"},[a("label",[e._v("Interval(ms)")]),a("md-input",{attrs:{min:1,type:"number"},model:{value:e.widget.frequency,callback:function(t){e.$set(e.widget,"frequency",e._n(t))},expression:"widget.frequency"}})],1):e._e()],1):e._e(),0===e.widget.type||1===e.widget.type?[a("md-field",{staticClass:"image-field field"},[a("label",{staticClass:"label"},[e._v("Image")]),a("md-select",{attrs:{name:"Image"},on:{input:e.changeImage},model:{value:e.widget.content,callback:function(t){e.$set(e.widget,"content",t)},expression:"widget.content"}},e._l(e.$store.state.imageData,(function(t,i){return a("md-option",{key:i,attrs:{value:i}},[e._v(e._s(i)+" ")])})),1)],1),""!==e.widget.content&&e.$store.state.imageData[e.widget.content]?[a("md-checkbox",{model:{value:e.widget.background,callback:function(t){e.$set(e.widget,"background",t)},expression:"widget.background"}},[e._v("Background")]),a("div",[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Image Offset")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.widget.offset,expression:"widget.offset",modifiers:{number:!0}}],attrs:{min:"0",max:e.$store.state.imageData[e.widget.content].length-1,type:"number"},domProps:{value:e.widget.offset},on:{input:[function(t){t.target.composing||e.$set(e.widget,"offset",e._n(t.target.value))},e.constrainLength],blur:function(t){return e.$forceUpdate()}}})]),e.widget.frequency>0?a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Image Length")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.widget.length,expression:"widget.length",modifiers:{number:!0}}],attrs:{min:"1",max:e.$store.state.imageData[e.widget.content].length-e.widget.offset,type:"number"},domProps:{value:e.widget.length},on:{input:function(t){t.target.composing||e.$set(e.widget,"length",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]):e._e()])]:e._e()]:5===e.widget.type||6===e.widget.type?[a("div",[a("md-field",{staticClass:"text-content-field inline"},[a("label",[e._v("API URL")]),a("md-input",{staticClass:"text-content-field",on:{change:e.changeText},model:{value:e.widget.source,callback:function(t){e.$set(e.widget,"source",t)},expression:"widget.source"}})],1)],1),a("md-field",{staticClass:"duration-field field"},[a("label",[e._v("Timeout(ms)")]),a("md-input",{staticClass:"duration-field",attrs:{step:"1000",min:"0",type:"number"},model:{value:e.widget.length,callback:function(t){e.$set(e.widget,"length",e._n(t))},expression:"widget.length"}})],1),5===e.widget.type?[a("md-field",{staticClass:"auth-select field"},[a("label",[e._v("Auth")]),a("md-select",{attrs:{value:e.getAuthType(this.widget.auth),name:"Auth"},on:{input:e.changeAuth}},[a("md-option",{attrs:{value:0}},[e._v(" No Auth ")]),a("md-option",{attrs:{value:1}},[e._v(" Basic Auth ")]),a("md-option",{attrs:{value:2}},[e._v(" Token Auth")])],1)],1),a("md-field",{staticClass:"layer-field field"},[a("label",[e._v("Args")]),a("md-input",{attrs:{min:1,max:10,type:"number"},on:{input:e.changeArgs},model:{value:e.args,callback:function(t){e.args=e._n(t)},expression:"args"}})],1),a("div",e._l(e.widget.args,(function(t,i){return a("md-field",{key:i,staticClass:"get-arg inline"},[a("label",[e._v("Arg "+e._s(i+1))]),a("md-input",{model:{value:e.widget.args[i],callback:function(t){e.$set(e.widget.args,i,t)},expression:"widget.args[key]"}})],1)})),1)]:e._e(),0!==e.widget.auth.length?a("md-field",{staticClass:"text-content-field inline"},[a("label",[e._v(" "+e._s(e.widget.auth.startsWith("Basic")?"username:password":"Token")+" ")]),a("md-input",{staticClass:"text-content-field",on:{input:e.changeAuthContent},model:{value:e.auth,callback:function(t){e.auth=t},expression:"auth"}})],1):e._e()]:4===e.widget.type||6===e.widget.type?[a("md-field",{staticClass:"text-content-field inline"},[a("label",[e._v("Text Content")]),a("md-input",{attrs:{maxlength:e.$store.state.stats.width/(4===e.widget.type?4:6)},on:{change:e.changeText},model:{value:e.widget.content,callback:function(t){e.$set(e.widget,"content",t)},expression:"widget.content"}})],1)]:2===e.widget.type?[a("md-field",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Clock Type")]),a("md-select",{attrs:{name:"Text Mode"},model:{value:e.widget.contentType,callback:function(t){e.$set(e.widget,"contentType",t)},expression:"widget.contentType"}},[a("md-option",{attrs:{value:0}},[e._v(" 24 Hour ")]),a("md-option",{attrs:{value:1}},[e._v(" 12 Hour ")]),a("md-option",{attrs:{value:2}},[e._v(" 12 Hour with Period ")])],1)],1)]:e._e(),2===e.widget.type||4===e.widget.type||5===e.widget.type||6===e.widget.type?[2!==e.widget.type?a("md-field",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Text Mode")]),a("md-select",{attrs:{name:"Text Mode"},model:{value:e.widget.contentType,callback:function(t){e.$set(e.widget,"contentType",t)},expression:"widget.contentType"}},[a("md-option",{attrs:{value:0}},[e._v(" Don't Wrap Text ")]),a("md-option",{attrs:{value:1}},[e._v(" Wrap Every Character ")]),a("md-option",{attrs:{value:2}},[e._v(" Wrap Words ")])],1)],1):e._e(),a("md-checkbox",{model:{value:e.widget.large,callback:function(t){e.$set(e.widget,"large",t)},expression:"widget.large"}},[e._v("Large")])]:e._e(),0!==e.widget.type&&1!==e.widget.type&&3!==e.widget.type?a("div",[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Widget Width")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.widget.width,expression:"widget.width",modifiers:{number:!0}}],attrs:{min:e.getWidgetMinimumSize(e.widget).width,max:e.$store.state.stats.width,type:"number"},domProps:{value:e.widget.width},on:{input:function(t){t.target.composing||e.$set(e.widget,"width",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Widget Height")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.widget.height,expression:"widget.height",modifiers:{number:!0}}],attrs:{min:e.getWidgetMinimumSize(e.widget).height,max:e.$store.state.stats.height,type:"number"},domProps:{value:e.widget.height},on:{input:function(t){t.target.composing||e.$set(e.widget,"height",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]):3===e.widget.type?a("div",[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Widget Diameter")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.widget.width,expression:"widget.width",modifiers:{number:!0}}],attrs:{min:"5",max:e.$store.state.stats.width,type:"number"},domProps:{value:e.widget.width},on:{input:[function(t){t.target.composing||e.$set(e.widget,"width",e._n(t.target.value))},e.changeRadius],blur:function(t){return e.$forceUpdate()}}})])]):e._e(),a("div",[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Widget X")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.widget.xOff,expression:"widget.xOff",modifiers:{number:!0}}],attrs:{min:"0",max:e.$store.state.stats.width-1,type:"number"},domProps:{value:e.widget.xOff},on:{input:function(t){t.target.composing||e.$set(e.widget,"xOff",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Widget Y")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.widget.yOff,expression:"widget.yOff",modifiers:{number:!0}}],attrs:{min:"0",max:e.$store.state.stats.height-1,type:"number"},domProps:{value:e.widget.yOff},on:{input:function(t){t.target.composing||e.$set(e.widget,"yOff",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),0!==e.widget.type&&1!==e.widget.type?[a("md-checkbox",{model:{value:e.widget.transparent,callback:function(t){e.$set(e.widget,"transparent",t)},expression:"widget.transparent"}},[e._v("Transparent")]),a("md-checkbox",{model:{value:e.widget.bordered,callback:function(t){e.$set(e.widget,"bordered",t)},expression:"widget.bordered"}},[e._v("Bordered")])]:e._e(),a("div",[e._l(e.widget.colors,(function(t,i){return a("div",{staticClass:"field"},[a("color-picker",{staticClass:"color-picker",attrs:{label:e.requiredColors(e.widget.type)[i]},model:{value:e.widget.colors[i],callback:function(t){e.$set(e.widget.colors,i,t)},expression:"widget.colors[index]"}})],1)})),e.widget.transparent||0===e.widget.type||1===e.widget.type?e._e():a("div",{staticClass:"field"},[a("color-picker",{staticClass:"color-picker",attrs:{label:"Background"},model:{value:e.widget.backgroundColor,callback:function(t){e.$set(e.widget,"backgroundColor",t)},expression:"widget.backgroundColor"}})],1),e.widget.bordered?a("div",{staticClass:"field"},[a("color-picker",{staticClass:"color-picker",attrs:{label:"Border"},model:{value:e.widget.borderColor,callback:function(t){e.$set(e.widget,"borderColor",t)},expression:"widget.borderColor"}})],1):e._e()],2)],a("div",[a("md-checkbox",{model:{value:e.widget.disabled,callback:function(t){e.$set(e.widget,"disabled",t)},expression:"widget.disabled"}},[e._v("Disabled")]),a("md-button",{staticClass:"md-raised",class:e.deleting?"md-primary":"md-accent",on:{click:e.tryDelete}},[e._v("Delete")]),a("md-button",{staticClass:"md-accent md-raised",on:{click:function(t){return e.$emit("clone")}}},[e._v("Clone")])],1)],2)},f=[],p=(a("2ca0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("input",{ref:"colorPicker",attrs:{input:e.cppHexToJs(e.value),type:"color",hidden:""},on:{input:function(t){e.$emit("input",e.jsHexToCpp(t.target.value))}}}),a("md-field",{staticClass:"color-select"},[a("label",[e._v(" "+e._s(e.label)+" "),a("em",{style:{color:e.cppHexToJs(e.value)}},[e._v("Color")])]),a("md-input",{attrs:{readonly:"",value:e.cppHexToJs(e.value)},on:{click:function(t){return e.$refs.colorPicker.click()}}})],1)],1)}),v=[],b={name:"ColorPicker",props:["value","label"]},w=b,x=(a("ff97"),Object(u["a"])(w,p,v,!1,null,"132fbb58",null)),y=x.exports,_={name:"WidgetEditor",components:{ColorPicker:y},computed:{getAuthContent:function(){return this.widget.auth.startsWith("Basic ")?this.widget.auth.substr(7):this.widget.auth.startsWith("Bearer ")?this.widget.auth.substr(8):""}},methods:{tryDelete:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.deleting){t.next=4;break}e.$emit("delete"),t.next=8;break;case 4:return e.deleting=!0,t.next=7,e.sleep(3e3);case 7:e.deleting=!1;case 8:case"end":return t.stop()}}),t)})))()},getAuthType:function(e){return e.startsWith("Basic ")?1:e.startsWith("Bearer ")?2:0},changeArgs:function(e){this.widget.args.length=e},changeAuthContent:function(e){this.widget.auth.startsWith("Basic ")?this.widget.auth="Basic "+btoa(e):this.widget.auth.startsWith("Bearer ")?this.widget.auth="Bearer "+e:this.widget.auth=""},changeAuth:function(e){switch(this.auth="",e){case 0:this.widget.auth="";break;case 1:this.widget.auth="Basic ";break;case 2:this.widget.auth="Bearer ";break}},changeText:function(){4===this.widget.type&&(this.widget.content=this.widget.content.toUpperCase())},changeBackgroundColor:function(e){this.widget.backgroundColor=this.jsHexToCpp(e)},changeBorderColor:function(e){this.widget.borderColor=this.jsHexToCpp(e.hex)},changeRadius:function(){this.widget.height=this.widget.width},constrainLength:function(){this.widget.length=Math.min(this.$store.state.imageData[this.widget.content].length-this.widget.offset,this.widget.length)},changeDynamic:function(){this.dynamic?0===this.widget.frequency&&(this.widget.frequency=1e3):this.widget.frequency=0},changeImage:function(){this.widget.offset=Math.min(this.widget.length-1,this.widget.offset),this.constrainLength(),this.widget.width=this.$store.state.imageData[this.widget.content].width,this.widget.height=this.$store.state.imageData[this.widget.content].height,this.widget.type=this.$store.state.imageData[this.widget.content].progmem?0:1},requiredColors:function(){return 0===this.widget.type||1===this.widget.type||7===this.widget.type?[]:3===this.widget.type?["Minute","Hour","Marking"]:["Text"]}},mounted:function(){this.dynamic=0!==this.widget.frequency,this.args=this.widget.args.length},data:function(){return{dynamic:!1,auth:"",args:0,collapsed:!1,deleting:!1}},props:["widget"]},C=_,k=(a("36e8"),Object(u["a"])(C,h,f,!1,null,"dafeb644",null)),$=k.exports,S={name:"Display",components:{ColorPicker:y,WidgetEditor:$,Widget:g},data:function(){return{config:{widgets:[],backgroundColor:"#000000"},parameters:[],grid:null,pixelSize:10,addWidgetDialog:!1,addWidgetType:0,presetDialog:!1,presetName:"Black Lives Matter",presets:{"Black Lives Matter":[],"Mario Clock":[],"Youtube Subscriber Count":["Channel ID","Google API Key"]}}},methods:{confirmLoadPreset:function(){var e=this;this.areObjectsEqual(this.$store.state.configuration,this.config)?this.loadPreset():this.confirm((function(){return e.loadPreset()}),(function(){}),"Load Prefab","Are you sure you want to load a display preset? This will erase unsaved changes")},loadPreset:function(){this.config.widgets.length=0;var e=[];switch(this.presetName){case"Black Lives Matter":e=[{width:64,height:32,content:"blm",background:!0,frequency:5e3,length:2}];break;case"Mario Clock":e=[{width:64,height:32,content:"mario",background:!0,length:1},{id:1,type:2,large:!0,xOff:31,yOff:23,width:32,height:9,frequency:100,colors:["0x000000"],transparent:!0}];break;case"Youtube Subscriber Count":e=[{id:2,type:5,source:"https://www.googleapis.com/youtube/v3/channels?part=statistics&id=".concat(this.parameters[0],"&key=").concat(this.parameters[1]),length:15e3,frequency:6e4,borderColor:"0xFF0000",backgroundColor:"0x00FFFF",args:["items","0","statistics","subscriberCount"],colors:["0x00FF00"],width:29,height:5}];break}for(var t in e)this.config.widgets.push(this.bloatWidget(e[t]));this.presetDialog=!1},scrollToWidget:function(e){this.$scrollTo("#widget".concat(e),500,{container:"#widgets",easing:"ease-in",offset:-60,force:!0,cancelable:!0,x:!1,y:!0})},createWidget:function(){this.addWidgetDialog=!1;var e=this.createDefaultWidget(this.addWidgetType),t=0;for(var a in this.config.widgets)t=Math.max(t,this.config.widgets[a].id+1);e.id=t,this.config.widgets.push(e),this.addWidgetType=0},confirmReload:function(){var e=this;this.areObjectsEqual(this.$store.state.configuration,this.config)?this.reload().then():this.confirm((function(){return e.reload().then()}),(function(){}),"Reload Config","Are you sure you want to reload the display configuration? This will erase unsaved changes")},reload:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getConfig();case 2:a=t.sent,a?e.setup():e.error("Error","Failed to reload display configuration.");case 4:case"end":return t.stop()}}),t)})))()},setup:function(){this.config=this.cloneObject(this.$store.state.configuration)},confirmSave:function(){var e=this;this.confirm((function(){return e.save().then()}),(function(){}),"Save Config","Are you sure you want to save the display configuration? This will overwrite the current configuration.")},save:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.saveConfig(e.config);case 2:a=t.sent,a?e.info("Success","Successfully updated display configuration"):e.error("Error","Failed to save display configuration");case 4:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return window.addEventListener("beforeunload",e.onCloseAttempt,!1),t.next=3,e.waitForConfiguration();case 3:return t.next=5,e.waitForStats();case 5:return t.next=7,e.getImageData();case 7:e.refreshImages(!1).then(),e.setup();case 9:case"end":return t.stop()}}),t)})))()},beforeRouteLeave:function(e,t,a){this.areObjectsEqual(this.$store.state.configuration,this.config)?a():this.confirmUnsavedNavigation(a)},beforeDestroy:function(){window.removeEventListener("beforeunload",this.onCloseAttempt)}},I=S,R=(a("cc84"),Object(u["a"])(I,i,n,!1,null,"81a75324",null));t["a"]=R.exports},"2bab":function(e,t,a){},"2ec2":function(e,t,a){"use strict";var i=a("6109"),n=a.n(i);n.a},3079:function(e,t,a){},"36e8":function(e,t,a){"use strict";var i=a("2bab"),n=a.n(i);n.a},"3c81":function(e,t,a){"use strict";var i=a("e715"),n=a.n(i);n.a},"3dfd":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container",attrs:{id:"app"}},[a("link",{attrs:{rel:"stylesheet",href:"//fonts.googleapis.com/css?family=Roboto:400,500,700,400italic|Material+Icons"}}),a("link",{attrs:{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"}}),e.$store.state.backdrop?a("div",{staticClass:"backdrop"}):e._e(),a("vue-snotify"),a("md-app",[a("md-app-toolbar",{staticClass:"md-primary",attrs:{"md-elevation":"0"}},[e.sidebar?e._e():a("md-button",{staticClass:"md-icon-button",on:{click:e.toggleSidebar}},[a("md-icon",[e._v("menu")])],1),a("span",{staticClass:"md-title"},[e._v("ESP LED Matrix Display")])],1),a("md-app-drawer",{attrs:{"md-active":e.sidebar,"md-persistent":e.isMobile?null:"mini"},on:{"update:mdActive":function(t){e.sidebar=t},"update:md-active":function(t){e.sidebar=t}}},[a("md-toolbar",{staticClass:"md-transparent",attrs:{"md-elevation":"0"}},[a("h1",[e._v("LED Matrix Display")]),a("div",{staticClass:"md-toolbar-section-end"},[a("md-button",{staticClass:"md-icon-button md-dense",on:{click:e.toggleSidebar}},[a("md-icon",[e._v("keyboard_arrow_left")])],1)],1)]),a("md-list",[a("md-list-item",{attrs:{to:"/"},on:{click:e.clickSidebar}},[a("md-icon",[e._v("dashboard")]),a("span",{staticClass:"md-list-item-text"},[e._v("Dashboard")])],1),a("md-list-item",{attrs:{to:"/display"},on:{click:e.clickSidebar}},[a("md-icon",[e._v("queue_play_next")]),a("span",{staticClass:"md-list-item-text"},[e._v("Display")])],1),a("md-list-item",{attrs:{to:"/images"},on:{click:e.clickSidebar}},[a("md-icon",[e._v("wallpaper")]),a("span",{staticClass:"md-list-item-text"},[e._v("Images")])],1),a("md-list-item",{attrs:{to:"/controls"},on:{click:e.clickSidebar}},[a("md-icon",[e._v("settings_remote")]),a("span",{staticClass:"md-list-item-text"},[e._v("Controls")])],1),a("md-list-item",{attrs:{to:"/update"},on:{click:e.clickSidebar}},[a("md-icon",[e._v("system_update")]),a("span",{staticClass:"md-list-item-text"},[e._v("Update")])],1),a("md-list-item",{attrs:{to:"/editor"},on:{click:e.clickSidebar}},[a("md-icon",[e._v("edit")]),a("span",{staticClass:"md-list-item-text"},[e._v("Raw Editor")])],1),a("md-list-item",{attrs:{to:"/settings"},on:{click:e.clickSidebar}},[a("md-icon",[e._v("settings")]),a("span",{staticClass:"md-list-item-text"},[e._v("Settings")])],1)],1)],1),a("md-app-content",[a("vue-progress-bar"),a("router-view",{staticClass:"router"})],1)],1)],1)},n=[],r=(a("96cf"),a("1da1")),s={name:"App",mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$Progress.finish(),e.isMobile=e.$isMobile(),t.next=4,e.checkForUpdate();case 4:if(!t.sent){t.next=6;break}e.$snotify.info("A new version of the firmware is available","Update Available",{closeOnClick:!0,timeout:0});case 6:case"end":return t.stop()}}),t)})))()},data:function(){return{sidebar:!1,isMobile:!1}},methods:{clickSidebar:function(){this.isMobile&&(this.sidebar=!1)},toggleSidebar:function(){this.isMobile?this.sidebar=!0:this.sidebar=!this.sidebar}},created:function(){var e=this;this.$Progress.start(),this.$router.beforeEach((function(t,a,i){if(void 0!==t.meta.progress){var n=t.meta.progress;e.$Progress.parseMeta(n)}e.$Progress.start(),i()})),this.$router.afterEach((function(t,a){e.$Progress.finish()}))}},o=s,c=(a("034f"),a("2877")),d=Object(c["a"])(o,i,n,!1,null,null,null);t["a"]=d.exports},5026:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"md-layout md-alignment-space-between-left"},[a("md-button",{staticClass:"md-accent md-raised md-layout-item",on:{click:function(t){return e.refreshImages(!0)}}},[e._v("Refresh")]),a("md-button",{staticClass:"md-accent md-raised md-layout-item",on:{click:function(t){e.createImageDialog=!0}}},[e._v("Create Image")]),a("input",{ref:"importFile",attrs:{type:"file",hidden:""},on:{change:e.onSelectImport}}),a("md-button",{staticClass:"md-accent md-raised md-layout-item",on:{click:function(t){return e.$refs.importFile.click()}}},[e._v("Import Image")])],1),a("div",e._l(this.$store.state.imageData,(function(t,i){return a("md-card",{key:i},[a("md-card-header",{staticClass:"md-title"},[e._v(e._s(i))]),a("md-card-media",[a("image-preview",{attrs:{interval:0,frame:0,frames:1,"progress-bar":!0,"pixel-size":e.pixelSize,image:i,"canvas-height":e.pixelSize*t.height,"canvas-width":e.pixelSize*t.width}})],1),a("md-card-actions",{attrs:{"md-alignment":"space-between"}},[a("md-button",{staticClass:"md-accent md-raised",on:{click:function(t){return e.getImage(i)}}},[e._v("Reload")]),a("md-button",{staticClass:"md-accent md-raised",attrs:{href:"#/edit_image/"+i}},[e._v("Edit")]),a("md-button",{staticClass:"md-accent md-raised",attrs:{disabled:t.progmem},on:{click:function(t){return e.deleteImageClick(i)}}},[e._v("Delete")])],1)],1)})),1),a("md-dialog",{attrs:{"md-active":e.createImageDialog},on:{"update:mdActive":function(t){e.createImageDialog=t},"update:md-active":function(t){e.createImageDialog=t}}},[a("md-dialog-title",[e._v("Create Image")]),a("md-field",{staticClass:"field"},[a("label",[e._v("Image Name")]),a("md-input",{model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Image Width")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.width,expression:"width",modifiers:{number:!0}}],attrs:{min:"1",max:e.displayWidth,type:"number"},domProps:{value:e.width},on:{input:function(t){t.target.composing||(e.width=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Image Height")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.height,expression:"height",modifiers:{number:!0}}],attrs:{min:"1",max:e.displayHeight,type:"number"},domProps:{value:e.height},on:{input:function(t){t.target.composing||(e.height=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Image Frames")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.frames,expression:"frames",modifiers:{number:!0}}],attrs:{min:"1",max:"100",type:"number"},domProps:{value:e.frames},on:{input:function(t){t.target.composing||(e.frames=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),a("md-dialog-actions",[a("md-button",{staticClass:"md-accent md-raised",on:{click:function(t){e.createImageDialog=!1}}},[e._v("Close")]),a("md-button",{staticClass:"md-accent md-raised",on:{click:e.createImage}},[e._v("Create")])],1)],1),a("md-dialog-confirm",{attrs:{"md-active":e.deleteConfirm,"md-title":"Delete Image","md-content":"Are you sure you want to delete "+e.deleteImageName+"?","md-confirm-text":"Delete","md-cancel-text":"Cancel"},on:{"update:mdActive":function(t){e.deleteConfirm=t},"update:md-active":function(t){e.deleteConfirm=t},"md-confirm":e.deleteTheImage}})],1)},n=[],r=(a("cb29"),a("ace4"),a("b0c0"),a("b64b"),a("d3b7"),a("84c3"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("96cf"),a("1da1")),s=a("9ed7"),o={name:"Images",components:{ImagePreview:s["a"]},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.waitForPromiseSuccess(e.getStats);case 2:if(e.width=e.displayWidth=e.$store.state.stats.width,e.height=e.displayHeight=e.$store.state.stats.height,a=0===Object.keys(e.$store.state.images).length,a){t.next=8;break}return t.next=8,e.waitForPromiseSuccess(e.getImageData);case 8:return t.next=10,e.refreshImages(a);case 10:case"end":return t.stop()}}),t)})))()},data:function(){return{deleteConfirm:!1,createImageDialog:!1,deleteImageName:"",displayWidth:64,displayHeight:32,pixelSize:3,frames:1,width:1,height:1,name:"",importFile:null}},methods:{onSelectImport:function(e){this.importFile=e[0]},createImage:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new Uint16Array(e.width*e.height*e.frames).fill(e.pack565Color({r:255,g:0,b:0})),e.createImageDialog=!1,t.next=4,e.saveImageBuffer(e.name,{width:e.width,height:e.height,length:e.frames,type:1},a);case 4:return e.name="",e.width=e.displayWidth,e.height=e.displayHeight,e.frames=1,t.next=10,e.getImageData();case 10:case"end":return t.stop()}}),t)})))()},deleteImageClick:function(e){this.deleteImageName=e,this.deleteConfirm=!0},deleteTheImage:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.deleteImage(e.deleteImageName);case 2:return t.next=4,e.getImageData();case 4:case"end":return t.stop()}}),t)})))()}}},c=o,d=(a("7b66"),a("2877")),l=Object(d["a"])(c,i,n,!1,null,"c732945e",null);t["a"]=l.exports},5044:function(e,t,a){"use strict";var i=a("ee77"),n=a.n(i);n.a},5247:function(e,t,a){"use strict";var i=a("0e6c"),n=a.n(i);n.a},"56d7":function(e,t,a){"use strict";a.r(t),function(e){a.d(t,"store",(function(){return G}));a("4de4"),a("4160"),a("caad"),a("277d"),a("fb6a"),a("ace4"),a("6eba"),a("0d03"),a("b0c0"),a("a9e3"),a("7a82"),a("b64b"),a("d3b7"),a("e25e"),a("ac1f"),a("25f0"),a("2532"),a("5319"),a("84c3"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("159b"),a("ddb0"),a("4795");var i=a("3835"),n=(a("96cf"),a("1da1")),r=a("53ca"),s=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),o=a("3dfd"),c=a("bc3a"),d=a.n(c),l=a("8c4f"),u=a("0c7c"),m=a("0140"),g=a("26b9"),h=a.n(g),f=a("2f62"),p=a("2ead"),v=a.n(p),b=a("23cf"),w=a.n(b),x=a("ba48"),y=a.n(x),_=a("1dce"),C=a.n(_),k=a("43f9"),$=a.n(k),S=(a("51de"),a("d69d"),a("c75a")),I=a("ceb0"),R=a("2adc"),D=a("5026"),T=a("192d"),O=a("f9ea"),P=a("ef21"),A=a.n(P),j=a("aeb1"),W=a.n(j),M=a("5014"),F=a.n(M),z=a("f213"),E=a("f13c");s["default"].use(E),s["default"].use(w.a),s["default"].use(y.a),s["default"].use(C.a),s["default"].use(v.a),s["default"].use(f["a"]),s["default"].use(h.a,{color:"rgb(143, 255, 199)",failedColor:"red",height:"2px",transition:{speed:"0.2s",opacity:"0.6s",termination:300}}),s["default"].use(z["b"],{toast:{position:z["a"].rightTop,animation:{enter:"bounceInDown",exit:"bounceInDown",time:800},timeout:3e3},global:{}}),s["default"].use($.a),s["default"].config.productionTip=!1,s["default"].use(l["a"]),s["default"].prototype.$download=W.a,s["default"].prototype.$jimp=A.a,s["default"].prototype.$interact=F.a,s["default"].prototype.$dashboardVersion=Number("0"),s["default"].prototype.$demoMode=Boolean("true"),s["default"].prototype.$widgetNames=["Built-in Image","Custom Image","Digital Clock","Analog Clock","Text","JSON GET Text","GET Plain-text","Weather Icon"];var U="__unique_key_prop__",B="__key_prefix__"+Date.now()+"_",H=0,N=function(e){return null!==e&&"object"===Object(r["a"])(e)},L=function(e){if(N(e)){if(U in e)return e[U];var t=B+H++;return Object.defineProperty(e,U,{value:t}),t}return e};s["default"].mixin({methods:{createUniqueKey:L,cloneObject:function(e){return JSON.parse(JSON.stringify(e))},isObjectEmpty:function(e){return 0===Object.keys(e).length},areObjectsEqual:function(e,t){var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(var n=0,r=a;n<r.length;n++){var s=r[n],o=e[s],c=t[s],d=N(o)&&N(c);if(d&&!this.areObjectsEqual(o,c)||!d&&o!==c)return!1}return!0},checkForUpdate:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("https://api.github.com/repos/TheLogicMaster/ESP-LED-Matrix-Display/tags");case 3:for(i in t=e.sent,a=0,t.data)a=Math.max(0,Number(t.data[i].name.slice(1)));return G.commit("set",["latestVersion",a]),e.abrupt("return",a>s["default"].prototype.$dashboardVersion);case 10:return e.prev=10,e.t0=e["catch"](0),console.error(e.t0),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))()},sleep:function(e){return new Promise((function(t){return setTimeout(t,e)}))},info:function(e,t){this.$snotify.info(t,e,{closeOnClick:!0})},error:function(e,t){this.$snotify.error(t,e,{closeOnClick:!0,timeout:0})},confirm:function(e,t,a,i){var n=this;this.$snotify.confirm(i,a,{closeOnClick:!1,position:z["a"].centerCenter,buttons:[{text:"Cancel",action:function(e){n.$snotify.remove(e.id),t()},bold:!0},{text:"Yes",action:function(t){n.$snotify.remove(t.id),e()},bold:!0}]}).on("mounted",(function(){return G.commit("set",["backdrop",!0])})).on("destroyed",(function(){return G.commit("set",["backdrop",!1])})).on("hidden",(function(){return G.commit("set",["backdrop",!1])}))},confirmNavigation:function(e,t,a){this.confirm((function(){return e()}),(function(){return e(!1)}),t,a)},confirmUnsavedNavigation:function(e){this.confirmNavigation(e,"Unsaved Changes","Are you sure you want to leave without saving?")},waitForPromiseSuccess:function(e){var t=arguments,a=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var n,r,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:n=t.length>1&&void 0!==t[1]?t[1]:500,r=t.length>2&&void 0!==t[2]?t[2]:0,s=0;case 3:if(!(0===r||s<r)){i.next=13;break}return i.next=6,e();case 6:if(!i.sent){i.next=8;break}return i.abrupt("return",!0);case 8:return s++,i.next=11,a.sleep(n);case 11:i.next=3;break;case 13:return i.abrupt("return",!1);case 14:case"end":return i.stop()}}),i)})))()},waitForConfiguration:function(){var e=arguments,t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=e.length>0&&void 0!==e[0]?e[0]:500;case 1:if(t.isObjectEmpty(G.state.configuration)){a.next=4;break}return a.abrupt("break",10);case 4:return a.next=6,t.getConfig();case 6:return a.next=8,t.sleep(i);case 8:a.next=1;break;case 10:case"end":return a.stop()}}),a)})))()},waitForStats:function(){var e=arguments,t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=e.length>0&&void 0!==e[0]?e[0]:500;case 1:if(t.isObjectEmpty(G.state.stats)){a.next=4;break}return a.abrupt("break",10);case 4:return a.next=6,t.getStats();case 6:return a.next=8,t.sleep(i);case 8:a.next=1;break;case 10:case"end":return a.stop()}}),a)})))()},waitForImageData:function(){var e=arguments,t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=e.length>0&&void 0!==e[0]?e[0]:500;case 1:if(!t.isObjectEmpty(G.state.imageData)){a.next=8;break}return a.next=4,t.getImageData();case 4:return a.next=6,t.sleep(i);case 6:a.next=1;break;case 8:case"end":return a.stop()}}),a)})))()},waitForImage:function(e){var t=arguments,a=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:n=t.length>1&&void 0!==t[1]?t[1]:500;case 1:if(G.state.images.hasOwnProperty(e)){i.next=9;break}if(""!==G.state.loadingImage){i.next=5;break}return i.next=5,a.getImage(e);case 5:return i.next=7,a.sleep(n);case 7:i.next=1;break;case 9:case"end":return i.stop()}}),i)})))()},isCppHexValid:function(e){return/^0x[0-9A-F]{6}$/i.test(e)},isJsHexValid:function(e){return/^#[0-9A-F]{6}$/i.test(e)},jsHexToCpp:function(e){return"0x"+e.slice(1,e.length).toUpperCase()},cppHexToJs:function(e){return null===e||""===e?"#000000":"#"+e.slice(2,e.length).toLowerCase()},rgbToHex:function(e,t,a){return"#"+((1<<24)+(e<<16)+(t<<8)+a).toString(16).slice(1)},hexToRgb:function(e){void 0===e&&(e="#000000");var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},unpack565Color:function(e){return{r:Math.round(255*((63488&e)>>11)/31),g:Math.round(255*((2016&e)>>5)/63),b:Math.round(255*(31&e)/31)}},pack565Color:function(e){return(248&e.r)<<8|(252&e.g)<<3|e.b>>3},decodeGimpImage:function(e){for(var t=[],a=0;a+3<e.length;a+=4)t.push(this.rgbToHex(e.charCodeAt(a)-33<<2|e.charCodeAt(a+1)-33>>4,(e.charCodeAt(a+1)-33&15)<<4|e.charCodeAt(a+2)-33>>2,(e.charCodeAt(a+2)-33&3)<<6|e.charCodeAt(a+3)-33));return t},escapeString:function(e){return(e+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")},toBinary:function(e){return(e>>>0).toString(2)},encodeGimpColor:function(e){var t="",a=this.hexToRgb(e);return t+=String.fromCharCode(33+(a.r>>2)),t+=String.fromCharCode(33+((3&a.r)<<4|(240&a.g)>>4)),t+=String.fromCharCode(33+((15&a.g)<<2|(192&a.b)>>6)),t+=String.fromCharCode(33+(63&a.b)),this.escapeString(t)},getImageData:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/images");case 3:return t=e.sent,G.commit("set",["imageData",t.data]),e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e["catch"](0),console.error(e.t0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},saveImageBuffer:function(e,t,a){return Object(n["a"])(regeneratorRuntime.mark((function i(){var n,r,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!s["default"].prototype.$demoMode){i.next=2;break}return i.abrupt("return",!0);case 2:return n=new FormData,r=new Blob([a],{type:"application/octet-stream"}),o=new File([r],"image.bin"),n.append("image",o),i.prev=6,i.next=9,d.a.post("/uploadImage",n,{headers:{"Content-Type":"multipart/form-data"},params:{name:e,width:t.width,height:t.height,length:t.length,type:1}});case 9:return i.abrupt("return",!0);case 12:return i.prev=12,i.t0=i["catch"](6),console.log(i.t0),i.abrupt("return",!1);case 16:case"end":return i.stop()}}),i,null,[[6,12]])})))()},parseImageData:function(t,a,i){var n=[];if(i)n=this.decodeGimpImage(a);else for(var r=e.from(a,"binary"),s=new Uint16Array(r.buffer,r.byteOffset,r.length/Uint16Array.BYTES_PER_ELEMENT),o=0;o<s.length;o++){var c=this.unpack565Color(s[o]);n[o]=this.rgbToHex(c.r,c.g,c.b)}return n},getImage:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(G.state.imageData[e]){a.next=2;break}return a.abrupt("return",!1);case 2:return G.commit("set",["loadingImage",e]),a.prev=3,a.next=6,d.a.get("/image"+(s["default"].prototype.$demoMode?"/"+e:""),{responseType:2===G.state.imageData[e].type?"text":"arraybuffer",params:{image:e+(G.state.imageData[e].progmem?"_P":"")}});case 6:return i=a.sent,G.commit("setImage",[e,t.parseImageData(e,i.data,2===G.state.imageData[e].type)]),G.commit("set",["loadingImage",""]),a.abrupt("return",!0);case 12:return a.prev=12,a.t0=a["catch"](3),console.error(a.t0),G.commit("set",["loadingImage",""]),a.abrupt("return",!1);case 17:case"end":return a.stop()}}),a,null,[[3,12]])})))()},deleteImage:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!s["default"].prototype.$demoMode){t.next=2;break}return t.abrupt("return",!0);case 2:return t.prev=2,t.next=5,d.a.post("/deleteImage","",{params:{name:e}});case 5:return delete G.state.images[e],delete G.state.imageData[e],t.abrupt("return",!0);case 10:return t.prev=10,t.t0=t["catch"](2),console.log(t.t0),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))()},refreshImages:function(){var e=arguments,t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=e.length>0&&void 0!==e[0]&&e[0],!i){a.next=4;break}return a.next=4,t.getImageData();case 4:n=!0,a.t0=regeneratorRuntime.keys(G.state.imageData);case 6:if((a.t1=a.t0()).done){a.next=16;break}if(r=a.t1.value,i||!(r in G.state.images)){a.next=10;break}return a.abrupt("continue",6);case 10:return a.next=12,t.getImage(r);case 12:if(a.sent){a.next=14;break}n=!1;case 14:a.next=6;break;case 16:return a.abrupt("return",n);case 17:case"end":return a.stop()}}),a)})))()},getWidgetMinimumSize:function(e){var t={};switch(e.type){case 0:case 1:t={width:e.width,height:e.height};break;case 3:t={width:10,height:10};break;case 4:t=0!==e.contentType?{width:e.large?6:4,height:e.large?7:5}:{width:e.content.length*(e.large?6:4),height:e.large?7:5};break;case 2:t={width:2===e.contentType?e.large?42:29:e.large?30:21,height:e.large?7:5};break;case 5:case 6:t={width:e.large?6:4,height:e.large?7:5};break;default:var a=this.createDefaultWidget(e.type);t={width:a.width,height:a.height};break}return e.bordered&&(t.width+=2,t.height+=2),t},getWidgetDefaults:function(){return{id:0,xOff:0,yOff:0,type:0,content:"",source:"",length:0,offset:0,large:!1,frequency:0,background:!1,disabled:!1,bordered:!1,borderColor:"0x000000",backgroundColor:"0x000000",contentType:0,auth:"",args:[],colors:[]}},createDefaultWidget:function(e){var t=this.getWidgetDefaults();switch(t.type=e||0,t.type){case 1:t.content="blm";case 0:t.width=64,t.height=32,t.length=1,t.offset=0,t.background=!0;break;case 2:t.width=21,t.height=5,t.frequency=100,t.colors=["0x00FF00"];break;case 3:t.width=15,t.height=15,t.frequency=100,t.colors=["0xFF0000","0x00FF00","0x0000FF"];break;case 4:t.width=10,t.height=5,t.content="TEXT",t.colors=["0x00FF00"];break;case 5:t.width=29,t.height=5,t.frequency=3e5,t.source="http://httpbin.org/get",t.args=["origin"],t.length=3e3,t.colors=["0x00FF00"];break;case 7:t.width=10,t.height=5,t.frequency=1e3;break;case 6:t.width=29,t.height=5,t.frequency=3e5,t.source="",t.length=3e3,t.colors=["0x00FF00"];break}return t},getStats:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!s["default"].prototype.$demoMode){e.next=3;break}return G.commit("set",["stats",{uptime:3e4,resetReason:"Software/System restart",version:0,fragmentation:15,memoryFree:17920,transparencyBuffer:!0,filesystemUsed:614400,filesystemTotal:207e4,maxOpenFiles:5,maxPathLength:31,width:64,height:32,vcc:65535,brightness:100,brightnessSensor:800}]),e.abrupt("return",!0);case 3:return e.prev=3,e.next=6,d.a.get("/stats");case 6:if(t=e.sent,"string"!==typeof t.data){e.next=10;break}return console.error("Invalid JSON response for getStats: "+t.data),e.abrupt("return",!1);case 10:return G.commit("set",["stats",t.data]),e.abrupt("return",!0);case 14:return e.prev=14,e.t0=e["catch"](3),console.error(e.t0),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[3,14]])})))()},cleanJsonObject:function(e){for(var t in e)e.hasOwnProperty(t)&&(""===e[t]||!1===e[t]||"0x000000"===e[t]||0===e[t]||Array.isArray(e[t])&&0===e[t].length)&&delete e[t]},cleanConfig:function(e){var t=this;return this.cleanJsonObject(e),e.widgets.forEach((function(e){t.cleanJsonObject(e)})),e},bloatWidget:function(e){for(var t=this.getWidgetDefaults(),a=0,i=Object.keys(t);a<i.length;a++){var n=i[a];e[n]=e[n]||t[n]}return e},bloatConfig:function(e){for(var t in e.backgroundColor=e.backgroundColor||"0x000000",e.metric=e.metric||!1,e.timezone=e.timezone||"eastern",e.weatherLocation=e.weatherLocation||"",e.weatherKey=e.weatherKey||"",e.scanPattern=e.scanPattern||0,e.muxPattern=e.muxPattern||0,e.brightnessMode=e.brightnessMode||0,e.brightnessLower=e.brightnessLower||15,e.brightnessUpper=e.brightnessUpper||100,e.brightTime=e.brightTime||"09:00",e.darkTime=e.darkTime||"20:30",e.sensorBright=e.sensorBright||1023,e.sensorDark=e.sensorDark||750,e.fastUpdate=e.fastUpdate||!1,e.latitude=e.latitude||42.39506,e.longitude=e.longitude||-83.3695,e.widgets=e.widgets||[],e.widgets)e.widgets[t]=this.bloatWidget(e.widgets[t]);return e},getConfig:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!s["default"].prototype.$demoMode){t.next=3;break}return G.commit("set",["configuration",e.bloatConfig({widgets:[{width:64,height:32,content:"mario",background:!0,length:1},{id:1,type:2,large:!0,xOff:31,yOff:23,width:32,height:9,colors:["0x000000"],transparent:!0}],backgroundColor:"0x00FFFF"})]),t.abrupt("return",!0);case 3:return t.prev=3,t.next=6,d.a.get("/config");case 6:if(a=t.sent,"string"!==typeof a.data){t.next=10;break}return console.error("Config file was a string: "+a.data),t.abrupt("return",!1);case 10:return G.commit("set",["configuration",e.bloatConfig(e.cloneObject(a.data))]),t.abrupt("return",!0);case 14:return t.prev=14,t.t0=t["catch"](3),console.error(t.t0),t.abrupt("return",!1);case 18:case"end":return t.stop()}}),t,null,[[3,14]])})))()},saveConfig:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!s["default"].prototype.$demoMode){a.next=2;break}return a.abrupt("return",!0);case 2:return a.prev=2,G.commit("set",["configuration",t.cloneObject(e)]),a.next=6,d.a.post("/config",t.cleanConfig(t.cloneObject(e)),{timeout:1e4});case 6:return a.abrupt("return",!0);case 9:return a.prev=9,a.t0=a["catch"](2),console.log(a.t0),a.abrupt("return",!1);case 13:case"end":return a.stop()}}),a,null,[[2,9]])})))()}}}),s["default"].prototype.$axios=d.a;var q=window.location.protocol+"//"+window.location.hostname+window.location.pathname+(""===window.location.port?"":":"+window.location.port);q.includes(":8080")&&(q="http://10.0.0.62:80"),d.a.defaults.baseURL=q,s["default"].filter("capitalize",(function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""}));var G=new f["a"].Store({state:{configuration:{},imageData:{},images:{},loadingImage:"",stats:{},backdrop:!1,latestVersion:0},mutations:{set:function(e,t){var a=Object(i["a"])(t,2),n=a[0],r=a[1];e[n]=r},setImage:function(e,t){var a=Object(i["a"])(t,2),n=a[0],r=a[1];e["images"][n]=r}},actions:{},getters:{}}),V=[{path:"/",redirect:"/dashboard"},{path:"/dashboard",component:u["a"]},{path:"/display",component:R["a"]},{path:"/images",component:D["a"]},{path:"/edit_image/:name",component:T["a"]},{path:"/update",component:m["a"]},{path:"/controls",component:S["a"]},{path:"/editor",component:I["a"]},{path:"/settings",component:O["a"]}],J=new l["a"]({routes:V});new s["default"]({router:J,store:G,render:function(e){return e(o["a"])}}).$mount("#app")}.call(this,a("b639").Buffer)},5777:function(e,t,a){},6109:function(e,t,a){},"7b66":function(e,t,a){"use strict";var i=a("c97d"),n=a.n(i);n.a},"8aca":function(e,t,a){"use strict";var i=a("bd18"),n=a.n(i);n.a},"9ed7":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("canvas",{ref:"canvas",style:{width:e.canvasWidth+"px",height:e.canvasHeight+"px"},attrs:{width:e.canvasWidth,height:e.canvasHeight}})]),e.progressBar&&this.$store.state.loadingImage===e.image?a("div",{staticClass:"progress-bar"},[a("md-progress-bar",{staticClass:"md-accent",attrs:{"md-mode":"indeterminate"}})],1):e._e()])},n=[],r=(a("4795"),a("96cf"),a("1da1")),s={name:"ImagePreview",props:["image","frame","frames","pixelSize","progressBar","interval","canvasHeight","canvasWidth"],data:function(){return{canvas:null,width:64,height:32,drawn:!1,offset:0,timer:null}},watch:{image:function(e){var t=this;e&&0!==e.length&&this.waitForImage(e).then((function(){t.reset(t.$store.state.images[e])}))},frame:function(e){this.handlePropChange()},frames:function(e){this.handlePropChange()},interval:function(e){this.handlePropChange()}},methods:{handlePropChange:function(){var e=this;this.sleep(1).then((function(){e.reset(e.$store.state.images[e.image])}))},reset:function(e){this.timer&&clearInterval(this.timer),this.frames>1&&this.interval>0&&(this.timer=setInterval(this.animate,this.interval)),this.offset=0,this.height=this.$store.state.imageData[this.image].height,this.width=this.$store.state.imageData[this.image].width,this.drawImage(e)},animate:function(){this.offset++,this.offset>this.frames-1&&(this.offset=0),this.drawImage(this.$store.state.images[this.image])},drawImage:function(e){if(e){for(var t=0;t<this.height;t++)for(var a=0;a<this.width;a++)this.canvas.fillStyle=e[(this.frame+this.offset)*this.width*this.height+t*this.width+a],this.canvas.fillRect(a*this.pixelSize,t*this.pixelSize,this.pixelSize,this.pixelSize);this.drawn=!0}else console.warn("No data to draw")}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.canvas=e.$refs["canvas"].getContext("2d"),t.next=3,e.waitForImageData();case 3:if(e.image&&0!==e.image.length){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,e.waitForImage(e.image);case 7:e.reset(e.$store.state.images[e.image]);case 8:case"end":return t.stop()}}),t)})))()},created:function(){var e=this;this.unsubscribe=this.$store.subscribe((function(t,a){"setImage"===t.type&&t.payload[0]===e.image&&e.reset(t.payload[1])}))},beforeDestroy:function(){this.unsubscribe(),clearInterval(this.timer)}},o=s,c=(a("8aca"),a("2877")),d=Object(c["a"])(o,i,n,!1,null,"11f008ce",null);t["a"]=d.exports},ac89:function(e,t,a){},bd18:function(e,t,a){},c75a:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("md-card",[a("h1",[e._v("Controls")]),e._l(e.commands,(function(t,i){return a("md-button",{staticClass:"md-accent md-raised",on:{click:function(t){return e.sendCommand(i)}}},[e._v(e._s(i))])}))],2)],1)},n=[],r={name:"Controls",data:function(){return{commands:{"Send Full Display Refresh":"/fullRefresh","Restart Display":"/restart","Delete all Images":"/deleteAllImages","Reset Display Configuration":"/resetConfiguration","Factory Reset Display":"/factoryReset"}}},methods:{sendCommand:function(e){var t=this;this.confirm((function(){t.$axios.post(t.commands[e]).then((function(e){200!==e.status&&t.error("Error","Failed to send command to display.")}))["catch"]((function(e){t.error("Error","Failed to send command to display: "+e)}))}),(function(){}),"Send Command","Are you sure you want to send command '".concat(e,"'?"))}}},s=r,o=(a("2ec2"),a("2877")),c=Object(o["a"])(s,i,n,!1,null,"362b30d5",null);t["a"]=c.exports},c97d:function(e,t,a){},cbb3:function(e,t,a){"use strict";var i=a("ac89"),n=a.n(i);n.a},cc84:function(e,t,a){"use strict";var i=a("3079"),n=a.n(i);n.a},ceb0:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"md-layout md-alignment-center-center"},[a("md-card",{staticClass:"json-editor md-layout-item"},[a("h1",[e._v("Configuration Editor")]),a("div",{staticClass:"md-layout"},[a("md-button",{staticClass:"md-layout-item md-accent md-raised",on:{click:e.confirmReload}},[e._v("Reload")]),a("md-button",{staticClass:"md-layout-item md-accent md-raised",on:{click:e.confirmSave}},[e._v("Save")]),a("md-checkbox",{staticClass:"md-layout-item md-accent",on:{change:e.changeAutoSave},model:{value:e.autoSave,callback:function(t){e.autoSave=t},expression:"autoSave"}},[e._v("Auto-Save")])],1),a("JsonEditor",{attrs:{options:{confirmText:"Confirm",cancelText:"Cancel"},objData:e.jsonData},model:{value:e.jsonData,callback:function(t){e.jsonData=t},expression:"jsonData"}})],1)],1)},n=[],r=(a("96cf"),a("1da1")),s={name:"Editor",data:function(){return{jsonData:{},autoSave:!1}},watch:{jsonData:function(e){this.autoSave&&this.save(e)}},methods:{changeAutoSave:function(){var e=this;this.autoSave&&this.confirm((function(){return e.save(e.jsonData).then()}),(function(){e.autoSave=!1}),"Auto-Save","Are you sure you want to enable autosaving? This will instantly overwrite the display configuration upon config changes.")},confirmReload:function(){var e=this;this.areObjectsEqual(this.$store.state.configuration,this.jsonData)?this.reload().then():this.confirm((function(){return e.reload().then()}),(function(){}),"Reload Config","Are you sure you want to reload the configuration file? Unsaved changes will be lost.")},confirmSave:function(){var e=this;this.confirm((function(){return e.save(e.jsonData).then()}),(function(){}),"Save Config","Are you sure you want to overwrite the current configuration?")},save:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.saveConfig(e);case 2:case"end":return a.stop()}}),a)})))()},reload:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.autoSave=!1,t.next=3,e.getConfig();case 3:e.jsonData=e.cloneObject(e.$store.state.configuration);case 4:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.reload();case 2:case"end":return t.stop()}}),t)})))()}},o=s,c=(a("dd06"),a("2877")),d=Object(c["a"])(o,i,n,!1,null,"78dc201f",null);t["a"]=d.exports},dd06:function(e,t,a){"use strict";var i=a("1765"),n=a.n(i);n.a},e715:function(e,t,a){},ee77:function(e,t,a){},f363:function(e,t,a){},f9ea:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("md-card",[a("h1",[e._v("Settings")]),a("div",[a("md-button",{staticClass:"md-layout-item md-accent md-raised",on:{click:e.confirmReload}},[e._v("Reload")]),a("md-button",{staticClass:"md-layout-item md-accent md-raised",on:{click:e.confirmSave}},[e._v("Save")])],1),e.config?a("div",{staticClass:"fields"},[a("md-switch",{model:{value:e.config.metric,callback:function(t){e.$set(e.config,"metric",t)},expression:"config.metric"}},[e._v("Metric Units")]),a("md-switch",{model:{value:e.config.fastUpdate,callback:function(t){e.$set(e.config,"fastUpdate",t)},expression:"config.fastUpdate"}},[e._v("Fast Update Display")]),a("md-field",[a("label",[e._v("WeatherMap API Key")]),a("md-input",{model:{value:e.config.weatherKey,callback:function(t){e.$set(e.config,"weatherKey",t)},expression:"config.weatherKey"}})],1),a("md-field",[a("label",[e._v("WeatherMap Location")]),a("md-input",{model:{value:e.config.weatherLocation,callback:function(t){e.$set(e.config,"weatherLocation",t)},expression:"config.weatherLocation"}})],1),a("md-field",[a("label",[e._v("Timezone")]),a("md-select",{model:{value:e.config.timezone,callback:function(t){e.$set(e.config,"timezone",t)},expression:"config.timezone"}},[a("md-option",{attrs:{value:"eastern"}},[e._v("Eastern")]),a("md-option",{attrs:{value:"central"}},[e._v("Central")]),a("md-option",{attrs:{value:"mountain"}},[e._v("Mountain")]),a("md-option",{attrs:{value:"pacific"}},[e._v("Pacific")])],1)],1),a("md-field",[a("label",[e._v("Scan Pattern")]),a("md-select",{model:{value:e.config.scanPattern,callback:function(t){e.$set(e.config,"scanPattern",e._n(t))},expression:"config.scanPattern"}},[a("md-option",{attrs:{value:0}},[e._v("LINE")]),a("md-option",{attrs:{value:1}},[e._v("ZIGZAG")]),a("md-option",{attrs:{value:2}},[e._v("ZZAGG")]),a("md-option",{attrs:{value:3}},[e._v("ZAGGIZ")]),a("md-option",{attrs:{value:4}},[e._v("WZAGZIG")]),a("md-option",{attrs:{value:5}},[e._v("VZAG")]),a("md-option",{attrs:{value:6}},[e._v("ZAGZIG")])],1)],1),a("md-field",[a("label",[e._v("Mux Pattern")]),a("md-select",{model:{value:e.config.muxPattern,callback:function(t){e.$set(e.config,"muxPattern",e._n(t))},expression:"config.muxPattern"}},[a("md-option",{attrs:{value:0}},[e._v("BINARY")]),a("md-option",{attrs:{value:1}},[e._v("STRAIGHT")])],1)],1),a("md-field",[a("label",[e._v("Brightness Mode")]),a("md-select",{model:{value:e.config.brightnessMode,callback:function(t){e.$set(e.config,"brightnessMode",e._n(t))},expression:"config.brightnessMode"}},[a("md-option",{attrs:{value:0}},[e._v("Static")]),a("md-option",{attrs:{value:1}},[e._v("Brightness Sensor")]),a("md-option",{attrs:{value:2}},[e._v("Time of Day")]),a("md-option",{attrs:{value:3}},[e._v("Sunrise")])],1)],1),0!==e.config.brightnessMode?a("div",{staticClass:"input"},[a("label",{staticClass:"label"},[e._v("Lower Brightness")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.brightnessLower,expression:"config.brightnessLower",modifiers:{number:!0}}],staticClass:"slider",attrs:{min:"1",type:"range"},domProps:{value:e.config.brightnessLower},on:{__r:function(t){e.$set(e.config,"brightnessLower",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "+e._s(e.config.brightnessLower)+"% ")]):e._e(),a("div",{staticClass:"input"},[0===e.config.brightnessMode?a("label",{staticClass:"label"},[e._v("Brightness")]):a("label",{staticClass:"label"},[e._v("Upper Brightness")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.brightnessUpper,expression:"config.brightnessUpper",modifiers:{number:!0}}],staticClass:"slider",attrs:{min:"1",type:"range"},domProps:{value:e.config.brightnessUpper},on:{__r:function(t){e.$set(e.config,"brightnessUpper",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "+e._s(e.config.brightnessUpper)+"% ")]),1===e.config.brightnessMode?a("div",[a("md-field",[a("label",[e._v("Max Sensor Brightness")]),a("md-input",{attrs:{max:1023},model:{value:e.config.sensorBright,callback:function(t){e.$set(e.config,"sensorBright",e._n(t))},expression:"config.sensorBright"}})],1),a("md-field",[a("label",[e._v("Min Sensor Brightness")]),a("md-input",{attrs:{min:0},model:{value:e.config.sensorDark,callback:function(t){e.$set(e.config,"sensorDark",e._n(t))},expression:"config.sensorDark"}})],1)],1):e._e(),2===e.config.brightnessMode?a("div",[a("div",{staticClass:"input"},[a("label",{staticClass:"label"},[e._v("Brightening Time")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.config.brightTime,expression:"config.brightTime"}],staticClass:"time",attrs:{type:"time"},domProps:{value:e.config.brightTime},on:{input:function(t){t.target.composing||e.$set(e.config,"brightTime",t.target.value)}}})]),a("div",{staticClass:"input"},[a("label",{staticClass:"label"},[e._v("Dimming Time")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.config.darkTime,expression:"config.darkTime"}],staticClass:"time",attrs:{type:"time"},domProps:{value:e.config.darkTime},on:{input:function(t){t.target.composing||e.$set(e.config,"darkTime",t.target.value)}}})])]):e._e(),3===e.config.brightnessMode?a("div",[a("md-field",[a("label",[e._v("Longitude")]),a("md-input",{model:{value:e.config.longitude,callback:function(t){e.$set(e.config,"longitude",e._n(t))},expression:"config.longitude"}})],1),a("md-field",[a("label",[e._v("Latitude")]),a("md-input",{model:{value:e.config.latitude,callback:function(t){e.$set(e.config,"latitude",e._n(t))},expression:"config.latitude"}})],1)],1):e._e()],1):e._e()])],1)},n=[],r=(a("96cf"),a("1da1")),s={name:"Settings",data:function(){return{config:{}}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.reload();case 2:case"end":return t.stop()}}),t)})))()},methods:{confirmReload:function(){var e=this;this.areObjectsEqual(this.$store.state.configuration,this.config)?this.reload().then():this.confirm((function(){return e.reload().then()}),(function(){}),"Reload Settings","Are you sure you want to reload the settings? This will erase unsaved changes.")},reload:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.waitForPromiseSuccess(e.getConfig,500);case 2:e.config=e.cloneObject(e.$store.state.configuration);case 3:case"end":return t.stop()}}),t)})))()},confirmSave:function(){var e=this;this.confirm((function(){return e.save().then()}),(function(){}),"Save Settings","Are you sure you want to update the display settings? This will overwrite the current settings.")},save:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.saveConfig(e.config);case 2:if(!t.sent){t.next=6;break}e.info("Saved Settings","Successfully updated display settings."),t.next=7;break;case 6:e.error("Error","Failed to update display settings.");case 7:case"end":return t.stop()}}),t)})))()}}},o=s,c=(a("5247"),a("2877")),d=Object(c["a"])(o,i,n,!1,null,"55915ef2",null);t["a"]=d.exports},ff97:function(e,t,a){"use strict";var i=a("5777"),n=a.n(i);n.a}});
//# sourceMappingURL=app.js.map