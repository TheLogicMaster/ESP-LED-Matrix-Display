(function(e){function t(t){for(var i,s,o=t[0],d=t[1],c=t[2],m=0,u=[];m<o.length;m++)s=o[m],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&u.push(n[s][0]),n[s]=0;for(i in d)Object.prototype.hasOwnProperty.call(d,i)&&(e[i]=d[i]);l&&l(t);while(u.length)u.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],i=!0,o=1;o<a.length;o++){var d=a[o];0!==n[d]&&(i=!1)}i&&(r.splice(t--,1),e=s(s.s=a[0]))}return e}var i={},n={app:0},r=[];function s(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=i,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(a,i,function(t){return e[t]}.bind(null,i));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],d=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=d;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0140":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("md-card",[a("md-card-header",[a("h1",[e._v("OTA Update")])]),a("md-card-content",[a("div",{staticClass:"inline-centered"},[a("md-button",{staticClass:"md-accent md-raised",attrs:{disabled:e.progress>=0},on:{click:e.checkForUpdate}},[e._v("Check for Update")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Check GitHub for updates ")])],1),this.$store.state.latestVersion!==this.$store.state.stats.version?a("div",[e._v("Display out of date")]):this.$store.state.latestVersion!==this.$dashboardVersion?a("div",[e._v("Dashboard out of date")]):a("div",[e._v("Up to date")]),e.progress>=0?a("md-progress-bar",{attrs:{"md-mode":"determinate","md-value":e.progress}}):e._e(),a("form",{staticClass:"md-layout",attrs:{novalidate:""},on:{submit:function(t){t.preventDefault(),e.updateDialog=!0}}},[a("div",{staticClass:"inline-centered"},[a("md-radio",{attrs:{value:"firmware",disabled:e.progress>=0},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[e._v("Firmware")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Firmware update mode ")])],1),a("div",{staticClass:"inline-centered"},[a("md-radio",{attrs:{value:"filesystem",disabled:e.progress>=0},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[e._v("Dashboard")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Dashboard update mode ")])],1),a("div",{staticClass:"inline-centered"},[a("md-checkbox",{attrs:{disabled:e.progress>=0},model:{value:e.manual,callback:function(t){e.manual=t},expression:"manual"}},[e._v("Manual")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Manually flash using a binary file ")])],1),e.manual?a("md-field",[a("label",[e._v("Binary")]),a("md-file",{attrs:{accept:".bin,.bin.gz",disabled:e.progress>=0},on:{"md-change":e.onSelect}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" The binary file to flash ")])],1):e._e(),a("div",{staticClass:"inline-centered"},[a("md-button",{staticClass:"md-accent md-raised",attrs:{type:"submit",disabled:e.progress>=0}},[e._v("Update")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Perform software update ")])],1)],1)],1)],1),a("md-dialog",{attrs:{"md-active":e.updateDialog},on:{"update:mdActive":function(t){e.updateDialog=t},"update:md-active":function(t){e.updateDialog=t}}},[a("md-dialog-title",[e._v("Update Display")]),a("md-dialog-content",{staticStyle:{width:"300px"}},[e._v(" Are you sure you want to update the display? The display will be factory reset in the process, so make sure you have saved a backup of the configuration before updating. All custom images and settings will be lost. ")]),a("md-dialog-actions",[a("md-button",{staticClass:"md-accent md-raised",on:{click:function(t){e.updateDialog=!1}}},[e._v("Cancel")]),a("md-button",{staticClass:"md-accent md-raised",on:{click:e.downloadBackup}},[e._v("Download Backup")]),a("md-button",{staticClass:"md-accent md-raised",on:{click:e.update}},[e._v("Update")])],1)],1)],1)},n=[],r=(a("99af"),a("caad"),a("b0c0"),a("8a79"),a("2532"),a("96cf"),a("1da1")),s={name:"OTAUpdate",data:function(){return{selected:"firmware",progress:-1,binary:null,inProgress:!1,manual:!1,updateDialog:!1}},methods:{onSelect:function(e){e.length>0&&(this.binary=e[0])},abortUpdate:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.$axios.get("/abortUpdate").then(),t.abrupt("return",!0);case 5:return t.prev=5,t.t0=t["catch"](0),console.error(t.t0),t.abrupt("return",!1);case 9:case"end":return t.stop()}}),t,null,[[0,5]])})))()},update:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,n,r,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.updateDialog=!1,a=e.binary,!e.manual){t.next=15;break}if(e.binary){t.next=6;break}return e.error("Error","A binary file is required"),t.abrupt("return");case 6:if(t.t0=!e.binary.name.endsWith(".bin"),!t.t0){t.next=11;break}return t.next=10,e.confirm("Update Binary","Are you sure you want to proceed? This does not appear to be an update file");case 10:t.t0=!t.sent;case 11:if(!t.t0){t.next=13;break}return t.abrupt("return");case 13:t.next=53;break;case 15:return t.prev=15,t.next=18,e.waitForPromiseSuccess(e.getStats);case 18:if("firmware"!==e.selected){t.next=28;break}if(t.t1=e.$store.state.latestVersion===e.$store.state.stats.version,!t.t1){t.next=24;break}return t.next=23,e.confirm("Update Firmware","It looks like your firmware is up to date, update anyway?");case 23:t.t1=!t.sent;case 24:if(!t.t1){t.next=26;break}return t.abrupt("return");case 26:t.next=35;break;case 28:if(t.t2=e.$store.state.latestVersion===e.$dashboardVersion,!t.t2){t.next=33;break}return t.next=32,e.confirm("Update Dashboard","It looks like your dashboard is up to date, update anyway?");case 32:t.t2=!t.sent;case 33:if(!t.t2){t.next=35;break}return t.abrupt("return");case 35:return t.next=37,e.$axios.get("https://api.github.com/repos/TheLogicMaster/ESP-LED-Matrix-Display/releases/latest");case 37:for(r in i=t.sent.data.assets,n="",i)("firmware"===e.selected&&i[r].name==="firmware-".concat(e.$store.state.stats.platform,"-").concat(e.$store.state.stats.height,"x").concat(e.$store.state.stats.width,"-v").concat(e.$store.state.latestVersion,".bin")||"firmware"!==e.selected&&i[r].name==="fs-4m-v".concat(e.$store.state.latestVersion,".bin"))&&(n=i[r].url);if(""!==n){t.next=43;break}return e.error("Error","Failed to find binary for board"),t.abrupt("return");case 43:return n="https://cors-anywhere.herokuapp.com/"+n,t.next=46,e.$axios.get(n,{responseType:"blob",headers:{accept:"application/octet-stream"}});case 46:a=t.sent.data,t.next=53;break;case 49:t.prev=49,t.t3=t["catch"](15),e.error("error","Failed to update display"),console.error(t.t3);case 53:return t.prev=53,t.next=56,e.$axios.post("/beginUpdate");case 56:return t.next=58,e.sleep(1e3);case 58:return s=new FormData,s.append(e.selected,a,e.selected),e.progress=0,t.next=63,e.$axios.post("/update",s,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e.onUploadProgress});case 63:if(o=t.sent,e.progress=-1,e.binary=null,!o.data.includes("OK")){t.next=71;break}e.info("Success","Successfully updated display",!0),e.waitForPromiseSuccess(e.getStats).then(),t.next=74;break;case 71:return e.error("Error","Failed to update display: "+o.data),t.next=74,e.waitForPromiseSuccess(e.abortUpdate);case 74:t.next=83;break;case 76:return t.prev=76,t.t4=t["catch"](53),e.error("Error","Failed to update display: "+t.t4),e.progress=-1,console.error(t.t4),t.next=83,e.waitForPromiseSuccess(e.abortUpdate);case 83:case"end":return t.stop()}}),t,null,[[15,49],[53,76]])})))()},onUploadProgress:function(e){this.progress=Math.round(100*e.loaded/e.total)},onCloseAttempt:function(e){this.progress>=0&&(e.preventDefault(),e.returnValue="")}},beforeRouteLeave:function(e,t,a){var i=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=i.progress<0,e.t0){e.next=5;break}return e.next=4,i.confirm("Danger","Are you really sure you want to leave during an update? This might corrupt the display firmware.");case 4:e.t0=e.sent;case 5:if(!e.t0){e.next=9;break}a(),e.next=10;break;case 9:a(!1);case 10:case"end":return e.stop()}}),e)})))()},mounted:function(){window.addEventListener("beforeunload",this.onCloseAttempt,!1),this.waitForStats().then()},beforeDestroy:function(){window.removeEventListener("beforeunload",this.onCloseAttempt)}},o=s,d=(a("a4da"),a("2877")),c=Object(d["a"])(o,i,n,!1,null,"18e31610",null);t["a"]=c.exports},"034f":function(e,t,a){"use strict";var i=a("296e"),n=a.n(i);n.a},"0c7c":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("md-card",[a("h1",[e._v("Dashboard")]),a("div",[a("div",{staticClass:"inline-centered"},[a("md-button",{staticClass:"md-raised md-accent",on:{click:e.getStats}},[e._v("Refresh")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Refresh display stats ")])],1),a("div",{staticClass:"inline-centered"},[a("md-checkbox",{staticClass:"md-layout-item md-accent",on:{change:e.changeAutoRefresh},model:{value:e.autoRefresh,callback:function(t){e.autoRefresh=t},expression:"autoRefresh"}},[a("b",[e._v("Auto-Refresh")])]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Automatically refresh every 5 seconds ")])],1),a("div",{staticClass:"inline-centered"},[a("md-checkbox",{staticClass:"md-layout-item md-accent",model:{value:e.advanced,callback:function(t){e.advanced=t},expression:"advanced"}},[a("b",[e._v("Advanced")])]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Show advanced stats ")])],1)]),a("md-list",[a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Board Name ")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s(e.$store.state.stats["platform"]))])]),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Uptime ")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s(e._f("duration")([this.$store.state.stats["uptime"],"seconds"],"humanize",!1)))])]),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Firmware Version ")]),a("div",{staticClass:"md-list-item stat-value",style:{color:e.$store.state.latestVersion===e.$store.state.stats["version"]?"#000000":"#ff0000"}},[e._v(" v"+e._s(this.$store.state.stats["version"]))])]),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Dashboard Version ")]),a("div",{staticClass:"md-list-item stat-value",style:{color:e.$store.state.latestVersion===this.$dashboardVersion?"#000000":"#ff0000"}},[e._v(" v"+e._s(e.$dashboardVersion))])]),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Free Memory ")]),a("div",{staticClass:"md-list-item stat-value",style:{color:this.$store.state.stats["memoryFree"]>1e4?"#000000":"#ff0000"}},[e._v(" "+e._s(this.$store.state.stats["memoryFree"])+" Bytes")])]),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Filesystem Usage ")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s((this.$store.state.stats["filesystemUsed"]/1e3).toFixed(1))+" KB ("+e._s((this.$store.state.stats["filesystemUsed"]/this.$store.state.stats["filesystemTotal"]*100).toFixed(2))+"%) ")])]),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Display Width ")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s(this.$store.state.stats["width"])+" Pixels")])]),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Display Height ")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s(this.$store.state.stats["height"])+" Pixels")])]),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Display Brightness ")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s(this.$store.state.stats["brightness"])+"%")])]),65535!==this.$store.state.stats["brightnessSensor"]?a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Brightness Sensor ")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s(this.$store.state.stats["brightnessSensor"]))])]):e._e()],1),e.advanced?a("div",[a("h2",[e._v("Advanced")]),a("md-list",[a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Total Memory ")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s(this.$store.state.stats["memoryTotal"])+" Bytes")])]),this.$store.state.stats["lowestMemory"]?a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Lowest Memory ")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s(this.$store.state.stats["lowestMemory"])+" Bytes")])]):e._e(),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Fragmentation ")]),a("div",{staticClass:"md-list-item stat-value",style:{color:this.$store.state.stats["fragmentation"]<50?"#000000":"#ff0000"}},[e._v(" "+e._s(this.$store.state.stats["fragmentation"])+"%")])]),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Reset Reason ")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s(e.prettyPrintResetReason))])]),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" CPU Frequency ")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s(this.$store.state.stats["frequency"])+" MHz")])]),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Transparency Buffer ")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s(this.$store.state.stats["transparencyBuffer"]?"Allocated":"Unallocated"))])]),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Filesystem Size")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s((this.$store.state.stats["filesystemTotal"]/1e6).toFixed(2))+" MB")])]),this.$store.state.stats["maxOpenFiles"]?a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Custom Image Limit ")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s(this.$store.state.stats["maxOpenFiles"]-1)+" Images")])]):e._e(),a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Max Filename Length")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s(this.$store.state.stats["maxPathLength"]))])]),this.$store.state.stats["vcc"]&&65535!==this.$store.state.stats["vcc"]?a("md-list-item",{staticClass:"md-layout md-gutter md-alignment-center-center"},[a("b",{staticClass:"md-list-item stat-name"},[e._v(" Power Supply Voltage ")]),a("div",{staticClass:"md-list-item stat-value"},[e._v(" "+e._s(this.$store.state.stats["vcc"]/1e3)+"V")])]):e._e()],1)],1):e._e()],1)],1)},n=[],r=(a("4795"),{name:"Dashboard",data:function(){return{stats:{},autoRefresh:!1,timer:null,advanced:!1}},computed:{prettyPrintResetReason:function(){var e=this.$store.state.stats["resetReason"];switch(e){case"Hardware Watchdog":case"Exception":case"Software Watchdog":case"Unknown":return e;default:return"Normal"}}},mounted:function(){this.getStats()},methods:{changeAutoRefresh:function(){this.autoRefresh?this.timer=setInterval(this.getStats,5e3):clearInterval(this.timer)}},beforeDestroy:function(){clearInterval(this.timer)}}),s=r,o=(a("4c1e"),a("2877")),d=Object(o["a"])(s,i,n,!1,null,"492d7af5",null);t["a"]=d.exports},"0d60":function(e,t,a){},1:function(e,t){},1393:function(e,t,a){},"192d":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("md-card",[a("md-card-header",[a("div",{staticClass:"md-title"},[e._v(" Editing "),a("i",[e._v(" "+e._s(e.$route.params.name))])]),a("div",[a("div",{staticClass:"inline-centered"},[a("md-button",{staticClass:"md-accent md-raised",on:{click:function(t){return e.reload(!0)}}},[e._v("Reload")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Reload image from display ")])],1),a("div",{staticClass:"inline-centered"},[a("md-button",{staticClass:"md-accent md-raised",attrs:{disabled:e.$store.state.imageData[e.$route.params.name]&&e.$store.state.imageData[e.$route.params.name].progmem},on:{click:function(t){e.saveConfirm=!0}}},[e._v("Save ")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Save image to display ")])],1),a("div",{staticClass:"inline-centered"},[a("md-button",{staticClass:"md-accent md-raised",on:{click:function(t){e.saveAsPrompt=!0}}},[e._v("Save As")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Save image to display as ")])],1),a("div",{staticClass:"inline-centered"},[a("md-button",{staticClass:"md-accent md-raised",on:{click:e.clear}},[e._v("Clear")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Clear the image with a color ")])],1),a("div",{staticClass:"inline-centered"},[a("md-button",{staticClass:"md-accent md-raised",attrs:{disabled:e.$store.state.imageData[e.$route.params.name]&&e.$store.state.imageData[e.$route.params.name].progmem},on:{click:e.editorDeleteImage}},[e._v("Delete ")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Delete image from display ")])],1),a("div",{staticClass:"inline-centered"},[a("md-button",{staticClass:"md-icon-button",on:{click:function(t){e.downloadDialog=!0}}},[a("md-icon",[e._v("save_alt")])],1),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Download image ")])],1),a("div",{staticClass:"inline-centered"},[a("md-button",{staticClass:"md-icon-button",on:{click:function(t){e.uploadDialog=!0}}},[a("md-icon",[e._v("add_box")])],1),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Insert image from file ")])],1)]),a("div",[a("md-button",{staticClass:"md-icon-button",on:{click:e.undo}},[a("md-icon",[e._v("undo")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Undo pixel change ")])],1),a("input",{directives:[{name:"model",rawName:"v-model",value:e.color,expression:"color"}],ref:"colorPicker",attrs:{type:"color",hidden:""},domProps:{value:e.color},on:{change:e.changeColor,input:function(t){t.target.composing||(e.color=t.target.value)}}}),a("md-field",{staticClass:"color-field"},[a("label",{style:{color:e.color}},[e._v("Color")]),a("md-input",{staticStyle:{width:"100px"},on:{click:function(t){return e.$refs.colorPicker.click()}},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Change palette color ")])],1),a("div",{staticClass:"palette"},[e._l(5,(function(t){return a("div",{staticClass:"color",style:[{"border-color":e.selectedPalette===t?"#17a412":"#6e5226"},{"background-color":e.palette[t-1]}],on:{click:function(a){return e.selectColor(t)},dblclick:function(t){return e.$refs.colorPicker.click()}}})})),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Select palette color ")])],2),a("md-button",{staticClass:"md-icon-button",on:{click:e.redo}},[a("md-icon",[e._v("redo")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Redo pixel change ")])],1)],1),a("div",[a("md-button",{staticClass:"md-icon-button",attrs:{disabled:1===e.frames},on:{click:e.deleteFrame}},[a("md-icon",[e._v("clear")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Delete image frame")])],1),a("md-button",{staticClass:"md-icon-button",attrs:{disabled:e.frame<=0},on:{click:e.frameBack}},[a("md-icon",[e._v("arrow_back")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Go back one frame ")])],1),a("b",[e._v(e._s(e.frame+1))]),a("md-button",{staticClass:"md-icon-button",attrs:{disabled:e.frame>=e.frames-1},on:{click:e.frameForward}},[a("md-icon",[e._v("arrow_forward")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Go forward one frame ")])],1),a("md-button",{staticClass:"md-icon-button",on:{click:e.addFrame}},[a("md-icon",[e._v("add")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Add a new frame after current one ")])],1)],1)]),e.loading?a("div",[e._v(" Loading... "),a("md-progress-spinner",{attrs:{"md-mode":"indeterminate"}})],1):e.missing?a("div",[e._v(" Image not Found ")]):e._e(),a("md-card-content",{staticClass:"canvas"},[a("canvas",{ref:"canvas",attrs:{width:e.canvasWidth,height:e.canvasHeight},on:{click:e.click}})])],1),a("md-dialog",{attrs:{"md-active":e.downloadDialog},on:{"update:mdActive":function(t){e.downloadDialog=t},"update:md-active":function(t){e.downloadDialog=t}}},[a("md-dialog-title",[e._v("Download Image")]),a("div",[a("md-radio",{attrs:{value:0},model:{value:e.downloadType,callback:function(t){e.downloadType=e._n(t)},expression:"downloadType"}},[e._v("Binary File(Current Frame)")]),a("md-radio",{attrs:{value:1},model:{value:e.downloadType,callback:function(t){e.downloadType=e._n(t)},expression:"downloadType"}},[e._v("Binary File(Entire Image)")]),a("md-radio",{attrs:{value:2},model:{value:e.downloadType,callback:function(t){e.downloadType=e._n(t)},expression:"downloadType"}},[e._v("565 Header File")]),a("md-radio",{attrs:{value:3},model:{value:e.downloadType,callback:function(t){e.downloadType=e._n(t)},expression:"downloadType"}},[e._v("Gimp Header File")]),a("md-radio",{attrs:{value:4},model:{value:e.downloadType,callback:function(t){e.downloadType=e._n(t)},expression:"downloadType"}},[e._v("PNG File")]),a("md-radio",{attrs:{value:5},model:{value:e.downloadType,callback:function(t){e.downloadType=e._n(t)},expression:"downloadType"}},[e._v("JPG File")]),a("md-radio",{attrs:{value:6},model:{value:e.downloadType,callback:function(t){e.downloadType=e._n(t)},expression:"downloadType"}},[e._v("BMP File")])],1),a("md-dialog-actions",[a("md-button",{staticClass:"md-accent md-raised",on:{click:function(t){e.downloadDialog=!1}}},[e._v("Cancel")]),a("md-button",{staticClass:"md-accent md-raised",on:{click:e.download}},[e._v("Download")])],1)],1),a("md-dialog",{attrs:{"md-active":e.uploadDialog},on:{"update:mdActive":function(t){e.uploadDialog=t},"update:md-active":function(t){e.uploadDialog=t}}},[a("md-dialog-title",[e._v("Insert Image")]),a("md-field",[a("label",[e._v("Image")]),a("md-file",{attrs:{accept:".bin,.jpg,.jpeg,.png"},on:{"md-change":e.onUploadImage}})],1),a("div",[a("md-field",{staticClass:"upload-field"},[a("label",[e._v("Width")]),a("md-input",{attrs:{min:1,max:e.$store.state.stats.width,type:"number"},model:{value:e.uploadWidth,callback:function(t){e.uploadWidth=e._n(t)},expression:"uploadWidth"}})],1),a("md-field",{staticClass:"upload-field"},[a("label",[e._v("Height")]),a("md-input",{attrs:{min:1,max:e.$store.state.stats.height,type:"number"},model:{value:e.uploadHeight,callback:function(t){e.uploadHeight=e._n(t)},expression:"uploadHeight"}})],1)],1),a("div",[a("md-field",{staticClass:"upload-field"},[a("label",[e._v("X Offset")]),a("md-input",{attrs:{min:0,max:e.$store.state.stats.width-1,type:"number"},model:{value:e.uploadX,callback:function(t){e.uploadX=e._n(t)},expression:"uploadX"}})],1),a("md-field",{staticClass:"upload-field"},[a("label",[e._v("Y Offset")]),a("md-input",{attrs:{min:0,max:e.$store.state.stats.height-1,type:"number"},model:{value:e.uploadY,callback:function(t){e.uploadY=e._n(t)},expression:"uploadY"}})],1)],1),e.uploadFrames>0?a("md-field",{staticClass:"upload-field"},[a("label",[e._v("Animation Frame")]),a("md-input",{attrs:{min:1,max:e.uploadFrames,type:"number"},model:{value:e.uploadFrame,callback:function(t){e.uploadFrame=e._n(t)},expression:"uploadFrame"}})],1):e._e(),a("md-dialog-actions",[a("md-button",{staticClass:"md-accent md-raised",on:{click:function(t){e.uploadDialog=!1}}},[e._v("Cancel")]),a("md-button",{staticClass:"md-accent md-raised",on:{click:e.upload}},[e._v("Insert")])],1)],1),a("md-dialog-prompt",{attrs:{"md-active":e.saveAsPrompt,"md-title":"Enter name to save as","md-input-maxlength":this.$store.state.stats["maxPathLength"]-8,"md-input-placeholder":"Enter image name...","md-confirm-text":"Save","md-cancel-text":"Cancel"},on:{"update:mdActive":function(t){e.saveAsPrompt=t},"update:md-active":function(t){e.saveAsPrompt=t},"md-confirm":e.saveAs},model:{value:e.saveAsName,callback:function(t){e.saveAsName=t},expression:"saveAsName"}}),a("md-dialog-confirm",{attrs:{"md-active":e.saveConfirm,"md-title":"Save Image","md-content":"Are you sure you want to overwrite the existing image?","md-confirm-text":"Save","md-cancel-text":"Cancel"},on:{"update:mdActive":function(t){e.saveConfirm=t},"update:md-active":function(t){e.saveConfirm=t},"md-confirm":function(t){return e.save(e.$route.params.name)}}}),a("md-dialog-alert",{attrs:{"md-active":e.errorAlert,"md-content":e.errorAlertText,"md-confirm-text":"Okay"},on:{"update:mdActive":function(t){e.errorAlert=t},"update:md-active":function(t){e.errorAlert=t}}})],1)},n=[],r=(a("99af"),a("cb29"),a("fb6a"),a("a434"),a("ace4"),a("0d03"),a("b0c0"),a("d3b7"),a("25f0"),a("8a79"),a("84c3"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("96cf"),a("1da1")),s={name:"ImageEditor",data:function(){return{missing:!1,loading:!0,pixels:[],palette:["#ff0000","#00ff00","#0000ff","#ffffff","#000000"],selectedPalette:1,color:"#ff0000",tool:0,width:0,height:0,canvasWidth:0,canvasHeight:0,canvas:null,frame:0,frames:1,pixelSize:5,history:[],historyIndex:-1,saveAsPrompt:!1,saveAsName:"",saveConfirm:!1,errorAlert:!1,errorAlertText:"",downloadDialog:!1,downloadType:0,uploadDialog:!1,uploadFile:null,uploadWidth:32,uploadHeight:32,uploadX:0,uploadY:0,uploadFrames:0,uploadFrame:1}},methods:{deleteFrame:function(){this.pixels.splice(this.frame*this.width*this.height,this.width*this.height),this.frames--,this.frame--,this.frame=Math.max(0,this.frame),this.drawImage()},addFrame:function(){var e,t=[];t.length=this.width*this.height,t.fill(this.color,0,this.width*this.height),(e=this.pixels).splice.apply(e,[(this.frame+1)*this.width*this.height,0].concat(t)),this.frames++},onUploadImage:function(e){if(e.length>0&&(this.uploadFile=e[0]),this.uploadFrame=1,this.uploadFile.name.endsWith(".bin")){var t=this.parseBinaryFilename(this.uploadFile.name);this.uploadWidth=t.width,this.uploadHeight=t.height,this.uploadFrames=t.frames}else this.uploadFrames=0,this.uploadWidth=this.width,this.uploadHeight=this.height},upload:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,n,r,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.uploadFile){t.next=2;break}return t.abrupt("return");case 2:if(!e.uploadFile.name.endsWith(".bin")){t.next=23;break}return t.t0=e,t.next=6,e.uploadFile.arrayBuffer();case 6:t.t1=t.sent,a=t.t0.parseImageData.call(t.t0,t.t1),i=0;case 9:if(!(i<e.uploadHeight)){t.next=21;break}n=0;case 11:if(!(n<e.uploadWidth)){t.next=18;break}if(!(n+e.uploadX>=e.$store.state.stats.width||i+e.uploadY>=e.$store.state.stats.height)){t.next=14;break}return t.abrupt("continue",15);case 14:e.drawPixel(n+e.uploadX,i+e.uploadY,a[n+i*e.uploadWidth+e.uploadWidth*e.uploadHeight*(e.uploadFrame-1)]);case 15:n++,t.next=11;break;case 18:i++,t.next=9;break;case 21:t.next=55;break;case 23:return t.t2=e.$jimp,t.next=26,e.uploadFile.arrayBuffer();case 26:return t.t3=t.sent,t.next=29,t.t2.create.call(t.t2,t.t3);case 29:return r=t.sent,t.next=32,r.resize(e.uploadWidth,e.uploadHeight);case 32:s=0;case 33:if(!(s<e.uploadHeight)){t.next=55;break}o=0;case 35:if(!(o<e.uploadWidth)){t.next=52;break}if(!(o+e.uploadX>=e.$store.state.stats.width||s+e.uploadY>=e.$store.state.stats.height)){t.next=38;break}return t.abrupt("continue",49);case 38:return t.t4=e,t.t5=o+e.uploadX,t.t6=s+e.uploadY,t.t7=e,t.t8=e.$jimp,t.next=45,r.getPixelColor(o,s);case 45:t.t9=t.sent,t.t10=t.t8.intToRGBA.call(t.t8,t.t9),t.t11=t.t7.rgbObjectToHex.call(t.t7,t.t10),t.t4.drawPixel.call(t.t4,t.t5,t.t6,t.t11);case 49:o++,t.next=35;break;case 52:s++,t.next=33;break;case 55:e.uploadDialog=!1,e.uploadFrames=0,e.uploadFrame=1;case 58:case"end":return t.stop()}}),t)})))()},editorDeleteImage:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.deleteImage(e.$route.params.name);case 2:return t.next=4,e.$router.push("/images");case 4:case"end":return t.stop()}}),t)})))()},coordsToPixels:function(e,t){return{x:Math.floor((e-1)/(this.pixelSize+1)),y:Math.floor((t-1)/(this.pixelSize+1))}},pixelsToCoords:function(e,t){return{x:1+e*(1+this.pixelSize),y:1+t*(1+this.pixelSize)}},getColorAt:function(e,t){var a=this.pixelsToCoords(e,t),i=this.canvas.getImageData(a.x,a.y,1,1);return this.rgbToHex(i.data[0],i.data[1],i.data[2])},isNewHistorySame:function(e,t){return e.x===t.x&&e.y===t.y&&e.colorOld===t.colorNew},click:function(e){var t=this.coordsToPixels(e.offsetX,e.offsetY),a={x:t.x,y:t.y,colorOld:this.getColorAt(t.x,t.y),colorNew:this.color};this.drawPixel(t.x,t.y,this.color),a.colorOld===this.color||-1!==this.historyIndex&&this.isNewHistorySame(a,this.history[this.historyIndex])||(this.historyIndex++,this.history=this.history.slice(0,this.historyIndex),this.history[this.historyIndex]=a,this.history.length>100&&(this.history.shift(),this.historyIndex--))},undo:function(){if(this.historyIndex>=0){var e=this.history[this.historyIndex];this.drawPixel(e.x,e.y,e.colorOld),this.historyIndex--}},redo:function(){if(this.historyIndex<this.history.length-1){this.historyIndex++;var e=this.history[this.historyIndex];this.drawPixel(e.x,e.y,e.colorNew)}},frameForward:function(){this.frame<this.frames-1&&(this.writePixels(),this.frame++,this.drawImage())},frameBack:function(){this.frame>0&&(this.writePixels(),this.frame--,this.drawImage())},reload:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.getImage(e.$route.params.name);case 3:return e.pixels=e.$store.state.images[e.$route.params.name].slice(0),e.frame=0,e.frames=e.$store.state.imageData[e.$route.params.name].length,e.history=[],e.historyIndex=-1,e.loading=!1,t.next=11,e.drawImage();case 11:case"end":return t.stop()}}),t)})))()},showError:function(e){this.errorAlert=!0,this.errorAlertText=e},saveAs:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(""!==e){a.next=3;break}return t.showError("Invalid image name"),a.abrupt("return");case 3:return a.next=5,t.save(e);case 5:t.saveAsName="";case 6:case"end":return a.stop()}}),a)})))()},formatUint16Color:function(e){for(var t="0x",a=e.toString(16),i=a.length;i<4;i++)t+="0";return t+=a,t},download:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,n,r,s,o,d,c,l,m,u,h,g,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.downloadDialog=!1,e.writePixels(),t.t0=e.downloadType,t.next=0===t.t0?5:1===t.t0?10:2===t.t0||3===t.t0?14:20;break;case 5:for(a=e.$route.params.name,i=new Uint16Array(e.width*e.height),n=0;n<i.length;n++)i[n]=e.pack565Color(e.hexToRgb(e.pixels[e.frame*e.width*e.height+n]));return e.$download(i,"".concat(a,"-").concat(e.width,"-").concat(e.height,"-1.bin")),t.abrupt("break",36);case 10:for(r=new Uint16Array(e.width*e.height*e.frames),s=0;s<r.length;s++)r[s]=e.pack565Color(e.hexToRgb(e.pixels[s]));return e.$download(r,"".concat(e.$route.params.name,"-").concat(e.width,"-").concat(e.height,"-").concat(e.frames,".bin")),t.abrupt("break",36);case 14:if(o="// Image Width: ".concat(e.width," Pixels\n"),o+="// Image Height: ".concat(e.height," Pixels\n")+"// Image Length: ".concat(e.frames," Frames\n")+"\n#include <Arduino.h>\n\n#if defined(__AVR__)\n    #include <avr/pgmspace.h>\n#elif defined(__PIC32MX__)\n    #define PROGMEM\n#elif defined(__arm__)\n    #define PROGMEM\n#endif\n\n",2===e.downloadType){for(o+="uint16_t ".concat(e.$route.params.name,"_image[").concat(e.width*e.height*e.frames,"] = {\n"),d=0;d<e.width*e.height*e.frames;d++)o+=e.formatUint16Color(e.pack565Color(e.hexToRgb(e.pixels[d])))+",",d%16===15&&(o+="\n");o.endsWith("\n")||(o+="\n"),o+="};"}else{for(o+="char *taz_image =\n",c=0;c<e.width*e.height*e.frames;c++)c%16===0&&(o+='\t"'),o+=e.encodeGimpColor(e.pixels[c]),c%16===15&&(o+='"\n');o.endsWith("\n")||(o+='"'),o+=";"}return l=new Blob([o]),e.$download(l,e.$route.params.name+".h"),t.abrupt("break",36);case 20:return m=[e.$jimp.MIME_PNG,e.$jimp.MIME_JPEG,e.$jimp.MIME_BMP][e.downloadType-4],t.next=23,e.$jimp.create(e.width,e.height);case 23:for(u=t.sent,h=0;h<e.height;h++)for(g=0;g<e.width;g++)u.setPixelColor(e.$jimp.cssColorToHex(e.getColorAt(g,h)),g,h);return t.prev=25,t.next=28,u.getBase64Async(m);case 28:f=t.sent,e.$download(f,e.$route.params.name+"."+m.slice(6),m),t.next=35;break;case 32:t.prev=32,t.t1=t["catch"](25),console.error(t.t1);case 35:return t.abrupt("break",36);case 36:case"end":return t.stop()}}),t,null,[[25,32]])})))()},writePixels:function(){for(var e=0;e<this.height;e++)for(var t=0;t<this.width;t++)this.pixels[this.frame*this.width*this.height+e*this.width+t]=this.getColorAt(t,e)},save:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(t.writePixels(),i=new Uint16Array(t.width*t.height*t.frames),n=0;n<i.length;n++)i[n]=t.pack565Color(t.hexToRgb(t.pixels[n]));return r=t.cloneObject(t.$store.state.imageData[t.$route.params.name]),r.length=t.frames,a.next=7,t.saveImageBuffer(e,r,i);case 7:if(!a.sent){a.next=10;break}return a.next=10,t.getImage(t.$route.params.name);case 10:case"end":return a.stop()}}),a)})))()},clear:function(){this.history=[],this.historyIndex=-1;for(var e=0;e<this.height;e++)for(var t=0;t<this.width;t++)this.drawPixel(t,e,this.color)},drawPixel:function(e,t,a){this.canvas.fillStyle=a,this.canvas.fillRect(1+(1+this.pixelSize)*e,1+(1+this.pixelSize)*t,this.pixelSize,this.pixelSize)},drawImage:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.width=e.$store.state.imageData[e.$route.params.name].width,e.height=e.$store.state.imageData[e.$route.params.name].height,e.canvasWidth=1+e.width*(e.pixelSize+1),e.canvasHeight=1+e.height*(e.pixelSize+1),t.next=6,e.sleep(1);case 6:for(e.canvas.fillStyle="#000000",e.canvas.clearRect(0,0,e.canvasWidth,e.canvasHeight),a=0;a<e.width;a++)e.canvas.fillRect(a*(e.pixelSize+1),0,1,e.canvasHeight);for(e.canvas.fillRect(e.canvasWidth-1,0,1,e.canvasHeight),i=0;i<e.height;i++)e.canvas.fillRect(0,i*(e.pixelSize+1),e.canvasWidth,1);for(e.canvas.fillRect(0,e.canvasHeight-1,e.canvasWidth,1),n=0;n<e.height;n++)for(r=0;r<e.width;r++)e.drawPixel(r,n,e.pixels[e.frame*e.width*e.height+r+n*e.width]);case 13:case"end":return t.stop()}}),t)})))()},selectColor:function(e){this.color=this.palette[e-1],this.selectedPalette=e},changeColor:function(){this.palette[this.selectedPalette-1]=this.color,this.$forceUpdate()},keyupHandler:function(e){e.ctrlKey&&"KeyZ"===e.code?this.undo():e.ctrlKey&&"KeyY"===e.code&&this.redo()}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$store.state.imageData.hasOwnProperty(e.$route.params.name)){t.next=3;break}return t.next=3,e.waitForPromiseSuccess(e.getImageData);case 3:if(e.$store.state.imageData.hasOwnProperty(e.$route.params.name)){t.next=7;break}return e.loading=!1,e.missing=!0,t.abrupt("return");case 7:if(e.$store.state.images.hasOwnProperty(e.$route.params.name)){t.next=14;break}return t.next=10,e.getImage(e.$route.params.name);case 10:return t.next=12,e.sleep(500);case 12:t.next=7;break;case 14:return e.canvas=e.$refs["canvas"].getContext("2d"),e.pixels=e.$store.state.images[e.$route.params.name].slice(0),e.frames=e.$store.state.imageData[e.$route.params.name].length,t.next=19,e.drawImage();case 19:document.addEventListener("keyup",e.keyupHandler),e.loading=!1;case 21:case"end":return t.stop()}}),t)})))()},destroyed:function(){document.removeEventListener("keyup",this.keyupHandler)}},o=s,d=(a("a655"),a("2877")),c=Object(d["a"])(o,i,n,!1,null,"028dde1c",null);t["a"]=c.exports},2:function(e,t){},2171:function(e,t,a){},"224a":function(e,t,a){},"296e":function(e,t,a){},"2adc":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"display-panel"},[a("div",{staticClass:"inline-centered"},[a("md-button",{staticClass:"md-raised md-accent",on:{click:function(t){e.presetDialog=!0}}},[e._v("Load Preset")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Load pre-configured display layout")])],1),a("div",{staticClass:"inline-centered"},[a("md-button",{staticClass:"md-raised md-accent",on:{click:e.reload}},[e._v("Reload Configuration")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Reload display configuration")])],1),a("div",{staticClass:"inline-centered"},[a("md-button",{staticClass:"md-raised md-accent",on:{click:e.save}},[e._v("Save Configuration")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Save display configuration")])],1),a("div",[a("color-picker",{staticClass:"color-picker",attrs:{label:"Background"},model:{value:e.config.backgroundColor,callback:function(t){e.$set(e.config,"backgroundColor",t)},expression:"config.backgroundColor"}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" The display background color ")])],1),a("md-content",{staticClass:"display",style:{width:e.$store.state.stats.width*e.pixelSize+"px",height:e.$store.state.stats.height*e.pixelSize+"px",backgroundColor:e.cppHexToJs(e.config.backgroundColor)}},e._l(e.config.widgets,(function(t){return t.disabled?e._e():a("widget",{key:e.createUniqueKey(t),attrs:{"pixel-size":e.pixelSize,widget:t},on:{doubletap:function(a){return e.scrollToWidget(t.id)}}})})),1)],1),a("md-content",{staticClass:"md-primary widget-panel"},[a("h1",[e._v("Widgets")]),0===e.config.widgets.length?a("div",[e._v(" Create a Widget to get started ")]):e._e(),a("div",[a("md-button",{staticClass:"md-raised md-accent",on:{click:function(t){e.addWidgetDialog=!0}}},[e._v("Add Widget")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" Add a new widget to the display")])],1),a("md-card",{staticClass:"md-accent md-scrollbar widget-panel-widgets",style:{"max-height":e.$isMobile()?null:Math.max(e.$store.state.stats.height*e.pixelSize+15,490)+"px"},attrs:{id:"widgets"}},e._l(e.config.widgets,(function(t,i){return a("widget-editor",{key:e.createUniqueKey(t),staticClass:"widget-editor",attrs:{id:"widget"+t.id,widget:t},on:{delete:function(t){return e.config.widgets.splice(i,1)},clone:function(a){e.config.widgets.push(e.cloneObject(t))},reorder:function(t){e.config.widgets.sort((function(e,t){return e.id>=t.id?1:-1}))}}})})),1)],1),a("md-dialog",{attrs:{"md-active":e.addWidgetDialog},on:{"update:mdActive":function(t){e.addWidgetDialog=t},"update:md-active":function(t){e.addWidgetDialog=t}}},[a("md-dialog-title",[e._v("Create Widget")]),a("md-field",[a("md-select",{model:{value:e.addWidgetType,callback:function(t){e.addWidgetType=t},expression:"addWidgetType"}},e._l(this.$widgetNames,(function(t,i){return a("md-option",{key:i,attrs:{value:i}},[e._v(" "+e._s(t))])})),1)],1),a("md-dialog-actions",[a("md-button",{staticClass:"md-accent md-raised",on:{click:function(t){e.addWidgetDialog=!1}}},[e._v("Cancel")]),a("md-button",{staticClass:"md-accent md-raised",on:{click:e.createWidget}},[e._v("Create Widget")])],1)],1),a("md-dialog",{attrs:{"md-active":e.presetDialog},on:{"update:mdActive":function(t){e.presetDialog=t},"update:md-active":function(t){e.presetDialog=t}}},[a("md-dialog-title",[e._v("Load Preset")]),a("md-field",[a("md-select",{on:{input:function(t){e.parameters=[]}},model:{value:e.presetName,callback:function(t){e.presetName=t},expression:"presetName"}},e._l(e.presets.filter((function(t){return"both"===t.type||t.type===(e.$store.state.configuration.vertical?"vertical":"horizontal")})),(function(t,i){return a("md-option",{key:t.name,attrs:{value:t.name}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),e._l(e.presets.find((function(t){return t.name===e.presetName})).params,(function(t,i){return e.presets.find((function(t){return t.name===e.presetName})).params?a("md-field",{key:i},[a("label",[e._v(e._s(t))]),a("md-input",{model:{value:e.parameters[i],callback:function(t){e.$set(e.parameters,i,t)},expression:"parameters[key]"}})],1):e._e()})),a("md-dialog-actions",[a("md-button",{staticClass:"md-accent md-raised",on:{click:function(t){e.presetDialog=!1}}},[e._v("Cancel")]),a("md-button",{staticClass:"md-accent md-raised",on:{click:e.loadPreset}},[e._v("Load Preset")])],1)],2)],1)},n=[],r=(a("99af"),a("96cf"),a("1da1")),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"widget",staticClass:"widget",style:e.widgetTransform},[a("div",{staticClass:"widget-content",style:e.widgetStyle},[0===e.widget.type||1===e.widget.type?a("ImagePreview",{attrs:{"pixel-size":e.pixelSize,interval:e.widget.frequency,image:e.widget.content,frame:e.widget.offset||0,frames:e.widget.length,"canvas-height":e.pixelSize*e.widget.height,"canvas-width":e.pixelSize*e.widget.width}}):4===e.widget.type?a("div",{style:{color:e.cppHexToJs(e.widget.colors[0]),fontSize:e.getWidgetMinimumSize(e.widget).height*e.pixelSize+"px"}},[e._v(" "+e._s(e.widget.content)+" ")]):5===e.widget.type||6===e.widget.type?a("div",{style:{color:e.cppHexToJs(e.widget.colors[0]),fontSize:(e.widget.width<15?20:e.createDefaultWidget(e.widget.type).height*e.pixelSize)+"px"}},[e._v(" API ")]):8===e.widget.type?a("div",{style:e.shapeStyle}):9===e.widget.type?a("div",{style:{color:e.cppHexToJs(e.widget.colors[0]),fontSize:e.getWidgetMinimumSize(e.widget).height*e.pixelSize+"px"}},[e._v(" "+e._s(e.variableValues[e.widget.offset]+(e.widget.length?e.variableUnits[e.widget.offset]:""))+" ")]):a("img",{staticClass:"image-pixelated",style:e.iconStyle,attrs:{src:e.widgetIcon,alt:"Widget Icon"}})],1)])},o=[],d=(a("caad"),a("2532"),a("9ed7")),c={name:"Widget",components:{ImagePreview:d["a"]},data:function(){return{rawX:0,rawY:0,rawWidth:1,rawHeight:1,selected:0,nonResizeableTypes:[0,1],variableValues:["60","50","62","57","10000","1012","61","13"],variableUnits:["F","F","F","F","m","mBar","%","MPH"],currentWidget:{},interactable:null,resizing:!1,minimumWidth:1,minimumHeight:1}},computed:{widgetTransform:function(){return{width:"".concat(this.widget.width*this.pixelSize,"px"),height:"".concat(this.widget.height*this.pixelSize,"px"),"z-index":this.widget.id+100,transform:"translate(".concat(this.widget.xOff*this.pixelSize,"px, ").concat(this.widget.yOff*this.pixelSize,"px)"),outlineWidth:"1px",outlineColor:"black",outlineStyle:"solid"}},widgetStyle:function(){return{width:"".concat(this.widget.width*this.pixelSize,"px"),height:"".concat(this.widget.height*this.pixelSize,"px"),backgroundColor:this.widget.transparent||3===this.widget.type?null:this.cppHexToJs(this.widget.backgroundColor),outlineWidth:"".concat(3===this.widget.type?0:this.widget.bordered?this.pixelSize:0,"px"),outlineColor:this.widget.bordered?this.cppHexToJs(this.widget.borderColor):"#000000",outlineStyle:"solid",outlineOffset:"".concat(this.widget.bordered?-this.pixelSize:-1,"px"),borderRadius:8===this.widget.type?1===this.widget.contentType?"".concat(2*this.pixelSize,"px"):2===this.widget.contentType?"50%":"":""}},iconStyle:function(){if(3===this.widget.type)return{width:"100%",height:"100%"};var e=this.getWidgetMinimumSize(this.widget);return{width:"".concat((e.width-(this.widget.bordered?2:0))*this.pixelSize,"px"),height:"".concat((e.height-(this.widget.bordered?2:0))*this.pixelSize,"px")}},shapeStyle:function(){return 3===this.widget.contentType?{}:{width:"".concat(this.widget.width*this.pixelSize,"px"),height:"".concat(this.widget.height*this.pixelSize,"px"),border:"".concat(this.pixelSize,"px solid ").concat(this.cppHexToJs(this.widget.colors[0])),borderRadius:1===this.widget.contentType?"".concat(2*this.pixelSize,"px"):2===this.widget.contentType?"50%":""}},widgetIcon:function(){switch(this.widget.type){case 3:return"analogClock".concat(this.widget.bordered?"-bordered":"",".png");case 7:return"weatherIcon.png";case 2:return"".concat(this.widget.font>=2?"bigClock":"clock").concat(this.widget.contentType,".png")}}},watch:{widget:{deep:!0,handler:function(e){this.resizing||this.areObjectsEqual(e,this.currentWidget,["xOff","yOff"])||(this.interactable.unset(),this.setup(e))}}},methods:{constrainRawValue:function(e,t,a){return Math.min(a,Math.max(t,Math.round(e/this.pixelSize)))},updateCoords:function(){if(this.widget.xOff=this.constrainRawValue(this.rawX,0,this.$store.state.stats.width-1),this.widget.yOff=this.constrainRawValue(this.rawY,0,this.$store.state.stats.height-1),3!==this.widget.type&&8!==this.widget.type||8===this.widget.type&&2!==this.widget.contentType)this.widget.width=this.constrainRawValue(this.rawWidth,1,2*this.$store.state.stats.width),this.widget.height=this.constrainRawValue(this.rawHeight,1,2*this.$store.state.stats.height);else{var e=Math.min(2*this.$store.state.stats.width,2*this.$store.state.stats.height);this.widget.width=this.constrainRawValue(this.rawWidth,1,e),this.widget.height=this.constrainRawValue(this.rawHeight,1,e),this.widget.height=this.widget.width=Math.max(this.widget.height,this.widget.width)}},resetRawCoords:function(e){this.rawX=e.xOff*this.pixelSize,this.rawY=e.yOff*this.pixelSize,this.rawWidth=this.pixelSize*e.width,this.rawHeight=this.pixelSize*e.height},setup:function(e){var t=this,a=this.getWidgetMinimumSize(e);this.minimumWidth=a.width,this.minimumHeight=a.height,e.xOff=Math.min(e.xOff,this.$store.state.stats.width-1),e.yOff=Math.min(e.yOff,this.$store.state.stats.height-1),e.width=Math.min(Math.max(e.width,this.minimumWidth),2*this.$store.state.stats.width),e.height=Math.min(Math.max(e.height,this.minimumHeight),2*this.$store.state.stats.height),this.currentWidget=this.cloneObject(e),this.resetRawCoords(e),this.interactable=this.$interact(this.$refs.widget),this.interactable.draggable({onmove:function(e){t.rawX+=e.dx,t.rawY+=e.dy,t.updateCoords()},onend:function(){t.resetRawCoords(t.widget)}}),this.nonResizeableTypes.includes(e.type)||8===e.type&&3===e.contentType||this.interactable.resizable({margin:5,modifiers:[this.$interact.modifiers.restrictSize({min:{width:this.minimumWidth*this.pixelSize,height:this.minimumHeight*this.pixelSize},max:{width:2*this.$store.state.stats.width*this.pixelSize,height:2*this.$store.state.stats.height*this.pixelSize}})],edges:{top:!0,left:!0,bottom:!0,right:!0},onstart:function(e){t.resizing=!0},onmove:function(e){t.rawX+=e.deltaRect.left,t.rawY+=e.deltaRect.top,t.rawWidth=e.rect.width,t.rawHeight=e.rect.height,t.updateCoords()},onend:function(e){t.resetRawCoords(t.widget),t.resizing=!1,t.currentWidget=t.cloneObject(t.widget)}}),this.interactable.on("doubletap",(function(e){t.$emit("doubletap")}))}},props:["pixelSize","widget"],mounted:function(){this.setup(this.widget)},beforeDestroy:function(){this.interactable.unset()}},l=c,m=(a("f25a"),a("2877")),u=Object(m["a"])(l,s,o,!1,null,"b2c20568",null),h=u.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("md-card",[a("h2",{staticClass:"inline"},[e._v(" "+e._s(e.$widgetNames[e.widget.type]))]),a("div",{staticClass:"md-alignment-space-between"},[a("div",{staticClass:"inline-centered"},[a("md-checkbox",{model:{value:e.collapsed,callback:function(t){e.collapsed=t},expression:"collapsed"}},[e._v("Collapsed")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" Collapse the widget ")])],1),a("div",{staticClass:"inline-centered"},[a("md-field",{staticClass:"layer-field"},[a("label",[e._v("Layer")]),a("md-input",{attrs:{min:0,max:99,type:"number"},on:{change:function(t){return e.$emit("reorder")}},model:{value:e.widget.id,callback:function(t){e.$set(e.widget,"id",e._n(t))},expression:"widget.id"}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" Change the layer the widget sits on")])],1)],1)]),e.collapsed?e._e():[4!==e.widget.type&&2!==e.widget.type&&3!==e.widget.type&&8!==e.widget.type?a("div",[a("div",{staticClass:"inline-centered"},[a("md-checkbox",{on:{change:e.changeDynamic},model:{value:e.dynamic,callback:function(t){e.dynamic=t},expression:"dynamic"}},[e._v("Dynamic")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" Enable dynamic widget content ")])],1),a("div",{staticClass:"inline-centered"},[e.dynamic?a("md-field",{staticClass:"layer-field"},[a("label",[e._v("Interval(ms)")]),a("md-input",{attrs:{min:1,type:"number"},model:{value:e.widget.frequency,callback:function(t){e.$set(e.widget,"frequency",e._n(t))},expression:"widget.frequency"}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" Change the widget update frequency ")])],1):e._e()],1)]):e._e(),0===e.widget.type||1===e.widget.type?[a("div",{staticClass:"inline-centered"},[a("md-field",{staticClass:"image-field field"},[a("label",{staticClass:"label"},[e._v("Image")]),a("md-select",{attrs:{name:"Image"},on:{input:e.changeImage},model:{value:e.widget.content,callback:function(t){e.$set(e.widget,"content",t)},expression:"widget.content"}},e._l(e.$store.state.imageData,(function(t,i){return a("md-option",{key:i,attrs:{value:i}},[e._v(e._s(i)+" ")])})),1),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" Change the widget image ")])],1)],1),a("div",{staticClass:"inline-centered"},[a("md-field",{staticClass:"field",staticStyle:{width:"80px"}},[a("label",[e._v("Alpha Colors")]),a("md-input",{attrs:{min:0,max:10,type:"number"},on:{input:e.changeAlphaColors},model:{value:e.alphaColors,callback:function(t){e.alphaColors=e._n(t)},expression:"alphaColors"}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" Change the number of image colors to not render ")])],1)],1),a("div",e._l(e.widget.colors,(function(t,i){return a("div",{key:i,staticClass:"inline-centered"},[a("color-picker",{staticClass:"get-arg",attrs:{label:"Alpha "+(i+1)},model:{value:e.widget.colors[i],callback:function(t){e.$set(e.widget.colors,i,t)},expression:"widget.colors[key]"}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" Specify color to not render on image ")])],1)})),0),""!==e.widget.content&&e.$store.state.imageData[e.widget.content]?[a("div",{staticClass:"inline-centered"},[a("md-checkbox",{model:{value:e.widget.background,callback:function(t){e.$set(e.widget,"background",t)},expression:"widget.background"}},[e._v("Background")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" If the widget exists in the background ")])],1),a("div",[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Image Offset")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.widget.offset,expression:"widget.offset",modifiers:{number:!0}}],attrs:{min:"0",max:e.$store.state.imageData[e.widget.content].length-1,type:"number"},domProps:{value:e.widget.offset},on:{input:[function(t){t.target.composing||e.$set(e.widget,"offset",e._n(t.target.value))},e.constrainLength],blur:function(t){return e.$forceUpdate()}}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" The first frame of the image to use ")])],1),e.widget.frequency>0?a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Image Length")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.widget.length,expression:"widget.length",modifiers:{number:!0}}],attrs:{min:"1",max:e.$store.state.imageData[e.widget.content].length-e.widget.offset,type:"number"},domProps:{value:e.widget.length},on:{input:function(t){t.target.composing||e.$set(e.widget,"length",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" The number of image frames to use ")])],1):e._e()])]:e._e()]:5===e.widget.type||6===e.widget.type?[a("div",[a("md-field",{staticClass:"text-content-field inline"},[a("label",[e._v("API URL")]),a("md-input",{staticClass:"text-content-field",model:{value:e.widget.source,callback:function(t){e.$set(e.widget,"source",t)},expression:"widget.source"}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" The URL of the API to GET ")])],1)],1),a("div",[a("md-field",{staticClass:"text-content-field inline"},[a("label",[e._v("CA Certificate")]),a("md-textarea",{staticClass:"text-content-field",attrs:{"md-autogrow":""},on:{change:e.changeCert},model:{value:e.widget.cert,callback:function(t){e.$set(e.widget,"cert",t)},expression:"widget.cert"}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" The CA certificate to verify HTTPS connections ")])],1)],1),a("md-field",{staticClass:"duration-field field"},[a("label",[e._v("Timeout(ms)")]),a("md-input",{staticClass:"duration-field",attrs:{step:"1000",min:"0",type:"number"},model:{value:e.widget.length,callback:function(t){e.$set(e.widget,"length",e._n(t))},expression:"widget.length"}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" The timeout for the GET request ")])],1),5===e.widget.type?[a("md-field",{staticClass:"auth-select field"},[a("label",[e._v("Auth")]),a("md-select",{attrs:{value:e.getAuthType(this.widget.auth),name:"Auth"},on:{input:e.changeAuth}},[a("md-option",{attrs:{value:0}},[e._v(" No Auth ")]),a("md-option",{attrs:{value:1}},[e._v(" Basic Auth ")]),a("md-option",{attrs:{value:2}},[e._v(" Token Auth")])],1),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" The type of auth for the request")])],1),a("md-field",{staticClass:"layer-field field"},[a("label",[e._v("Args")]),a("md-input",{attrs:{min:1,max:10,type:"number"},on:{input:e.changeArgs},model:{value:e.args,callback:function(t){e.args=e._n(t)},expression:"args"}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" The number of JSON indices to parse response with ")])],1),a("div",e._l(e.widget.args,(function(t,i){return a("md-field",{key:i,staticClass:"get-arg inline"},[a("label",[e._v("Arg "+e._s(i+1))]),a("md-input",{model:{value:e.widget.args[i],callback:function(t){e.$set(e.widget.args,i,t)},expression:"widget.args[key]"}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" A JSON string or integer index ")])],1)})),1)]:e._e(),0!==e.widget.auth.length?a("md-field",{staticClass:"text-content-field inline"},[a("label",[e._v(" "+e._s(e.widget.auth.startsWith("Basic")?"username:password":"Token")+" ")]),a("md-input",{staticClass:"text-content-field",on:{input:e.changeAuthContent},model:{value:e.auth,callback:function(t){e.auth=t},expression:"auth"}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" The auth value for the request ")])],1):e._e()]:4===e.widget.type?[a("md-field",{staticClass:"text-content-field inline"},[a("label",[e._v("Text Content")]),a("md-input",{attrs:{maxlength:e.$store.state.stats.width/e.getTextSize(1,e.widget.font).width},on:{change:e.changeText},model:{value:e.widget.content,callback:function(t){e.$set(e.widget,"content",t)},expression:"widget.content"}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" The text for the widget ")])],1)]:2===e.widget.type?[a("md-field",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Clock Type")]),a("md-select",{attrs:{name:"Clock Type"},model:{value:e.widget.contentType,callback:function(t){e.$set(e.widget,"contentType",t)},expression:"widget.contentType"}},[a("md-option",{attrs:{value:0}},[e._v(" 24 Hour ")]),a("md-option",{attrs:{value:1}},[e._v(" 12 Hour ")]),a("md-option",{attrs:{value:2}},[e._v(" 12 Hour with Period ")])],1),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" The time format for the widget ")])],1)]:8===e.widget.type?[a("md-field",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Shape")]),a("md-select",{attrs:{name:"Shape"},on:{input:e.changeShape},model:{value:e.widget.contentType,callback:function(t){e.$set(e.widget,"contentType",t)},expression:"widget.contentType"}},[a("md-option",{attrs:{value:0}},[e._v(" Rectangle ")]),a("md-option",{attrs:{value:1}},[e._v(" Rounded Rectangle ")]),a("md-option",{attrs:{value:2}},[e._v(" Circle ")]),a("md-option",{attrs:{value:3}},[e._v(" Pixel ")])],1),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" The shape for the widget ")])],1)]:9===e.widget.type?[a("md-field",{staticClass:"variable-field field"},[a("label",{staticClass:"label"},[e._v("Variable")]),a("md-select",{attrs:{name:"Variable"},model:{value:e.widget.offset,callback:function(t){e.$set(e.widget,"offset",t)},expression:"widget.offset"}},[a("md-option",{attrs:{value:0}},[e._v(" Temperature ")]),a("md-option",{attrs:{value:1}},[e._v(" Perceived Temperature ")]),a("md-option",{attrs:{value:2}},[e._v(" Temperature Max ")]),a("md-option",{attrs:{value:3}},[e._v(" Temperature Min ")]),a("md-option",{attrs:{value:4}},[e._v(" Visibility ")]),a("md-option",{attrs:{value:5}},[e._v(" Barometric Pressure ")]),a("md-option",{attrs:{value:6}},[e._v(" Humidity ")]),a("md-option",{attrs:{value:7}},[e._v(" Wind Speed ")])],1),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" The variable for the widget ")])],1),e.widget.offset<=7?a("div",{staticClass:"field"},[a("md-checkbox",{model:{value:e.widget.length,callback:function(t){e.$set(e.widget,"length",t)},expression:"widget.length"}},[e._v("Units")])],1):e._e()]:e._e(),2===e.widget.type||4===e.widget.type||5===e.widget.type||6===e.widget.type||9===e.widget.type?[2!==e.widget.type?a("md-field",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Text Mode")]),a("md-select",{attrs:{name:"Text Mode"},model:{value:e.widget.contentType,callback:function(t){e.$set(e.widget,"contentType",t)},expression:"widget.contentType"}},[a("md-option",{attrs:{value:0}},[e._v(" Don't Wrap Text ")]),a("md-option",{attrs:{value:1}},[e._v(" Wrap Every Character ")]),a("md-option",{attrs:{value:2}},[e._v(" Wrap Words ")])],1),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" The text-wrapping for the widget ")])],1):e._e(),a("md-field",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Font")]),a("md-select",{attrs:{name:"Font"},on:{input:e.changeFont},model:{value:e.widget.font,callback:function(t){e.$set(e.widget,"font",t)},expression:"widget.font"}},[a("md-option",{attrs:{value:0}},[e._v(" Tiny ")]),a("md-option",{attrs:{value:1}},[e._v(" Tetris ")]),a("md-option",{attrs:{value:2}},[e._v(" Normal ")]),a("md-option",{attrs:{value:3}},[e._v(" Large ")]),a("md-option",{attrs:{value:4}},[e._v(" Huge ")])],1),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" The font for the widget ")])],1)]:e._e(),0!==e.widget.type&&1!==e.widget.type&&3!==e.widget.type&&8!==e.widget.type||8===e.widget.type&&e.widget.contentType<2?a("div",[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Widget Width")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.widget.width,expression:"widget.width",modifiers:{number:!0}}],attrs:{min:e.getWidgetMinimumSize(e.widget).width,max:2*e.$store.state.stats.width,type:"number"},domProps:{value:e.widget.width},on:{input:function(t){t.target.composing||e.$set(e.widget,"width",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" The width of the widget ")])],1),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Widget Height")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.widget.height,expression:"widget.height",modifiers:{number:!0}}],attrs:{min:e.getWidgetMinimumSize(e.widget).height,max:2*e.$store.state.stats.height,type:"number"},domProps:{value:e.widget.height},on:{input:function(t){t.target.composing||e.$set(e.widget,"height",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" The height of the widget ")])],1)]):3===e.widget.type||8===e.widget.type&&2===e.widget.contentType?a("div",[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Widget Diameter")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.widget.width,expression:"widget.width",modifiers:{number:!0}}],attrs:{min:"5",max:e.$store.state.stats.width,type:"number"},domProps:{value:e.widget.width},on:{input:[function(t){t.target.composing||e.$set(e.widget,"width",e._n(t.target.value))},e.changeRadius],blur:function(t){return e.$forceUpdate()}}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" The diameter of the widget ")])],1)]):e._e(),a("div",[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Widget X")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.widget.xOff,expression:"widget.xOff",modifiers:{number:!0}}],attrs:{min:"0",max:e.$store.state.stats.width-1,type:"number"},domProps:{value:e.widget.xOff},on:{input:function(t){t.target.composing||e.$set(e.widget,"xOff",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" The X offset for the widget ")])],1),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Widget Y")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.widget.yOff,expression:"widget.yOff",modifiers:{number:!0}}],attrs:{min:"0",max:e.$store.state.stats.height-1,type:"number"},domProps:{value:e.widget.yOff},on:{input:function(t){t.target.composing||e.$set(e.widget,"yOff",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" The Y offset for the widget ")])],1)]),a("div",[8===e.widget.type||4===e.widget.type?a("md-checkbox",{on:{change:e.changeBackground},model:{value:e.widget.background,callback:function(t){e.$set(e.widget,"background",t)},expression:"widget.background"}},[e._v("Background")]):e._e(),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" Weather the widget exists in the background ")])],1),a("div",{staticClass:"inline-centered"},[3===e.widget.contentType&&8===e.widget.type||e.widget.background?e._e():a("md-checkbox",{model:{value:e.widget.transparent,callback:function(t){e.$set(e.widget,"transparent",t)},expression:"widget.transparent"}},[e._v("Transparent")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" Enable widget transparency ")])],1),0!==e.widget.type&&1!==e.widget.type?[a("div",{staticClass:"inline-centered"},[8!==e.widget.type?a("md-checkbox",{model:{value:e.widget.bordered,callback:function(t){e.$set(e.widget,"bordered",t)},expression:"widget.bordered"}},[e._v("Bordered")]):e._e(),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" Enable widget border ")])],1),e._l(e.widget.colors,(function(t,i){return a("div",{staticClass:"field"},[a("color-picker",{staticClass:"color-picker",attrs:{label:e.requiredColors(e.widget.type)[i]},model:{value:e.widget.colors[i],callback:function(t){e.$set(e.widget.colors,i,t)},expression:"widget.colors[index]"}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" Set widget color ")])],1)}))]:e._e(),8===e.widget.type&&3===e.widget.contentType?a("div",{staticClass:"field"},[a("color-picker",{staticClass:"color-picker",attrs:{label:"Pixel"},model:{value:e.widget.backgroundColor,callback:function(t){e.$set(e.widget,"backgroundColor",t)},expression:"widget.backgroundColor"}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" The pixel color ")])],1):e.widget.transparent||0===e.widget.type||1===e.widget.type?e._e():a("div",{staticClass:"field"},[a("color-picker",{staticClass:"color-picker",attrs:{label:"Background"},model:{value:e.widget.backgroundColor,callback:function(t){e.$set(e.widget,"backgroundColor",t)},expression:"widget.backgroundColor"}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" The background color for the widget ")])],1),e.widget.bordered?a("div",{staticClass:"field"},[a("color-picker",{staticClass:"color-picker",attrs:{label:"Border"},model:{value:e.widget.borderColor,callback:function(t){e.$set(e.widget,"borderColor",t)},expression:"widget.borderColor"}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" The border color for the widget ")])],1):e._e()],a("div",[a("div",{staticClass:"inline-centered"},[a("md-checkbox",{model:{value:e.widget.disabled,callback:function(t){e.$set(e.widget,"disabled",t)},expression:"widget.disabled"}},[e._v("Disabled")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" Disable the widget ")])],1),a("div",{staticClass:"inline-centered"},[a("md-button",{staticClass:"md-raised",class:e.deleting?"md-primary":"md-accent",on:{click:e.tryDelete}},[e._v("Delete")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" Delete the widget ")])],1),a("div",{staticClass:"inline-centered"},[a("md-button",{staticClass:"md-accent md-raised",on:{click:function(t){return e.$emit("clone")}}},[e._v("Clone")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"left"}},[e._v(" Clone the widget ")])],1)])],2)},f=[],p=(a("a15b"),a("fb6a"),a("2ca0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("input",{ref:"colorPicker",attrs:{input:e.cppHexToJs(e.value),type:"color",hidden:""},on:{input:function(t){e.$emit("input",e.jsHexToCpp(t.target.value))}}}),a("md-field",{staticClass:"color-select"},[a("label",[e._v(" "+e._s(e.label)+" "),a("em",{style:{color:e.cppHexToJs(e.value)}},[e._v("Color")])]),a("md-input",{attrs:{readonly:"",value:e.cppHexToJs(e.value)},on:{click:function(t){return e.$refs.colorPicker.click()}}})],1)],1)}),v=[],b={name:"ColorPicker",props:["value","label"]},w=b,y=(a("ff97"),Object(m["a"])(w,p,v,!1,null,"132fbb58",null)),x=y.exports,_={name:"WidgetEditor",components:{ColorPicker:x},computed:{getAuthContent:function(){return this.widget.auth.startsWith("Basic ")?this.widget.auth.substr(7):this.widget.auth.startsWith("Bearer ")?this.widget.auth.substr(8):""}},methods:{tryDelete:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.deleting){t.next=4;break}e.$emit("delete"),t.next=8;break;case 4:return e.deleting=!0,t.next=7,e.sleep(3e3);case 7:e.deleting=!1;case 8:case"end":return t.stop()}}),t)})))()},getAuthType:function(e){return e.startsWith("Basic ")?1:e.startsWith("Bearer ")?2:0},changeFont:function(e){1===e?this.widget.frequency=100:4===this.widget.type&&(this.widget.frequency=0)},changeArgs:function(e){this.widget.args.length=e},changeAlphaColors:function(e){this.widget.colors.length=e},changeAuthContent:function(e){this.widget.auth.startsWith("Basic ")?this.widget.auth="Basic "+btoa(e):this.widget.auth.startsWith("Bearer ")?this.widget.auth="Bearer "+e:this.widget.auth=""},changeAuth:function(e){switch(this.auth="",e){case 0:this.widget.auth="";break;case 1:this.widget.auth="Basic ";break;case 2:this.widget.auth="Bearer ";break}},changeBackground:function(e){e&&(this.widget.transparent=!1)},changeText:function(){4===this.widget.type&&(this.widget.content=this.widget.content.toUpperCase())},changeCert:function(){if(this.widget.cert=this.removeNonAscii(this.widget.cert),this.widget.cert=this.widget.cert.replaceAll("-----BEGIN CERTIFICATE-----","").replaceAll("-----END CERTIFICATE-----",""),this.widget.cert=this.widget.cert.replaceAll(" ",""),this.widget.cert){for(var e=this.widget.cert.length,t=Math.ceil(e/64),a=0;a<t;a++)this.widget.cert=[this.widget.cert.slice(0,a+64*a),"\n",this.widget.cert.slice(a+64*a)].join("");this.widget.cert="-----BEGIN CERTIFICATE-----"+this.widget.cert,this.widget.cert+="\n-----END CERTIFICATE-----\n"}},changeShape:function(){2===this.widget.contentType&&(this.widget.height=this.widget.width),this.widget.colors.length=3===this.widget.contentType?0:1,this.widget.colors.length>0&&!this.widget.colors[0]&&(this.widget.colors[0]="0xFF0000"),3===this.widget.contentType&&(this.widget.width=1,this.widget.height=1,this.widget.transparent=!1)},changeRadius:function(){this.widget.height=this.widget.width},constrainLength:function(){this.widget.length=Math.min(this.$store.state.imageData[this.widget.content].length-this.widget.offset,this.widget.length)},changeDynamic:function(){this.dynamic?0===this.widget.frequency&&(this.widget.frequency=1e3):this.widget.frequency=0},changeImage:function(){this.widget.offset=Math.min(this.widget.length-1,this.widget.offset),this.constrainLength(),this.widget.width=this.$store.state.imageData[this.widget.content].width,this.widget.height=this.$store.state.imageData[this.widget.content].height,this.widget.type=this.$store.state.imageData[this.widget.content].progmem?0:1},requiredColors:function(){return 0===this.widget.type||1===this.widget.type||7===this.widget.type?[]:3===this.widget.type?["Minute","Hour","Marking"]:8===this.widget.type?3===this.widget.contentType?[]:["Shape"]:["Text"]}},mounted:function(){this.dynamic=0!==this.widget.frequency,this.args=this.widget.args.length,this.alphaColors=this.widget.colors.length},data:function(){return{dynamic:!1,auth:"",args:0,alphaColors:0,collapsed:!1,deleting:!1}},props:["widget"]},k=_,C=(a("96cd"),Object(m["a"])(k,g,f,!1,null,"2714aa7c",null)),$=C.exports,j={name:"Display",components:{ColorPicker:x,WidgetEditor:$,Widget:h},data:function(){return{config:{widgets:[],backgroundColor:"#000000"},parameters:[],grid:null,pixelSize:10,addWidgetDialog:!1,addWidgetType:0,presetDialog:!1,presetName:"Taz Clock",presets:[{name:"Black Lives Matter",type:"horizontal"},{name:"Mario Clock",type:"horizontal"},{name:"Taz Clock",type:"both"},{name:"Youtube Subscriber Count",type:"horizontal",params:["Channel ID","Google API Key"]},{name:"Tetris Clock",type:"horizontal"},{name:"Weather",type:"horizontal"}]}},methods:{loadPreset:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.t0=!e.areObjectsEqual(e.$store.state.configuration,e.config),!t.t0){t.next=5;break}return t.next=4,e.confirm("Load Preset","Are you sure you want to load a display preset? This will erase unsaved changes");case 4:t.t0=!t.sent;case 5:if(!t.t0){t.next=7;break}return t.abrupt("return");case 7:e.config.widgets.length=0,a=e.$store.state.configuration.vertical,i=[],t.t1=e.presetName,t.next="Black Lives Matter"===t.t1?13:"Mario Clock"===t.t1?15:"Taz Clock"===t.t1?17:"Youtube Subscriber Count"===t.t1?19:"Tetris Clock"===t.t1?22:"Weather"===t.t1?25:27;break;case 13:return i=[{width:64,height:32,content:"blm",background:!0,frequency:5e3,length:2,type:1}],t.abrupt("break",27);case 15:return i=[{width:64,height:32,content:"mario",background:!0,length:1},{id:1,type:2,font:2,xOff:31,yOff:23,width:32,height:9,frequency:100,colors:["0x000000"],transparent:!0}],t.abrupt("break",27);case 17:return i=[{width:23,height:28,xOff:a?4:3,yOff:a?18:3,content:"taz",transparent:!0,length:1,colors:["0x316594"]},{id:1,type:2,contentType:1,font:2,xOff:a?0:30,yOff:a?45:21,width:32,height:9,frequency:100,colors:["0xFF0000"],bordered:!0,borderColor:"0x00BFFF"}],t.abrupt("break",27);case 19:return e.config.backgroundColor="0x000000",i=[{width:21,height:16,xOff:22,yOff:2,content:"youtube",background:!0,length:1},{id:1,type:5,source:"https://www.googleapis.com/youtube/v3/channels?part=statistics&id=".concat(e.parameters[0],"&key=").concat(e.parameters[1]),length:5e3,frequency:6e4,backgroundColor:"0x000000",args:["items","0","statistics","subscriberCount"],colors:["0x00FF00"],width:29,height:5,xOff:18,yOff:21}],t.abrupt("break",27);case 22:return e.config.backgroundColor="0x000000",i=[{type:2,font:1,width:53,height:22,frequency:100,colors:["0x00FF11"],contentType:2,xOff:6,yOff:10,bordered:!0,borderColor:"0xFF0000"},{id:1,xOff:14,yOff:2,type:4,content:"TETRIS",font:2,colors:["0x00FF00"],width:36,height:7}],t.abrupt("break",27);case 25:return i=[{width:64,height:32,content:"weather",background:!0,length:1,type:1},{id:1,type:2,font:2,xOff:34,yOff:12,width:30,height:7,frequency:100,colors:["0x000000"],transparent:!0},{id:2,xOff:52,type:7,frequency:1e3,bordered:!0,width:12,height:7},{id:3,xOff:2,yOff:13,type:9,length:!0,frequency:1e3,colors:["0x000000"],width:12,height:5,transparent:!0},{id:4,xOff:10,yOff:19,type:9,length:!0,offset:2,frequency:1e3,colors:["0x000000"],width:12,height:5,transparent:!0},{id:5,xOff:2,yOff:19,type:4,content:"H:",colors:["0x000000"],width:8,height:5,transparent:!0},{id:6,xOff:10,yOff:25,type:9,length:!0,offset:3,frequency:1e3,colors:["0x000000"],width:12,height:5,transparent:!0},{id:7,xOff:2,yOff:25,type:4,content:"L:",colors:["0x000000"],width:8,height:5,transparent:!0},{id:8,xOff:51,yOff:25,type:9,length:!0,offset:6,frequency:1e3,colors:["0x000000"],width:12,height:5,transparent:!0},{id:9,xOff:43,yOff:25,type:4,content:"H:",colors:["0x000000"],width:8,height:5,transparent:!0},{id:10,yOff:7,type:9,length:!0,offset:7,frequency:1e3,colors:["0x000000"],width:20,height:5,transparent:!0},{id:12,yOff:1,type:9,length:!0,offset:5,frequency:1e3,colors:["0x000000"],width:32,height:5,transparent:!0}],t.abrupt("break",27);case 27:for(n in e.config.widgets.length=0,i)e.config.widgets.push(e.bloatWidget(i[n]));e.presetDialog=!1;case 30:case"end":return t.stop()}}),t)})))()},scrollToWidget:function(e){this.$scrollTo("#widget".concat(e),500,{container:"#widgets",easing:"ease-in",offset:-60,force:!0,cancelable:!0,x:!1,y:!0})},createWidget:function(){this.addWidgetDialog=!1;var e=this.createDefaultWidget(this.addWidgetType),t=0;for(var a in this.config.widgets)t=Math.max(t,this.config.widgets[a].id+1);e.id=t,this.config.widgets.push(e),this.addWidgetType=0},reload:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.t0=!e.areObjectsEqual(e.$store.state.configuration,e.config),!t.t0){t.next=5;break}return t.next=4,e.confirm("Reload Config","Are you sure you want to reload the display configuration? This will erase unsaved changes");case 4:t.t0=!t.sent;case 5:if(!t.t0){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,e.getConfig();case 9:a=t.sent,a?e.setup():e.error("Error","Failed to reload display configuration.");case 11:case"end":return t.stop()}}),t)})))()},setup:function(){this.config=this.cloneObject(this.$store.state.configuration)},save:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.confirm("Save Config","Are you sure you want to save the display configuration? This will overwrite the current configuration.");case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.saveConfig(e.config);case 6:a=t.sent,a?e.info("Success","Successfully updated display configuration"):e.error("Error","Failed to save display configuration");case 8:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return window.addEventListener("beforeunload",e.onCloseAttempt,!1),t.next=3,e.waitForConfiguration();case 3:return t.next=5,e.waitForStats();case 5:return t.next=7,e.getImageData();case 7:e.refreshImages(!1).then(),e.setup();case 9:case"end":return t.stop()}}),t)})))()},beforeRouteLeave:function(e,t,a){var i=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!i.areObjectsEqual(i.$store.state.configuration,i.config)){e.next=3;break}return a(),e.abrupt("return");case 3:return e.next=5,i.confirmUnsavedNavigation(a);case 5:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){window.removeEventListener("beforeunload",this.onCloseAttempt)}},T=j,R=(a("b6222"),Object(m["a"])(T,i,n,!1,null,"3a5a7394",null));t["a"]=R.exports},"3dfd":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container",attrs:{id:"app"}},[a("link",{attrs:{rel:"stylesheet",href:"//fonts.googleapis.com/css?family=Roboto:400,500,700,400italic|Material+Icons"}}),a("link",{attrs:{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"}}),e.$store.state.backdrop?a("div",{staticClass:"backdrop"}):e._e(),a("vue-snotify"),a("md-app",[a("md-app-toolbar",{staticClass:"md-primary",attrs:{"md-elevation":"0"}},[e.sidebar?e._e():a("md-button",{staticClass:"md-icon-button",on:{click:e.toggleSidebar}},[a("md-icon",[e._v("menu")])],1),a("span",{staticClass:"md-title"},[e._v("ESP LED Matrix Display")])],1),a("md-app-drawer",{attrs:{"md-active":e.sidebar,"md-persistent":e.isMobile?null:"mini"},on:{"update:mdActive":function(t){e.sidebar=t},"update:md-active":function(t){e.sidebar=t}}},[a("md-toolbar",{staticClass:"md-transparent",attrs:{"md-elevation":"0"}},[a("h1",[e._v("LED Matrix Display")]),a("div",{staticClass:"md-toolbar-section-end"},[a("md-button",{staticClass:"md-icon-button md-dense",on:{click:e.toggleSidebar}},[a("md-icon",[e._v("keyboard_arrow_left")])],1)],1)]),a("md-list",[a("md-list-item",{attrs:{to:"/"},on:{click:e.clickSidebar}},[a("md-icon",[e._v("dashboard")]),a("span",{staticClass:"md-list-item-text"},[e._v("Dashboard")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"right"}},[e._v(" View display status ")])],1),a("md-list-item",{attrs:{to:"/display"},on:{click:e.clickSidebar}},[a("md-icon",[e._v("queue_play_next")]),a("span",{staticClass:"md-list-item-text"},[e._v("Display")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"right"}},[e._v(" Edit display widgets ")])],1),a("md-list-item",{attrs:{to:"/images"},on:{click:e.clickSidebar}},[a("md-icon",[e._v("wallpaper")]),a("span",{staticClass:"md-list-item-text"},[e._v("Images")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"right"}},[e._v(" Manage display images ")])],1),a("md-list-item",{attrs:{to:"/controls"},on:{click:e.clickSidebar}},[a("md-icon",[e._v("settings_remote")]),a("span",{staticClass:"md-list-item-text"},[e._v("Controls")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"right"}},[e._v(" Send commands to display ")])],1),a("md-list-item",{attrs:{to:"/update"},on:{click:e.clickSidebar}},[a("md-icon",[e._v("system_update")]),a("span",{staticClass:"md-list-item-text"},[e._v("Update")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"right"}},[e._v(" Update the display ")])],1),a("md-list-item",{attrs:{to:"/editor"},on:{click:e.clickSidebar}},[a("md-icon",[e._v("edit")]),a("span",{staticClass:"md-list-item-text"},[e._v("Raw Editor")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"right"}},[e._v(" Edit the raw configuration file ")])],1),a("md-list-item",{attrs:{to:"/settings"},on:{click:e.clickSidebar}},[a("md-icon",[e._v("settings")]),a("span",{staticClass:"md-list-item-text"},[e._v("Settings")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"right"}},[e._v(" Configure display settings ")])],1),a("md-list-item",{attrs:{to:"/backup"},on:{click:e.clickSidebar}},[a("md-icon",[e._v("archive")]),a("span",{staticClass:"md-list-item-text"},[e._v("Backup")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"right"}},[e._v(" Backup and restore display configuration ")])],1)],1)],1),a("md-app-content",[a("vue-progress-bar"),e.$store.state.stats&&e.$store.state.configuration?a("router-view",{staticClass:"router"}):e._e()],1)],1)],1)},n=[],r=(a("96cf"),a("1da1")),s={name:"App",mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$Progress.finish(),e.isMobile=e.$isMobile(),t.next=4,e.waitForPromiseSuccess(e.getStats);case 4:return t.next=6,e.waitForPromiseSuccess(e.getConfig);case 6:return t.next=8,e.checkForUpdate();case 8:if(!t.sent){t.next=10;break}e.$snotify.info("A new version of the firmware is available","Update Available",{closeOnClick:!0,timeout:0});case 10:case"end":return t.stop()}}),t)})))()},data:function(){return{sidebar:!1,isMobile:!1}},methods:{clickSidebar:function(){this.isMobile&&(this.sidebar=!1)},toggleSidebar:function(){this.isMobile?this.sidebar=!0:this.sidebar=!this.sidebar}},created:function(){var e=this;this.$Progress.start(),this.$router.beforeEach((function(t,a,i){if(void 0!==t.meta.progress){var n=t.meta.progress;e.$Progress.parseMeta(n)}e.$Progress.start(),i()})),this.$router.afterEach((function(t,a){e.$Progress.finish()}))}},o=s,d=(a("034f"),a("2877")),c=Object(d["a"])(o,i,n,!1,null,null,null);t["a"]=c.exports},"3f9c":function(e,t,a){},4678:function(e,t,a){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=r(e);return a(t)}function r(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}n.keys=function(){return Object.keys(i)},n.resolve=r,e.exports=n,n.id="4678"},"46ea":function(e,t,a){},"48ba":function(e,t,a){},"4c1e":function(e,t,a){"use strict";var i=a("8a55"),n=a.n(i);n.a},5026:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"md-layout md-gutter md-alignment-space-between-left"},[a("div",{staticClass:"md-layout-item"},[a("md-button",{staticClass:"wide md-accent md-raised",on:{click:function(t){return e.refreshImages(!0)}}},[e._v("Refresh")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Refresh display images ")])],1),a("div",{staticClass:"md-layout-item"},[a("md-button",{staticClass:"wide md-accent md-raised",on:{click:e.openCreateDialog}},[e._v("Create Image")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Create a new custom image ")])],1),a("div",{staticClass:"md-layout-item"},[a("input",{ref:"importFile",attrs:{type:"file",hidden:""},on:{input:e.onSelectImport}}),a("md-button",{staticClass:"wide md-accent md-raised",on:{click:function(t){return e.$refs.importFile.click()}}},[e._v("Import Image")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Import an image ")])],1)]),a("div",e._l(this.$store.state.imageData,(function(t,i){return a("md-card",{key:i},[a("md-card-header",{staticClass:"md-title"},[e._v(" "+e._s(i)+" "),e.$store.state.imageData[i].progmem?e._e():a("md-button",{staticClass:"md-icon-button",on:{click:function(t){return e.openRenameDialog(i)}}},[a("md-icon",[e._v("create")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Rename image ")])],1)],1),a("md-card-media",[a("image-preview",{attrs:{interval:0,frame:0,frames:1,"progress-bar":!0,"pixel-size":e.pixelSize,image:i,"canvas-height":e.pixelSize*t.height,"canvas-width":e.pixelSize*t.width}})],1),a("md-card-actions",{attrs:{"md-alignment":"space-between"}},[a("div",{staticClass:"inline-centered"},[a("md-button",{staticClass:"md-accent md-raised",on:{click:function(t){return e.getImage(i)}}},[e._v("Reload")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Reload image ")])],1),a("div",{staticClass:"inline-centered"},[a("md-button",{staticClass:"md-accent md-raised",attrs:{href:"#/edit_image/"+i}},[e._v("Edit")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Edit image ")])],1),a("div",{staticClass:"inline-centered"},[a("md-button",{staticClass:"md-accent md-raised",attrs:{disabled:t.progmem},on:{click:function(t){return e.deleteImageClick(i)}}},[e._v("Delete")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Delete image ")])],1)])],1)})),1),a("md-dialog",{attrs:{"md-active":e.createImageDialog},on:{"update:mdActive":function(t){e.createImageDialog=t},"update:md-active":function(t){e.createImageDialog=t}}},[a("md-dialog-title",[e._v("Create Image")]),a("md-field",{staticClass:"field",class:{"md-invalid":!e.nameValid}},[a("label",[e._v("Image Name")]),a("md-input",{attrs:{maxlength:this.$store.state.stats["maxPathLength"]-8},on:{change:e.changeName},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("span",{staticClass:"md-error"},[e._v("Only alphanumeric and spaces")])],1),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Image Width")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.width,expression:"width",modifiers:{number:!0}}],attrs:{min:"1",max:e.displayWidth,type:"number"},domProps:{value:e.width},on:{input:function(t){t.target.composing||(e.width=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Image Height")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.height,expression:"height",modifiers:{number:!0}}],attrs:{min:"1",max:e.displayHeight,type:"number"},domProps:{value:e.height},on:{input:function(t){t.target.composing||(e.height=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Image Frames")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.frames,expression:"frames",modifiers:{number:!0}}],attrs:{min:"1",max:"100",type:"number"},domProps:{value:e.frames},on:{input:function(t){t.target.composing||(e.frames=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),a("md-dialog-actions",[a("md-button",{staticClass:"md-accent md-raised",on:{click:function(t){e.createImageDialog=!1}}},[e._v("Close")]),a("md-button",{staticClass:"md-accent md-raised",on:{click:e.createImage}},[e._v("Create")])],1)],1),a("md-dialog",{attrs:{"md-active":e.renameDialog},on:{"update:mdActive":function(t){e.renameDialog=t},"update:md-active":function(t){e.renameDialog=t}}},[a("md-dialog-title",[e._v("Rename "+e._s(e.renameName))]),a("md-field",{staticClass:"field",class:{"md-invalid":!e.renameNameValid}},[a("label",[e._v("New Name")]),a("md-input",{attrs:{maxlength:this.$store.state.stats["maxPathLength"]-8},on:{change:e.changeRenameName},model:{value:e.newName,callback:function(t){e.newName=t},expression:"newName"}}),a("span",{staticClass:"md-error"},[e._v("Only alphanumeric and spaces")])],1),a("md-dialog-actions",[a("md-button",{staticClass:"md-accent md-raised",on:{click:function(t){e.renameDialog=!1}}},[e._v("Close")]),a("md-button",{staticClass:"md-accent md-raised",on:{click:e.rename}},[e._v("Rename")])],1)],1),a("md-dialog",{attrs:{"md-active":e.importImageDialog},on:{"update:mdActive":function(t){e.importImageDialog=t},"update:md-active":function(t){e.importImageDialog=t}}},[a("md-dialog-title",[e._v("Create Image")]),a("md-field",{staticClass:"field",class:{"md-invalid":!e.nameValid}},[a("label",[e._v("Image Name")]),a("md-input",{attrs:{maxlength:this.$store.state.stats["maxPathLength"]-8},on:{change:e.changeName},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("span",{staticClass:"md-error"},[e._v("Only alphanumeric and spaces")])],1),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Image Width")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.width,expression:"width",modifiers:{number:!0}}],attrs:{min:"1",max:e.displayWidth,type:"number"},domProps:{value:e.width},on:{input:function(t){t.target.composing||(e.width=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Image Height")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.height,expression:"height",modifiers:{number:!0}}],attrs:{min:"1",max:e.displayHeight,type:"number"},domProps:{value:e.height},on:{input:function(t){t.target.composing||(e.height=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Image Frames")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.frames,expression:"frames",modifiers:{number:!0}}],attrs:{min:"1",max:"100",type:"number"},domProps:{value:e.frames},on:{input:function(t){t.target.composing||(e.frames=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),a("md-dialog-actions",[a("md-button",{staticClass:"md-accent md-raised",on:{click:function(t){e.importImageDialog=!1}}},[e._v("Close")]),a("md-button",{staticClass:"md-accent md-raised",on:{click:e.importImage}},[e._v("Create")])],1)],1),a("md-dialog-confirm",{attrs:{"md-active":e.deleteConfirm,"md-title":"Delete Image","md-content":"Are you sure you want to delete "+e.deleteImageName+"?","md-confirm-text":"Delete","md-cancel-text":"Cancel"},on:{"update:mdActive":function(t){e.deleteConfirm=t},"update:md-active":function(t){e.deleteConfirm=t},"md-confirm":e.deleteTheImage}})],1)},n=[],r=(a("cb29"),a("ace4"),a("b0c0"),a("b64b"),a("d3b7"),a("ac1f"),a("8a79"),a("1276"),a("84c3"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("96cf"),a("1da1")),s=a("9ed7"),o={name:"Images",components:{ImagePreview:s["a"]},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.waitForPromiseSuccess(e.getStats);case 2:if(e.width=e.displayWidth=e.$store.state.stats.width,e.height=e.displayHeight=e.$store.state.stats.height,a=0===Object.keys(e.$store.state.images).length,a){t.next=8;break}return t.next=8,e.waitForPromiseSuccess(e.getImageData);case 8:return t.next=10,e.refreshImages(a);case 10:case"end":return t.stop()}}),t)})))()},data:function(){return{deleteConfirm:!1,createImageDialog:!1,importImageDialog:!1,renameDialog:!1,deleteImageName:"",displayWidth:64,displayHeight:32,pixelSize:3,frames:1,width:1,height:1,name:"",nameValid:!0,importFile:null,renameName:"",newName:"",renameNameValid:!0}},methods:{changeRenameName:function(){this.renameNameValid=this.validateFilename(this.newName)},changeName:function(){this.nameValid=this.validateFilename(this.name)},openCreateDialog:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.createImageDialog=!0,e.name="",t.next=4,e.getRandomName();case 4:e.name=t.sent;case 5:case"end":return t.stop()}}),t)})))()},openRenameDialog:function(e){this.renameDialog=!0,this.renameName=e,this.newName=e,this.renameNameValid=!0},rename:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.validateFilename(e.newName)){t.next=2;break}return t.abrupt("return");case 2:if(e.renameDialog=!1,e.newName!==e.renameName){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,e.renameImage(e.renameName,e.newName);case 7:case"end":return t.stop()}}),t)})))()},onSelectImport:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(0!==e.target.files){a.next=2;break}return a.abrupt("return");case 2:if(t.importFile=e.target.files[0],t.$refs.importFile.value="",!t.importFile.name.endsWith(".bin")){a.next=12;break}i=t.parseBinaryFilename(t.importFile.name),t.width=i.width,t.height=i.height,t.frames=i.frames,t.name=i.name,a.next=25;break;case 12:return t.frames=1,a.t0=t.$jimp,a.next=16,t.importFile.arrayBuffer();case 16:return a.t1=a.sent,a.next=19,a.t0.create.call(a.t0,a.t1);case 19:n=a.sent,r=Math.min(t.$store.state.stats.height/n.getHeight(),t.$store.state.stats.width/n.getWidth()),t.width=Math.round(n.getWidth()*r),t.height=Math.round(n.getHeight()*r),t.name=t.importFile.name.split(".")[0],t.name=t.name.substr(0,Math.min(t.$store.state.stats["maxPathLength"]-8,t.name.length));case 25:t.importImageDialog=!0;case 26:case"end":return a.stop()}}),a)})))()},importImage:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a={width:e.width,height:e.height,length:e.frames},!e.importFile.name.endsWith(".bin")){t.next=12;break}return t.t0=e,t.t1=e.name,t.t2=a,t.next=7,e.importFile.arrayBuffer();case 7:return t.t3=t.sent,t.next=10,t.t0.saveImageBuffer.call(t.t0,t.t1,t.t2,t.t3);case 10:t.next=41;break;case 12:return i=new Uint16Array(e.width*e.height*e.frames),t.t4=e.$jimp,t.next=16,e.importFile.arrayBuffer();case 16:return t.t5=t.sent,t.next=19,t.t4.create.call(t.t4,t.t5);case 19:return n=t.sent,t.next=22,n.resize(e.width,e.height);case 22:r=0;case 23:if(!(r<e.height)){t.next=39;break}s=0;case 25:if(!(s<e.width)){t.next=36;break}return t.t6=e,t.t7=e.$jimp,t.next=30,n.getPixelColor(s,r);case 30:t.t8=t.sent,t.t9=t.t7.intToRGBA.call(t.t7,t.t8),i[e.width*r+s]=t.t6.pack565Color.call(t.t6,t.t9);case 33:s++,t.next=25;break;case 36:r++,t.next=23;break;case 39:return t.next=41,e.saveImageBuffer(e.name,a,i);case 41:return e.importImageDialog=!1,e.name="",e.width=e.displayWidth,e.height=e.displayHeight,e.frames=1,t.next=48,e.getImageData();case 48:case"end":return t.stop()}}),t)})))()},createImage:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new Uint16Array(e.width*e.height*e.frames).fill(e.pack565Color({r:255,g:0,b:0})),e.createImageDialog=!1,t.next=4,e.saveImageBuffer(e.name,{width:e.width,height:e.height,length:e.frames,type:1},a);case 4:return e.name="",e.width=e.displayWidth,e.height=e.displayHeight,e.frames=1,t.next=10,e.getImageData();case 10:case"end":return t.stop()}}),t)})))()},deleteImageClick:function(e){this.deleteImageName=e,this.deleteConfirm=!0},deleteTheImage:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.deleteImage(e.deleteImageName);case 2:return t.next=4,e.getImageData();case 4:case"end":return t.stop()}}),t)})))()}}},d=o,c=(a("5a89"),a("2877")),l=Object(c["a"])(d,i,n,!1,null,"15c6faa0",null);t["a"]=l.exports},"56d7":function(e,t,a){"use strict";a.r(t),function(e){a.d(t,"store",(function(){return Y}));a("99af"),a("4de4"),a("4160"),a("caad"),a("277d"),a("fb6a"),a("ace4"),a("6eba"),a("0d03"),a("b0c0"),a("a9e3"),a("7a82"),a("b64b"),a("d3b7"),a("e25e"),a("ac1f"),a("25f0"),a("2532"),a("5319"),a("1276"),a("84c3"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("159b"),a("ddb0"),a("4795");var i=a("3835"),n=(a("96cf"),a("1da1")),r=a("53ca"),s=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),o=a("3dfd"),d=a("bc3a"),c=a.n(d),l=a("8c4f"),m=a("0c7c"),u=a("0140"),h=a("26b9"),g=a.n(h),f=a("2f62"),p=a("2ead"),v=a.n(p),b=a("23cf"),w=a.n(b),y=a("ba48"),x=a.n(y),_=a("1dce"),k=a.n(_),C=a("43f9"),$=a.n(C),j=(a("51de"),a("d69d"),a("c75a")),T=a("ceb0"),R=a("2adc"),S=a("5026"),O=a("192d"),D=a("f9ea"),I=a("ef21"),F=a.n(I),P=a("aeb1"),A=a.n(P),z=a("5014"),W=a.n(z),M=a("f213"),E=a("d0c6"),B=a("c4e3"),N=a.n(B),U=a("f13c");s["default"].use(U),s["default"].use(w.a),s["default"].use(x.a),s["default"].use(k.a),s["default"].use(v.a),s["default"].use(f["a"]),s["default"].use(g.a,{color:"rgb(143, 255, 199)",failedColor:"red",height:"2px",transition:{speed:"0.2s",opacity:"0.6s",termination:300}}),s["default"].use(M["b"],{toast:{position:M["a"].rightTop,animation:{enter:"bounceInDown",exit:"bounceInDown",time:800},timeout:3e3},global:{}}),s["default"].use($.a),s["default"].config.productionTip=!1,s["default"].use(l["a"]),s["default"].prototype.$download=A.a,s["default"].prototype.$jimp=F.a,s["default"].prototype.$interact=W.a,s["default"].prototype.$dashboardVersion=Number("0"),s["default"].prototype.$demoMode=Boolean("true"),s["default"].prototype.$widgetNames=["Built-in Image","Custom Image","Digital Clock","Analog Clock","Text","JSON GET Text","GET Plain-text","Weather Icon","Geometric Shape","Variable"];var H="__unique_key_prop__",L="__key_prefix__"+Date.now()+"_",q=0,V=function(e){return null!==e&&"object"===Object(r["a"])(e)},G=function(e){if(V(e)){if(H in e)return e[H];var t=L+q++;return Object.defineProperty(e,H,{value:t}),t}return e};s["default"].mixin({methods:{createUniqueKey:G,cloneObject:function(e){return JSON.parse(JSON.stringify(e))},isObjectEmpty:function(e){return 0===Object.keys(e).length},areObjectsEqual:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(var r=0,s=i;r<s.length;r++){var o=s[r];if(!a.includes(o)){var d=e[o],c=t[o],l=V(d)&&V(c);if(l&&!this.areObjectsEqual(d,c)||!l&&d!==c)return!1}}return!0},removeNonAscii:function(e){return e?e.replace(/[^\x20-\x7E]/g,""):""},checkForUpdate:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.get("https://api.github.com/repos/TheLogicMaster/ESP-LED-Matrix-Display/tags");case 3:for(i in t=e.sent,a=0,t.data)a=Math.max(0,Number(t.data[i].name.slice(1)));return Y.commit("set",["latestVersion",a]),e.abrupt("return",a>s["default"].prototype.$dashboardVersion);case 10:return e.prev=10,e.t0=e["catch"](0),console.error(e.t0),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))()},sleep:function(e){return new Promise((function(t){return setTimeout(t,e)}))},info:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.$snotify.info(t,e,{closeOnClick:!0,timeout:a?0:3e3})},error:function(e,t){this.$snotify.error(t,e,{closeOnClick:!0,timeout:0})},setBackdrop:function(e){Y.commit("set",["backdrop",e])},confirm:function(e,t){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var n,r,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:n=!1,r=!1,s=function(e){n||(r=!e,n=!0,a.setBackdrop(!1))},a.$snotify.confirm(t,e,{closeOnClick:!1,position:M["a"].centerCenter,buttons:[{text:"Cancel",action:function(e){a.$snotify.remove(e.id),s(!0)},bold:!0},{text:"Yes",action:function(e){a.$snotify.remove(e.id),s(!1)},bold:!0}]}).on("mounted",(function(){return a.setBackdrop(!0)})).on("destroyed",(function(){return s(!0)})).on("hidden",(function(){return s(!0)}));case 4:if(n){i.next=9;break}return i.next=7,a.sleep(1);case 7:i.next=4;break;case 9:return i.abrupt("return",r);case 10:case"end":return i.stop()}}),i)})))()},confirmNavigation:function(e,t,a){var i=this;return Object(n["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,i.confirm(t,a);case 2:if(!n.sent){n.next=6;break}e(),n.next=7;break;case 6:e(!1);case 7:case"end":return n.stop()}}),n)})))()},confirmUnsavedNavigation:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.confirmNavigation(e,"Unsaved Changes","Are you sure you want to leave without saving?");case 2:case"end":return a.stop()}}),a)})))()},waitForPromiseSuccess:function(e){var t=arguments,a=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var n,r,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:n=t.length>1&&void 0!==t[1]?t[1]:500,r=t.length>2&&void 0!==t[2]?t[2]:0,s=0;case 3:if(!(0===r||s<r)){i.next=13;break}return i.next=6,e();case 6:if(!i.sent){i.next=8;break}return i.abrupt("return",!0);case 8:return s++,i.next=11,a.sleep(n);case 11:i.next=3;break;case 13:return i.abrupt("return",!1);case 14:case"end":return i.stop()}}),i)})))()},waitForConfiguration:function(){var e=arguments,t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=e.length>0&&void 0!==e[0]?e[0]:500;case 1:if(t.isObjectEmpty(Y.state.configuration)){a.next=4;break}return a.abrupt("break",10);case 4:return a.next=6,t.getConfig();case 6:return a.next=8,t.sleep(i);case 8:a.next=1;break;case 10:case"end":return a.stop()}}),a)})))()},waitForStats:function(){var e=arguments,t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=e.length>0&&void 0!==e[0]?e[0]:500;case 1:if(t.isObjectEmpty(Y.state.stats)){a.next=4;break}return a.abrupt("break",10);case 4:return a.next=6,t.getStats();case 6:return a.next=8,t.sleep(i);case 8:a.next=1;break;case 10:case"end":return a.stop()}}),a)})))()},waitForImageData:function(){var e=arguments,t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=e.length>0&&void 0!==e[0]?e[0]:500;case 1:if(!t.isObjectEmpty(Y.state.imageData)){a.next=8;break}return a.next=4,t.getImageData();case 4:return a.next=6,t.sleep(i);case 6:a.next=1;break;case 8:case"end":return a.stop()}}),a)})))()},waitForImage:function(e){var t=arguments,a=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:n=t.length>1&&void 0!==t[1]?t[1]:500;case 1:if(Y.state.images.hasOwnProperty(e)){i.next=9;break}if(""!==Y.state.loadingImage){i.next=5;break}return i.next=5,a.getImage(e);case 5:return i.next=7,a.sleep(n);case 7:i.next=1;break;case 9:case"end":return i.stop()}}),i)})))()},isCppHexValid:function(e){return/^0x[0-9A-F]{6}$/i.test(e)},isJsHexValid:function(e){return/^#[0-9A-F]{6}$/i.test(e)},jsHexToCpp:function(e){return"0x"+e.slice(1,e.length).toUpperCase()},cppHexToJs:function(e){return e&&""!==e?"#"+e.slice(2,e.length).toLowerCase():"#000000"},rgbToHex:function(e,t,a){return"#"+((1<<24)+(e<<16)+(t<<8)+a).toString(16).slice(1)},rgbObjectToHex:function(e){return this.rgbToHex(e.r,e.g,e.b)},parseBinaryFilename:function(e){var t=e.split(".")[0].split("-");return{name:t[0],width:Number(t[1]),height:Number(t[2]),frames:Number(t[3])}},hexToRgb:function(e){void 0===e&&(e="#000000");var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},unpack565Color:function(e){return{r:Math.round(255*((63488&e)>>11)/31),g:Math.round(255*((2016&e)>>5)/63),b:Math.round(255*(31&e)/31)}},pack565Color:function(e){return(248&e.r)<<8|(252&e.g)<<3|e.b>>3},escapeString:function(e){return(e+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")},toBinary:function(e){return(e>>>0).toString(2)},encodeGimpColor:function(e){var t="",a=this.hexToRgb(e);return t+=String.fromCharCode(33+(a.r>>2)),t+=String.fromCharCode(33+((3&a.r)<<4|(240&a.g)>>4)),t+=String.fromCharCode(33+((15&a.g)<<2|(192&a.b)>>6)),t+=String.fromCharCode(33+(63&a.b)),this.escapeString(t)},getImageData:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.get("/images");case 3:return t=e.sent,Y.commit("set",["imageData",t.data]),e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e["catch"](0),console.error(e.t0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},saveImageBuffer:function(e,t,a){var i=this;return Object(n["a"])(regeneratorRuntime.mark((function n(){var r,o,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!s["default"].prototype.$demoMode){n.next=2;break}return n.abrupt("return",!0);case 2:return r=new FormData,o=new Blob([a],{type:"application/octet-stream"}),d=new File([o],"image.bin"),r.append("image",d),n.prev=6,n.next=9,c.a.post("/uploadImage",r,{headers:{"Content-Type":"multipart/form-data"},params:{name:e,width:t.width,height:t.height,length:t.length,type:1}});case 9:return n.abrupt("return",!0);case 12:return n.prev=12,n.t0=n["catch"](6),i.error("Error","Failed to upload image to display: "+n.t0),console.log(n.t0),n.abrupt("return",!1);case 17:case"end":return n.stop()}}),n,null,[[6,12]])})))()},parseImageData:function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[];if(a)for(var n=0;n+3<t.length;n+=4)i.push(this.rgbToHex(t.charCodeAt(n)-33<<2|t.charCodeAt(n+1)-33>>4,(t.charCodeAt(n+1)-33&15)<<4|t.charCodeAt(n+2)-33>>2,(t.charCodeAt(n+2)-33&3)<<6|t.charCodeAt(n+3)-33));else for(var r=e.from(t,"binary"),s=new Uint16Array(r.buffer,r.byteOffset,r.length/Uint16Array.BYTES_PER_ELEMENT),o=0;o<s.length;o++)i[o]=this.rgbObjectToHex(this.unpack565Color(s[o]));return i},getImage:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(Y.state.imageData[e]){a.next=2;break}return a.abrupt("return",!1);case 2:return Y.commit("set",["loadingImage",e]),a.prev=3,a.next=6,c.a.get("/image"+(s["default"].prototype.$demoMode?"/"+e:""),{responseType:2===Y.state.imageData[e].type?"text":"arraybuffer",params:{image:e+(Y.state.imageData[e].progmem?"_P":"")}});case 6:return i=a.sent,Y.commit("setImage",[e,t.parseImageData(i.data,2===Y.state.imageData[e].type)]),Y.commit("set",["loadingImage",""]),a.abrupt("return",!0);case 12:return a.prev=12,a.t0=a["catch"](3),console.error(a.t0),Y.commit("set",["loadingImage",""]),a.abrupt("return",!1);case 17:case"end":return a.stop()}}),a,null,[[3,12]])})))()},validateFilename:function(e){return/^[0-9a-zA-Z ]+$/.test(e)},getRandomName:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.get("http://names.drycodes.com/1?combine=2&separator=+&format=json");case 3:return t.abrupt("return",t.sent.data[0]);case 6:return t.prev=6,t.t0=t["catch"](0),console.error(t.t0),t.abrupt("return","Random Name");case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},renameImage:function(e,t){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,c.a.post("/renameImage","",{params:{name:e,newName:t}});case 3:return i.next=5,a.refreshImages(!0);case 5:return i.abrupt("return",!0);case 8:return i.prev=8,i.t0=i["catch"](0),a.error("Error","Failed to rename image: "+i.t0),console.error(i.t0),i.abrupt("return",!1);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))()},deleteImage:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!s["default"].prototype.$demoMode){t.next=2;break}return t.abrupt("return",!0);case 2:return t.prev=2,t.next=5,c.a.post("/deleteImage","",{params:{name:e}});case 5:return delete Y.state.images[e],delete Y.state.imageData[e],t.abrupt("return",!0);case 10:return t.prev=10,t.t0=t["catch"](2),console.log(t.t0),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))()},refreshImages:function(){var e=arguments,t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=e.length>0&&void 0!==e[0]&&e[0],!i){a.next=4;break}return a.next=4,t.getImageData();case 4:n=!0,a.t0=regeneratorRuntime.keys(Y.state.imageData);case 6:if((a.t1=a.t0()).done){a.next=16;break}if(r=a.t1.value,i||!(r in Y.state.images)){a.next=10;break}return a.abrupt("continue",6);case 10:return a.next=12,t.getImage(r);case 12:if(a.sent){a.next=14;break}n=!1;case 14:a.next=6;break;case 16:return a.abrupt("return",n);case 17:case"end":return a.stop()}}),a)})))()},getTextSize:function(e,t,a){return{width:(0===t?4:1===t?7:6*Math.pow(2,t-2))*e+(1===t?2:0),height:0===t?5:1===t?20:7*Math.pow(2,t-2)}},downloadBackup:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i,n,r,s,o,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.refreshImages(!0);case 2:if(!t.sent){t.next=23;break}a=new N.a,i=a.folder("images"),t.t0=regeneratorRuntime.keys(Y.state.imageData);case 6:if((t.t1=t.t0()).done){t.next=16;break}if(n=t.t1.value,r=Y.state.imageData[n],!r.progmem){t.next=11;break}return t.abrupt("continue",6);case 11:for(s=new Uint16Array(r.width*r.height*r.length),o=0;o<s.length;o++)s[o]=e.pack565Color(e.hexToRgb(Y.state.images[n][o]));i.file("".concat(n,"-").concat(r.width,"-").concat(r.height,"-").concat(r.length,".bin"),s.buffer),t.next=6;break;case 16:return a.file("config.json",JSON.stringify(Y.state.configuration)),t.next=19,a.generateAsync({type:"blob"});case 19:d=t.sent,A()(d,"Display-Backup.zip"),t.next=24;break;case 23:e.error("Error","Failed to get images for backup");case 24:case"end":return t.stop()}}),t)})))()},loadBackup:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,n,r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,N.a.loadAsync(e);case 3:return i=a.sent,a.t0=t,a.t1=JSON,a.next=8,i.file("config.json").async("string");case 8:return a.t2=a.sent,a.t3=a.t1.parse.call(a.t1,a.t2),a.next=12,a.t0.saveConfig.call(a.t0,a.t3);case 12:n={},i.folder("images").forEach((function(e,t){return n[e]=t})),a.t4=regeneratorRuntime.keys(n);case 15:if((a.t5=a.t4()).done){a.next=38;break}r=a.t5.value,s=t.parseBinaryFilename(n[r].name.split("images/")[1]),o=0;case 19:if(!(o<3)){a.next=33;break}return a.t6=t,a.t7=s.name,a.t8=s,a.next=25,n[r].async("arraybuffer");case 25:return a.t9=a.sent,a.next=28,a.t6.saveImageBuffer.call(a.t6,a.t7,a.t8,a.t9);case 28:if(!a.sent){a.next=30;break}return a.abrupt("break",33);case 30:o++,a.next=19;break;case 33:if(!(o>=5)){a.next=36;break}return t.error("Error","Failed to restore all images, try restoring again"),a.abrupt("return",!1);case 36:a.next=15;break;case 38:return t.info("Success","Loaded display backup successfully"),a.abrupt("return",!0);case 42:return a.prev=42,a.t10=a["catch"](0),console.error(a.t10),t.error("Error","Failed to load backup: "+a.t10),a.abrupt("return",!1);case 47:case"end":return a.stop()}}),a,null,[[0,42]])})))()},getWidgetMinimumSize:function(e){var t={};switch(e.type){case 0:case 1:t={width:e.width,height:e.height};break;case 3:t={width:10,height:10};break;case 4:t=this.getTextSize(e.content.length,e.font,e.contentType);break;case 2:t=this.getTextSize(2===e.contentType?7:5,e.font,e.contentType);break;case 5:case 6:t=this.getTextSize(1,e.font,e.contentType);break;case 8:t=2===e.contentType?{width:3,height:3}:3===e.contentType?{width:1,height:1}:{width:2,height:2};break;case 9:t=this.getTextSize([2,2,2,2,5,4,2,2][e.offset]+(e.length?[1,1,1,1,1,4,1,3][e.offset]:0),e.font,e.contentType);break;default:var a=this.createDefaultWidget(e.type);t={width:a.width,height:a.height};break}return e.bordered&&(t.width+=2,t.height+=2),t},getWidgetDefaults:function(){return{id:0,xOff:0,yOff:0,type:0,content:"",source:"",length:0,offset:0,font:0,frequency:0,background:!1,disabled:!1,bordered:!1,borderColor:"0x000000",backgroundColor:"0x000000",contentType:0,auth:"",args:[],colors:[],cert:""}},createDefaultWidget:function(e){var t=this.getWidgetDefaults();switch(t.type=e||0,t.type){case 1:t.content="blm";case 0:t.width=64,t.height=32,t.length=1,t.offset=0,t.background=!0;break;case 2:t.width=21,t.height=5,t.frequency=100,t.colors=["0x00FF00"];break;case 3:t.width=15,t.height=15,t.frequency=100,t.colors=["0xFF0000","0x00FF00","0x0000FF"];break;case 4:t.width=10,t.height=5,t.content="TEXT",t.colors=["0x00FF00"],t.background=!0;break;case 5:t.width=29,t.height=5,t.frequency=3e5,t.source="http://httpbin.org/get",t.args=["origin"],t.length=3e3,t.colors=["0x00FF00"];break;case 6:t.width=29,t.height=5,t.frequency=3e5,t.source="",t.length=3e3,t.colors=["0x00FF00"];break;case 7:t.width=10,t.height=5,t.frequency=1e3;break;case 8:t.width=10,t.height=10,t.background=!0,t.colors=["0x0000FF"];break;case 9:t.width=12,t.height=5,t.frequency=1e3,t.colors=["0x00FF00"],t.length=!0;break}return t},getStats:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!s["default"].prototype.$demoMode){e.next=3;break}return Y.commit("set",["stats",{uptime:3e4,resetReason:"Software/System restart",version:0,fragmentation:15,memoryFree:17920,memoryTotal:8e4,transparencyBuffer:!0,filesystemUsed:614400,filesystemTotal:207e4,maxOpenFiles:5,maxPathLength:31,width:64,height:32,vcc:65535,brightness:100,brightnessSensor:800,platform:"nodemcuv2",frequency:80}]),e.abrupt("return",!0);case 3:return e.prev=3,e.next=6,c.a.get("/stats");case 6:if(t=e.sent,"string"!==typeof t.data){e.next=10;break}return console.error("Invalid JSON response for getStats: "+t.data),e.abrupt("return",!1);case 10:return Y.commit("set",["stats",t.data]),e.abrupt("return",!0);case 14:return e.prev=14,e.t0=e["catch"](3),console.error(e.t0),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[3,14]])})))()},cleanJsonObject:function(e){for(var t in e)e.hasOwnProperty(t)&&(""===e[t]||!1===e[t]||"0x000000"===e[t]||0===e[t]||Array.isArray(e[t])&&0===e[t].length)&&delete e[t]},cleanConfig:function(e){var t=this;return this.cleanJsonObject(e),e.widgets.forEach((function(e){t.cleanJsonObject(e)})),e},bloatWidget:function(e){for(var t=this.getWidgetDefaults(),a=0,i=Object.keys(t);a<i.length;a++){var n=i[a];e[n]=e[n]||t[n]}return e},bloatConfig:function(e){for(var t in e.backgroundColor=e.backgroundColor||"0x000000",e.metric=e.metric||!1,e.vertical=e.vertical||!1,e.timezone=e.timezone||"America/Detroit",e.weatherLocation=e.weatherLocation||"",e.weatherKey=e.weatherKey||"",e.scanPattern=e.scanPattern||0,e.muxPattern=e.muxPattern||0,e.muxDelay=e.muxDelay||0,e.brightnessMode=e.brightnessMode||0,e.brightnessLower=e.brightnessLower||15,e.brightnessUpper=e.brightnessUpper||100,e.brightTime=e.brightTime||"09:00",e.darkTime=e.darkTime||"20:30",e.sensorBright=e.sensorBright||1023,e.sensorDark=e.sensorDark||750,e.fastUpdate=e.fastUpdate||!1,e.latitude=e.latitude||42.39506,e.longitude=e.longitude||-83.3695,e.widgets=e.widgets||[],e.widgets)e.widgets[t]=this.bloatWidget(e.widgets[t]);return e},getConfig:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!s["default"].prototype.$demoMode){t.next=3;break}return Y.commit("set",["configuration",e.bloatConfig({widgets:[{width:64,height:32,content:"mario",background:!0,length:1},{id:1,type:2,large:!0,xOff:31,yOff:23,width:32,height:9,colors:["0x000000"],transparent:!0}],backgroundColor:"0x00FFFF"})]),t.abrupt("return",!0);case 3:return t.prev=3,t.next=6,c.a.get("/config");case 6:if(a=t.sent,"string"!==typeof a.data){t.next=10;break}return console.error("Config file was a string: "+a.data),t.abrupt("return",!1);case 10:return Y.commit("set",["configuration",e.bloatConfig(e.cloneObject(a.data))]),t.abrupt("return",!0);case 14:return t.prev=14,t.t0=t["catch"](3),console.error(t.t0),t.abrupt("return",!1);case 18:case"end":return t.stop()}}),t,null,[[3,14]])})))()},saveConfig:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!s["default"].prototype.$demoMode){a.next=2;break}return a.abrupt("return",!0);case 2:return a.prev=2,a.next=5,c.a.post("/config",t.cleanConfig(t.cloneObject(e)),{timeout:1e4,headers:{"Content-Type":"application/json"}});case 5:return Y.commit("set",["configuration",t.cloneObject(e)]),a.abrupt("return",!0);case 9:return a.prev=9,a.t0=a["catch"](2),console.log(a.t0),a.abrupt("return",!1);case 13:case"end":return a.stop()}}),a,null,[[2,9]])})))()}}}),s["default"].prototype.$axios=c.a;var J=window.location.protocol+"//"+window.location.hostname+window.location.pathname+(""===window.location.port?"":":"+window.location.port);J.includes(":8080")&&(J="http://10.0.0.84:80"),c.a.defaults.baseURL=J,s["default"].filter("capitalize",(function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""}));var Y=new f["a"].Store({state:{configuration:null,imageData:{},images:{},loadingImage:"",stats:null,backdrop:!1,latestVersion:0},mutations:{set:function(e,t){var a=Object(i["a"])(t,2),n=a[0],r=a[1];e[n]=r},setImage:function(e,t){var a=Object(i["a"])(t,2),n=a[0],r=a[1];e["images"][n]=r}},actions:{},getters:{}}),X=[{path:"/",redirect:"/dashboard"},{path:"/dashboard",component:m["a"]},{path:"/display",component:R["a"]},{path:"/images",component:S["a"]},{path:"/edit_image/:name",component:O["a"]},{path:"/update",component:u["a"]},{path:"/controls",component:j["a"]},{path:"/editor",component:T["a"]},{path:"/settings",component:D["a"]},{path:"/backup",component:E["a"]}],K=new l["a"]({routes:X});new s["default"]({router:K,store:Y,render:function(e){return e(o["a"])}}).$mount("#app")}.call(this,a("b639").Buffer)},5777:function(e,t,a){},5835:function(e,t,a){},"5a89":function(e,t,a){"use strict";var i=a("46ea"),n=a.n(i);n.a},"66a9":function(e,t,a){},"6f9c":function(e,t,a){"use strict";var i=a("48ba"),n=a.n(i);n.a},"794c":function(e,t,a){},"7a52":function(e,t,a){"use strict";var i=a("224a"),n=a.n(i);n.a},"7e08":function(e,t,a){"use strict";var i=a("66a9"),n=a.n(i);n.a},"8a55":function(e,t,a){},"8aca":function(e,t,a){"use strict";var i=a("bd18"),n=a.n(i);n.a},"96cd":function(e,t,a){"use strict";var i=a("2171"),n=a.n(i);n.a},"9ed7":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("canvas",{ref:"canvas",style:{width:e.canvasWidth+"px",height:e.canvasHeight+"px"},attrs:{width:e.canvasWidth,height:e.canvasHeight}})]),e.progressBar&&this.$store.state.loadingImage===e.image?a("div",{staticClass:"progress-bar"},[a("md-progress-bar",{staticClass:"md-accent",attrs:{"md-mode":"indeterminate"}})],1):e._e()])},n=[],r=(a("4795"),a("96cf"),a("1da1")),s={name:"ImagePreview",props:["image","frame","frames","pixelSize","progressBar","interval","canvasHeight","canvasWidth"],data:function(){return{canvas:null,width:64,height:32,drawn:!1,offset:0,timer:null}},watch:{image:function(e){var t=this;e&&0!==e.length&&this.waitForImage(e).then((function(){t.reset(t.$store.state.images[e])}))},frame:function(e){this.handlePropChange()},frames:function(e){this.handlePropChange()},interval:function(e){this.handlePropChange()}},methods:{handlePropChange:function(){var e=this;this.sleep(1).then((function(){e.reset(e.$store.state.images[e.image])}))},reset:function(e){this.timer&&clearInterval(this.timer),this.frames>1&&this.interval>0&&(this.timer=setInterval(this.animate,this.interval)),this.offset=0,this.height=this.$store.state.imageData[this.image].height,this.width=this.$store.state.imageData[this.image].width,this.drawImage(e)},animate:function(){this.offset++,this.offset>this.frames-1&&(this.offset=0),this.drawImage(this.$store.state.images[this.image])},drawImage:function(e){if(e){for(var t=0;t<this.height;t++)for(var a=0;a<this.width;a++)this.canvas.fillStyle=e[(this.frame+this.offset)*this.width*this.height+t*this.width+a],this.canvas.fillRect(a*this.pixelSize,t*this.pixelSize,this.pixelSize,this.pixelSize);this.drawn=!0}else console.warn("No data to draw")}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.canvas=e.$refs["canvas"].getContext("2d"),t.next=3,e.waitForImageData();case 3:if(e.image&&0!==e.image.length){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,e.waitForImage(e.image);case 7:e.reset(e.$store.state.images[e.image]);case 8:case"end":return t.stop()}}),t)})))()},created:function(){var e=this;this.unsubscribe=this.$store.subscribe((function(t,a){"setImage"===t.type&&t.payload[0]===e.image&&e.reset(t.payload[1])}))},beforeDestroy:function(){this.unsubscribe(),clearInterval(this.timer)}},o=s,d=(a("8aca"),a("2877")),c=Object(d["a"])(o,i,n,!1,null,"11f008ce",null);t["a"]=c.exports},a4da:function(e,t,a){"use strict";var i=a("3f9c"),n=a.n(i);n.a},a655:function(e,t,a){"use strict";var i=a("0d60"),n=a.n(i);n.a},a760:function(e,t,a){"use strict";var i=a("5835"),n=a.n(i);n.a},b6222:function(e,t,a){"use strict";var i=a("794c"),n=a.n(i);n.a},bd18:function(e,t,a){},c75a:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("md-card",[a("h1",[e._v("Controls")]),e._l(e.commands,(function(t,i){return a("div",[a("md-button",{staticClass:"md-accent md-raised",on:{click:function(t){return e.sendCommand(i)}}},[e._v(e._s(i))]),a("md-tooltip",{attrs:{"md-delay":"500","md-direction":"left"}},[e._v(" "+e._s(t.tooltip)+" ")])],1)}))],2)],1)},n=[],r=(a("96cf"),a("1da1")),s={name:"Controls",data:function(){return{commands:{"Full Display Refresh":{url:"/fullRefresh",tooltip:"Fully re-draw the display"},"Force Update Widgets":{url:"/forceUpdate",tooltip:"Force all widgets to update"},"Refresh Weather":{url:"/refreshWeather",tooltip:"Refresh current weather data"},"Refresh Sunrise/Sunset":{url:"/refreshSunMoon",tooltip:"Refresh the sunset/sunrise times"},"Refresh Timezone":{url:"/refreshTimezone",tooltip:"Refresh the timezone offset"},"Refresh Time":{url:"/refreshTime",tooltip:"Refresh the current time"},"Restart Display":{url:"/restart",tooltip:"Restart the display"},"Delete all Images":{url:"/deleteAllImages",tooltip:"Delete all custom images"},"Reset Display Configuration":{url:"/resetConfiguration",tooltip:"Reset display configuration file"},"Factory Reset Display":{url:"/factoryReset",tooltip:"Reset display configuration and erase custom images"}}}},methods:{sendCommand:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.confirm("Send Command","Are you sure you want to send command '".concat(e,"'?"));case 2:if(a.sent){a.next=4;break}return a.abrupt("return");case 4:return a.prev=4,a.next=7,t.$axios.post(t.commands[e].url);case 7:i=a.sent,200!==i.status&&t.error("Error","Failed to send command to display."),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](4),t.error("Error","Failed to send command to display: "+a.t0),console.error(a.t0);case 15:case"end":return a.stop()}}),a,null,[[4,11]])})))()}}},o=s,d=(a("7a52"),a("2877")),c=Object(d["a"])(o,i,n,!1,null,"127353ae",null);t["a"]=c.exports},ceb0:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"md-layout md-alignment-center-center"},[a("md-card",{staticClass:"json-editor md-layout-item"},[a("h1",[e._v("Configuration Editor")]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("md-button",{staticClass:"wide md-accent md-raised",on:{click:e.manualReload}},[e._v("Reload")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Reload display configuration ")])],1),a("div",{staticClass:"md-layout-item"},[a("md-button",{staticClass:"wide md-accent md-raised",on:{click:e.manualSave}},[e._v("Save")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Save display configuration ")])],1),a("div",{staticClass:"md-layout-item"},[a("md-checkbox",{staticClass:"md-accent",on:{change:e.changeAutoSave},model:{value:e.autoSave,callback:function(t){e.autoSave=t},expression:"autoSave"}},[e._v("Auto-Save")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Enable auto-saving with each change ")])],1)]),a("JsonEditor",{attrs:{options:{confirmText:"Confirm",cancelText:"Cancel"},objData:e.jsonData},model:{value:e.jsonData,callback:function(t){e.jsonData=t},expression:"jsonData"}})],1)],1)},n=[],r=(a("96cf"),a("1da1")),s={name:"Editor",data:function(){return{jsonData:{},autoSave:!1}},watch:{jsonData:function(e){this.autoSave&&this.save(e)}},methods:{changeAutoSave:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.autoSave){t.next=9;break}return t.next=3,e.confirm("Auto-Save","Are you sure you want to enable autosaving? This will instantly overwrite the display configuration upon config changes.");case 3:if(!t.sent){t.next=8;break}return t.next=6,e.save(e.jsonData);case 6:t.next=9;break;case 8:e.autoSave=!1;case 9:case"end":return t.stop()}}),t)})))()},manualSave:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.confirm("Save Config","Are you sure you want to overwrite the current configuration?");case 2:if(!t.sent){t.next=5;break}return t.next=5,e.save(e.jsonData);case 5:case"end":return t.stop()}}),t)})))()},save:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.saveConfig(e);case 2:case"end":return a.stop()}}),a)})))()},manualReload:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.t0=e.areObjectsEqual(e.$store.state.configuration,e.jsonData),t.t0){t.next=5;break}return t.next=4,e.confirm("Reload Config","Are you sure you want to reload the configuration file? Unsaved changes will be lost.");case 4:t.t0=t.sent;case 5:if(!t.t0){t.next=8;break}return t.next=8,e.reload();case 8:case"end":return t.stop()}}),t)})))()},reload:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.autoSave=!1,t.next=3,e.getConfig();case 3:e.jsonData=e.cloneObject(e.$store.state.configuration);case 4:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.reload();case 2:case"end":return t.stop()}}),t)})))()}},o=s,d=(a("6f9c"),a("2877")),c=Object(d["a"])(o,i,n,!1,null,"5cb8d1dd",null);t["a"]=c.exports},d0c6:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("md-card",[a("md-card-header",[a("h1",[e._v(" Backup and Restore ")])]),a("h3",[e._v("Backup Display Configuration")]),a("div",{staticClass:"inline-centered"},[a("md-button",{staticClass:"md-accent md-raised",attrs:{disabled:e.restoring},on:{click:e.downloadBackup}},[e._v("Download Backup")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Download a display configuration backup ")])],1),a("h3",{staticStyle:{"margin-top":"30px"}},[e._v("Restore Display Configuration")]),a("md-field",[a("label",[e._v("Backup File")]),a("md-file",{attrs:{accept:".zip",disabled:e.restoring},on:{"md-change":e.uploadFile}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Backup file to restore from ")])],1),a("div",{staticClass:"inline-centered"},[a("md-button",{staticClass:"md-accent md-raised",attrs:{disabled:e.restoring},on:{click:e.upload}},[e._v("Restore Backup")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Restore display configuration from backup file ")])],1)],1)],1)},n=[],r=(a("96cf"),a("1da1")),s={name:"Backup",data:function(){return{file:null,restoring:!1}},methods:{uploadFile:function(e){0!==e.length&&(this.file=e[0])},upload:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.file){t.next=2;break}return t.abrupt("return");case 2:return e.restoring=!0,t.t0=e,t.next=6,e.file.arrayBuffer();case 6:return t.t1=t.sent,t.next=9,t.t0.loadBackup.call(t.t0,t.t1);case 9:e.restoring=!1;case 10:case"end":return t.stop()}}),t)})))()}}},o=s,d=(a("7e08"),a("2877")),c=Object(d["a"])(o,i,n,!1,null,"7ef3a2b4",null);t["a"]=c.exports},f25a:function(e,t,a){"use strict";var i=a("1393"),n=a.n(i);n.a},f9ea:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("md-card",[a("h1",[e._v("Settings")]),a("div",[a("div",{staticClass:"inline-centered"},[a("md-button",{staticClass:"md-accent md-raised",on:{click:e.confirmReload}},[e._v("Reload")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Reload display settings ")])],1),a("div",{staticClass:"inline-centered"},[a("md-button",{staticClass:"md-accent md-raised",on:{click:e.confirmSave}},[e._v("Save")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Save display settings ")])],1)]),e.config?a("div",{staticClass:"fields"},[a("div",[a("md-switch",{model:{value:e.config.metric,callback:function(t){e.$set(e.config,"metric",t)},expression:"config.metric"}},[e._v("Metric Units")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Use metric units ")])],1),a("div",[a("md-switch",{model:{value:e.config.vertical,callback:function(t){e.$set(e.config,"vertical",t)},expression:"config.vertical"}},[e._v("Vertical Orientation")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Render display vertically ")])],1),a("div",[a("md-switch",{model:{value:e.config.fastUpdate,callback:function(t){e.$set(e.config,"fastUpdate",t)},expression:"config.fastUpdate"}},[e._v("Fast Update Display")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" PxMatrix Fast Update mode ")])],1),a("md-field",[a("label",[e._v("WeatherMap API Key")]),a("md-input",{model:{value:e.config.weatherKey,callback:function(t){e.$set(e.config,"weatherKey",t)},expression:"config.weatherKey"}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" OpenWeatherMap API key ")])],1),a("md-field",[a("label",[e._v("WeatherMap Location")]),a("md-input",{model:{value:e.config.weatherLocation,callback:function(t){e.$set(e.config,"weatherLocation",t)},expression:"config.weatherLocation"}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" OpenWeatherMap location id ")])],1),a("div",[a("md-switch",{on:{change:e.changeAutoTimezone},model:{value:e.automaticTimezone,callback:function(t){e.automaticTimezone=t},expression:"automaticTimezone"}},[e._v("Automatic IP Based Timezone")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Get timezone from IP country ")])],1),e.automaticTimezone?e._e():a("md-autocomplete",{attrs:{"md-options":e.timezones},model:{value:e.config.timezone,callback:function(t){e.$set(e.config,"timezone",t)},expression:"config.timezone"}},[a("label",[e._v("Timezone")]),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Timezone location ")])],1),a("md-field",[a("label",[e._v("Scan Pattern")]),a("md-select",{model:{value:e.config.scanPattern,callback:function(t){e.$set(e.config,"scanPattern",e._n(t))},expression:"config.scanPattern"}},[a("md-option",{attrs:{value:0}},[e._v("LINE")]),a("md-option",{attrs:{value:1}},[e._v("ZIGZAG")]),a("md-option",{attrs:{value:2}},[e._v("ZZAGG")]),a("md-option",{attrs:{value:3}},[e._v("ZAGGIZ")]),a("md-option",{attrs:{value:4}},[e._v("WZAGZIG")]),a("md-option",{attrs:{value:5}},[e._v("VZAG")]),a("md-option",{attrs:{value:6}},[e._v("ZAGZIG")])],1),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" The PxMatrix scan pattern ")])],1),a("md-field",[a("label",[e._v("Mux Pattern")]),a("md-select",{model:{value:e.config.muxPattern,callback:function(t){e.$set(e.config,"muxPattern",e._n(t))},expression:"config.muxPattern"}},[a("md-option",{attrs:{value:0}},[e._v("BINARY")]),a("md-option",{attrs:{value:1}},[e._v("STRAIGHT")])],1),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" The PxMatrix mux pattern ")])],1),a("md-field",[a("label",[e._v("Mux Delay")]),a("md-input",{attrs:{min:0,type:"number"},model:{value:e.config.muxDelay,callback:function(t){e.$set(e.config,"muxDelay",e._n(t))},expression:"config.muxDelay"}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" The PxMatrix mux delay ")])],1),a("md-field",[a("label",[e._v("Brightness Mode")]),a("md-select",{model:{value:e.config.brightnessMode,callback:function(t){e.$set(e.config,"brightnessMode",e._n(t))},expression:"config.brightnessMode"}},[a("md-option",{attrs:{value:0}},[e._v("Static")]),a("md-option",{attrs:{value:1}},[e._v("Brightness Sensor")]),a("md-option",{attrs:{value:2}},[e._v("Time of Day")]),a("md-option",{attrs:{value:3}},[e._v("Sunrise")])],1),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" The display brightness control mode ")])],1),0!==e.config.brightnessMode?a("div",{staticClass:"input"},[a("label",{staticClass:"label"},[e._v("Lower Brightness")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.brightnessLower,expression:"config.brightnessLower",modifiers:{number:!0}}],staticClass:"slider",attrs:{min:"1",type:"range"},domProps:{value:e.config.brightnessLower},on:{__r:function(t){e.$set(e.config,"brightnessLower",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "+e._s(e.config.brightnessLower)+"% "),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" The lower brightness percentage ")])],1):e._e(),a("div",{staticClass:"input"},[0===e.config.brightnessMode?a("label",{staticClass:"label"},[e._v("Brightness")]):a("label",{staticClass:"label"},[e._v("Upper Brightness")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.brightnessUpper,expression:"config.brightnessUpper",modifiers:{number:!0}}],staticClass:"slider",attrs:{min:"1",type:"range"},domProps:{value:e.config.brightnessUpper},on:{__r:function(t){e.$set(e.config,"brightnessUpper",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "+e._s(e.config.brightnessUpper)+"% "),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" The higher brightness percentage ")])],1),1===e.config.brightnessMode?a("div",[a("md-field",[a("label",[e._v("Max Sensor Brightness")]),a("md-input",{attrs:{max:1023},model:{value:e.config.sensorBright,callback:function(t){e.$set(e.config,"sensorBright",e._n(t))},expression:"config.sensorBright"}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" The higher brightness sensor value ")])],1),a("md-field",[a("label",[e._v("Min Sensor Brightness")]),a("md-input",{attrs:{min:0},model:{value:e.config.sensorDark,callback:function(t){e.$set(e.config,"sensorDark",e._n(t))},expression:"config.sensorDark"}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" The lower brightness sensor value ")])],1)],1):e._e(),2===e.config.brightnessMode?a("div",[a("div",{staticClass:"input"},[a("label",{staticClass:"label"},[e._v("Brightening Time")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.config.brightTime,expression:"config.brightTime"}],staticClass:"time",attrs:{type:"time"},domProps:{value:e.config.brightTime},on:{input:function(t){t.target.composing||e.$set(e.config,"brightTime",t.target.value)}}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" The time of day to brighten display ")])],1),a("div",{staticClass:"input"},[a("label",{staticClass:"label"},[e._v("Dimming Time")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.config.darkTime,expression:"config.darkTime"}],staticClass:"time",attrs:{type:"time"},domProps:{value:e.config.darkTime},on:{input:function(t){t.target.composing||e.$set(e.config,"darkTime",t.target.value)}}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" The time of day to dim display ")])],1)]):e._e(),3===e.config.brightnessMode?a("div",[a("md-field",[a("label",[e._v("Longitude")]),a("md-input",{model:{value:e.config.longitude,callback:function(t){e.$set(e.config,"longitude",e._n(t))},expression:"config.longitude"}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Geographic longitude coordinate ")])],1),a("md-field",[a("label",[e._v("Latitude")]),a("md-input",{model:{value:e.config.latitude,callback:function(t){e.$set(e.config,"latitude",e._n(t))},expression:"config.latitude"}}),a("md-tooltip",{attrs:{"md-delay":"1000","md-direction":"bottom"}},[e._v(" Geographic latitude coordinate ")])],1)],1):e._e()],1):e._e()])],1)},n=[],r=(a("96cf"),a("1da1")),s=a("7f45"),o=a.n(s),d={name:"Settings",data:function(){return{config:{},timezones:[],automaticTimezone:!1}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.timezones=o.a.tz.names(),t.next=3,e.reload();case 3:case"end":return t.stop()}}),t)})))()},methods:{changeAutoTimezone:function(e){this.config.timezone=e?"GeoIP":"America/Detroit"},confirmReload:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.t0=e.areObjectsEqual(e.$store.state.configuration,e.config),t.t0){t.next=5;break}return t.next=4,e.confirm("Reload Settings","Are you sure you want to reload the settings? This will erase unsaved changes.");case 4:t.t0=t.sent;case 5:if(!t.t0){t.next=8;break}return t.next=8,e.reload();case 8:case"end":return t.stop()}}),t)})))()},reload:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.waitForPromiseSuccess(e.getConfig,500);case 2:e.config=e.cloneObject(e.$store.state.configuration),e.automaticTimezone=0===e.config.timezone.length;case 4:case"end":return t.stop()}}),t)})))()},confirmSave:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.confirm("Save Settings","Are you sure you want to update the display settings? This will overwrite the current settings.");case 2:if(!t.sent){t.next=5;break}return t.next=5,e.save();case 5:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.saveConfig(e.config);case 2:if(!t.sent){t.next=8;break}return e.info("Saved Settings","Successfully updated display settings."),t.next=6,e.getStats();case 6:t.next=9;break;case 8:e.error("Error","Failed to update display settings.");case 9:case"end":return t.stop()}}),t)})))()}}},c=d,l=(a("a760"),a("2877")),m=Object(l["a"])(c,i,n,!1,null,"c672f33c",null);t["a"]=m.exports},ff97:function(e,t,a){"use strict";var i=a("5777"),n=a.n(i);n.a}});
//# sourceMappingURL=app.js.map